"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_app_components_register-form_tsx";
exports.ids = ["_ssr_app_components_register-form_tsx"];
exports.modules = {

/***/ "(ssr)/./app/components/register-form.tsx":
/*!******************************************!*\
  !*** ./app/components/register-form.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RegisterForm: () => (/* binding */ RegisterForm)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constant */ \"(ssr)/./app/constant.ts\");\n/* harmony import */ var _api_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api/user */ \"(ssr)/./app/api/user.ts\");\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-hook-form */ \"(ssr)/./node_modules/react-hook-form/dist/index.esm.mjs\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-dom */ \"(ssr)/./node_modules/react-router-dom/dist/umd/react-router-dom.development.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _hooks_useToast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hooks/useToast */ \"(ssr)/./app/hooks/useToast.ts\");\n/* harmony import */ var _hooks_useSendCode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../hooks/useSendCode */ \"(ssr)/./app/hooks/useSendCode.ts\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/form-control/dist/chunk-R42ZB7PB.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/input/dist/chunk-6CVSDS6C.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/form-control/dist/chunk-WWJYOSXC.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/button/dist/chunk-UVUR7MCU.mjs\");\n/*\n * :file description:\n * :name: /chatgpt/app/components/register-form.tsx\n * :author: 张德志\n * :copyright: (c) 2023, Tungee\n * :date created: 2023-08-13 16:12:11\n * :last editor: 张德志\n * :date last edited: 2023-08-16 04:24:49\n */ \n\n\n\n\n\n\n\n\nconst inputStyle = {\n    maxWidth: \"100%\",\n    borderRadius: \"4px\",\n    textAlign: \"left\"\n};\nfunction RegisterForm({ setPageType }) {\n    const [requesting, setRequesting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { register, handleSubmit, getValues, trigger, formState: { errors } } = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_6__.useForm)({\n        mode: \"onBlur\"\n    });\n    const { toast } = (0,_hooks_useToast__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.useNavigate)();\n    const { codeSending, sendCodeText, sendCode, codeCountDown } = (0,_hooks_useSendCode__WEBPACK_IMPORTED_MODULE_5__.useSendCode)();\n    const onclickSendCode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const check = await trigger(\"username\");\n        if (!check) return;\n        sendCode({\n            username: getValues(\"username\"),\n            type: \"register\"\n        });\n    }, [\n        getValues,\n        sendCode,\n        trigger\n    ]);\n    const onclickRegister = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ({ username, password, code })=>{\n        setRequesting(true);\n        const res = await (0,_api_user__WEBPACK_IMPORTED_MODULE_3__.postRegister)({\n            username,\n            code,\n            password,\n            inviterId: localStorage.getItem(\"inviterId\") || \"\"\n        });\n        if (res.code === 200) {\n            toast({\n                title: `注册成功`,\n                status: \"success\"\n            });\n            setPageType(_constant__WEBPACK_IMPORTED_MODULE_2__.PageTypeEnum.login);\n            return;\n        }\n        toast({\n            title: res.message || \"注册异常\",\n            status: \"error\"\n        });\n        setRequesting(false);\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.Box, {\n                fontWeight: \"bold\",\n                fontSize: \"2xl\",\n                textAlign: \"center\",\n                children: \"注册千知GPT账号\"\n            }, void 0, false, {\n                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                lineNumber: 92,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit(onclickRegister),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.FormControl, {\n                        mt: 5,\n                        isInvalid: !!errors.username,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.Input, {\n                                placeholder: \"邮箱/手机号\",\n                                style: inputStyle,\n                                ...register(\"username\", {\n                                    required: \"邮箱/手机号不能为空\",\n                                    pattern: {\n                                        value: /(^1[3456789]\\d{9}$)|(^[A-Za-z0-9]+([_\\.][A-Za-z0-9]+)*@([A-Za-z0-9\\-]+\\.)+[A-Za-z]{2,6}$)/,\n                                        message: \"邮箱/手机号格式错误\"\n                                    }\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                lineNumber: 97,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.FormErrorMessage, {\n                                position: \"absolute\",\n                                fontSize: \"xs\",\n                                children: !!errors.username && errors.username.message\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                lineNumber: 109,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                        lineNumber: 96,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.FormControl, {\n                        mt: 8,\n                        isInvalid: !!errors.username,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.Flex, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.Input, {\n                                        flex: 1,\n                                        placeholder: \"验证码\",\n                                        ...register(\"code\", {\n                                            required: \"验证码不能为空\"\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                        lineNumber: 115,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.Button, {\n                                        ml: 5,\n                                        w: \"145px\",\n                                        maxW: \"50%\",\n                                        onClick: onclickSendCode,\n                                        isDisabled: codeCountDown > 0,\n                                        isLoading: codeSending,\n                                        children: sendCodeText\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                        lineNumber: 123,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                lineNumber: 114,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.FormErrorMessage, {\n                                position: \"absolute\",\n                                fontSize: \"xs\",\n                                children: !!errors.code && errors.code.message\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                lineNumber: 135,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                        lineNumber: 113,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.FormControl, {\n                        mt: 8,\n                        isInvalid: !!errors.password,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.Input, {\n                                style: inputStyle,\n                                type: \"password\",\n                                placeholder: \"密码\",\n                                ...register(\"password\", {\n                                    required: \"密码不能为空\",\n                                    minLength: {\n                                        value: 4,\n                                        message: \"密码最少4位最多12位\"\n                                    },\n                                    maxLength: {\n                                        value: 12,\n                                        message: \"密码最少4位最多12位\"\n                                    }\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                lineNumber: 140,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.FormErrorMessage, {\n                                position: \"absolute\",\n                                fontSize: \"xs\",\n                                children: !!errors.password && errors.password.message\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                lineNumber: 156,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                        lineNumber: 139,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.FormControl, {\n                        mt: 8,\n                        isInvalid: !!errors.password2,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.Input, {\n                                style: inputStyle,\n                                type: \"password\",\n                                placeholder: \"确认密码\",\n                                ...register(\"password2\", {\n                                    validate: (val)=>getValues(\"password\") === val ? true : \"两次密码不一致\"\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                lineNumber: 161,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.FormErrorMessage, {\n                                position: \"absolute\",\n                                fontSize: \"xs\",\n                                children: !!errors.password2 && errors.password2.message\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                                lineNumber: 170,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                        lineNumber: 160,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.Box, {\n                        float: \"right\",\n                        fontSize: \"sm\",\n                        mt: 2,\n                        color: \"myBlue.600\",\n                        cursor: \"pointer\",\n                        _hover: {\n                            textDecoration: \"underline\"\n                        },\n                        onClick: ()=>setPageType(_constant__WEBPACK_IMPORTED_MODULE_2__.PageTypeEnum.login),\n                        children: \"已有账号，去登录\"\n                    }, void 0, false, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                        lineNumber: 174,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.Button, {\n                        type: \"submit\",\n                        mt: 5,\n                        w: \"100%\",\n                        size: [\n                            \"md\",\n                            \"lg\"\n                        ],\n                        colorScheme: \"blue\",\n                        isLoading: requesting,\n                        children: \"确认注册\"\n                    }, void 0, false, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                        lineNumber: 185,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/register-form.tsx\",\n                lineNumber: 95,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxJQUFJLE9BQWdCQSxTQUFTLENBQUN0QixPQUFPOzs7Ozs7Ozs7Ozs7a0NBR3JFLDhEQUFDeEMsaURBQUdBO3dCQUNGaUUsT0FBTzt3QkFDUHZCLFVBQVM7d0JBQ1RHLElBQUk7d0JBQ0pxQixPQUFPO3dCQUNQQyxRQUFRO3dCQUNSQyxRQUFROzRCQUFFQyxnQkFBZ0I7d0JBQVk7d0JBQ3RDWixTQUFTLElBQU0vQyxZQUFZakIsbURBQVlBLENBQUM4QyxLQUFLO2tDQUM5Qzs7Ozs7O2tDQUdELDhEQUFDckMscURBQU1BO3dCQUNMMkIsTUFBSzt3QkFDTGdCLElBQUk7d0JBQ0pVLEdBQUc7d0JBQ0hlLE1BQU07NEJBQUM7NEJBQU07eUJBQUs7d0JBQ2xCQyxhQUFZO3dCQUNaWixXQUFXaEQ7a0NBQ1o7Ozs7Ozs7Ozs7Ozs7O0FBTVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0Z3B0Ly4vYXBwL2NvbXBvbmVudHMvcmVnaXN0ZXItZm9ybS50c3g/MDAyZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogOmZpbGUgZGVzY3JpcHRpb246XG4gKiA6bmFtZTogL2NoYXRncHQvYXBwL2NvbXBvbmVudHMvcmVnaXN0ZXItZm9ybS50c3hcbiAqIDphdXRob3I6IOW8oOW+t+W/l1xuICogOmNvcHlyaWdodDogKGMpIDIwMjMsIFR1bmdlZVxuICogOmRhdGUgY3JlYXRlZDogMjAyMy0wOC0xMyAxNjoxMjoxMVxuICogOmxhc3QgZWRpdG9yOiDlvKDlvrflv5dcbiAqIDpkYXRlIGxhc3QgZWRpdGVkOiAyMDIzLTA4LTE2IDA0OjI0OjQ5XG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgRGlzcGF0Y2gsIHVzZUNhbGxiYWNrLCBDU1NQcm9wZXJ0aWVzIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBQYWdlVHlwZUVudW0gfSBmcm9tIFwiLi4vY29uc3RhbnRcIjtcbmltcG9ydCB7IHBvc3RSZWdpc3RlciB9IGZyb20gJy4uL2FwaS91c2VyJztcbmltcG9ydCB7IHVzZUZvcm0gfSBmcm9tIFwicmVhY3QtaG9vay1mb3JtXCI7XG5pbXBvcnQgeyB1c2VOYXZpZ2F0ZSB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBQYXRoIH0gZnJvbSBcIi4uL2NvbnN0YW50XCI7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJy4uL2hvb2tzL3VzZVRvYXN0JztcbmltcG9ydCB7IHVzZVNlbmRDb2RlIH0gZnJvbSAnLi4vaG9va3MvdXNlU2VuZENvZGUnO1xuaW1wb3J0IHtcbiAgRm9ybUNvbnRyb2wsXG4gIEJveCxcbiAgSW5wdXQsXG4gIEJ1dHRvbixcbiAgRm9ybUVycm9yTWVzc2FnZSxcbiAgRmxleCxcbn0gZnJvbSBcIkBjaGFrcmEtdWkvcmVhY3RcIjtcblxuY29uc3QgaW5wdXRTdHlsZSA9IHsgbWF4V2lkdGg6ICcxMDAlJywgYm9yZGVyUmFkaXVzOiAnNHB4JywgdGV4dEFsaWduOiAnbGVmdCcgfVxuXG5pbnRlcmZhY2UgUmVnaXN0ZXJUeXBlIHtcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbiAgcGFzc3dvcmQyOiBzdHJpbmc7XG4gIGNvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWdpc3RlclByb3BzIHtcbiAgc2V0UGFnZVR5cGU6IERpc3BhdGNoPGAke1BhZ2VUeXBlRW51bX1gPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlZ2lzdGVyRm9ybSh7IHNldFBhZ2VUeXBlIH06IFJlZ2lzdGVyUHJvcHMpIHtcbiAgY29uc3QgW3JlcXVlc3RpbmcsIHNldFJlcXVlc3RpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7XG4gICAgcmVnaXN0ZXIsXG4gICAgaGFuZGxlU3VibWl0LFxuICAgIGdldFZhbHVlcyxcbiAgICB0cmlnZ2VyLFxuICAgIGZvcm1TdGF0ZTogeyBlcnJvcnMgfVxuICB9ID0gdXNlRm9ybTxhbnk+KHtcbiAgICBtb2RlOiBcIm9uQmx1clwiLFxuICB9KTtcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBjb25zdCB7IGNvZGVTZW5kaW5nLCBzZW5kQ29kZVRleHQsIHNlbmRDb2RlLCBjb2RlQ291bnREb3duIH0gPSB1c2VTZW5kQ29kZSgpO1xuICBjb25zdCBvbmNsaWNrU2VuZENvZGUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgY2hlY2sgPSBhd2FpdCB0cmlnZ2VyKCd1c2VybmFtZScpO1xuICAgIGlmICghY2hlY2spIHJldHVybjtcbiAgICBzZW5kQ29kZSh7XG4gICAgICB1c2VybmFtZTogZ2V0VmFsdWVzKCd1c2VybmFtZScpLFxuICAgICAgdHlwZTogJ3JlZ2lzdGVyJ1xuICAgIH0pO1xuICB9LCBbZ2V0VmFsdWVzLCBzZW5kQ29kZSwgdHJpZ2dlcl0pO1xuXG4gIGNvbnN0IG9uY2xpY2tSZWdpc3RlciA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh7IHVzZXJuYW1lLCBwYXNzd29yZCwgY29kZSB9OiBSZWdpc3RlclR5cGUpID0+IHtcbiAgICAgIHNldFJlcXVlc3RpbmcodHJ1ZSk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBwb3N0UmVnaXN0ZXIoe1xuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgY29kZSxcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgIGludml0ZXJJZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ludml0ZXJJZCcpIHx8ICcnXG4gICAgICB9KTtcbiAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogYOazqOWGjOaIkOWKn2AsXG4gICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcydcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFBhZ2VUeXBlKFBhZ2VUeXBlRW51bS5sb2dpbik7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogcmVzLm1lc3NhZ2UgfHwgJ+azqOWGjOW8guW4uCcsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJ1xuICAgICAgfSk7XG4gICAgICBzZXRSZXF1ZXN0aW5nKGZhbHNlKTtcbiAgICB9LFxuICAgIFtdXG4gICk7XG5cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8Qm94IGZvbnRXZWlnaHQ9e1wiYm9sZFwifSBmb250U2l6ZT17XCIyeGxcIn0gdGV4dEFsaWduPXtcImNlbnRlclwifT5cbiAgICAgICAg5rOo5YaM5Y2D55+lR1BU6LSm5Y+3XG4gICAgICA8L0JveD5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQob25jbGlja1JlZ2lzdGVyKX0+XG4gICAgICAgIDxGb3JtQ29udHJvbCBtdD17NX0gaXNJbnZhbGlkPXshIWVycm9ycy51c2VybmFtZX0+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIumCrueusS/miYvmnLrlj7dcIlxuICAgICAgICAgICAgc3R5bGU9e2lucHV0U3R5bGUgYXMgQ1NTUHJvcGVydGllc31cbiAgICAgICAgICAgIHsuLi5yZWdpc3RlcihcInVzZXJuYW1lXCIsIHtcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwi6YKu566xL+aJi+acuuWPt+S4jeiDveS4uuepulwiLFxuICAgICAgICAgICAgICBwYXR0ZXJuOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6XG4gICAgICAgICAgICAgICAgICAvKF4xWzM0NTY3ODldXFxkezl9JCl8KF5bQS1aYS16MC05XSsoW19cXC5dW0EtWmEtejAtOV0rKSpAKFtBLVphLXowLTlcXC1dK1xcLikrW0EtWmEtel17Miw2fSQpLyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIumCrueusS/miYvmnLrlj7fmoLzlvI/plJnor69cIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgIDxGb3JtRXJyb3JNZXNzYWdlIHBvc2l0aW9uPXtcImFic29sdXRlXCJ9IGZvbnRTaXplPVwieHNcIj5cbiAgICAgICAgICAgIHshIShlcnJvcnMgYXMgYW55KS51c2VybmFtZSAmJiAoZXJyb3JzIGFzIGFueSkudXNlcm5hbWUubWVzc2FnZX1cbiAgICAgICAgICA8L0Zvcm1FcnJvck1lc3NhZ2U+XG4gICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgIDxGb3JtQ29udHJvbCBtdD17OH0gaXNJbnZhbGlkPXshIWVycm9ycy51c2VybmFtZX0+XG4gICAgICAgICAgPEZsZXg+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgZmxleD17MX1cblxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIumqjOivgeeggVwiXG4gICAgICAgICAgICAgIHsuLi5yZWdpc3RlcihcImNvZGVcIiwge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBcIumqjOivgeeggeS4jeiDveS4uuepulwiLFxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgID48L0lucHV0PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBtbD17NX1cbiAgICAgICAgICAgICAgdz17XCIxNDVweFwifVxuICAgICAgICAgICAgICBtYXhXPXtcIjUwJVwifVxuXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uY2xpY2tTZW5kQ29kZX1cbiAgICAgICAgICAgICAgaXNEaXNhYmxlZD17Y29kZUNvdW50RG93biA+IDB9XG4gICAgICAgICAgICAgIGlzTG9hZGluZz17Y29kZVNlbmRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtzZW5kQ29kZVRleHR9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgPEZvcm1FcnJvck1lc3NhZ2UgcG9zaXRpb249e1wiYWJzb2x1dGVcIn0gZm9udFNpemU9XCJ4c1wiPlxuICAgICAgICAgICAgeyEhKGVycm9ycyBhcyBhbnkpLmNvZGUgJiYgKGVycm9ycyBhcyBhbnkpLmNvZGUubWVzc2FnZX1cbiAgICAgICAgICA8L0Zvcm1FcnJvck1lc3NhZ2U+XG4gICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgIDxGb3JtQ29udHJvbCBtdD17OH0gaXNJbnZhbGlkPXshIWVycm9ycy5wYXNzd29yZH0+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBzdHlsZT17aW5wdXRTdHlsZSBhcyBDU1NQcm9wZXJ0aWVzfVxuICAgICAgICAgICAgdHlwZT17XCJwYXNzd29yZFwifVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLlr4bnoIFcIlxuICAgICAgICAgICAgey4uLnJlZ2lzdGVyKFwicGFzc3dvcmRcIiwge1xuICAgICAgICAgICAgICByZXF1aXJlZDogXCLlr4bnoIHkuI3og73kuLrnqbpcIixcbiAgICAgICAgICAgICAgbWluTGVuZ3RoOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCLlr4bnoIHmnIDlsJE05L2N5pyA5aSaMTLkvY1cIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IDEyLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwi5a+G56CB5pyA5bCRNOS9jeacgOWkmjEy5L2NXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICA8Rm9ybUVycm9yTWVzc2FnZSBwb3NpdGlvbj17XCJhYnNvbHV0ZVwifSBmb250U2l6ZT1cInhzXCI+XG4gICAgICAgICAgICB7ISEoZXJyb3JzIGFzIGFueSkucGFzc3dvcmQgJiYgKGVycm9ycyBhcyBhbnkpLnBhc3N3b3JkLm1lc3NhZ2V9XG4gICAgICAgICAgPC9Gb3JtRXJyb3JNZXNzYWdlPlxuICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICA8Rm9ybUNvbnRyb2wgbXQ9ezh9IGlzSW52YWxpZD17ISFlcnJvcnMucGFzc3dvcmQyfT5cbiAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgIHN0eWxlPXtpbnB1dFN0eWxlIGFzIENTU1Byb3BlcnRpZXN9XG4gICAgICAgICAgICB0eXBlPXtcInBhc3N3b3JkXCJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuehruiupOWvhueggVwiXG4gICAgICAgICAgICB7Li4ucmVnaXN0ZXIoXCJwYXNzd29yZDJcIiwge1xuICAgICAgICAgICAgICB2YWxpZGF0ZTogKHZhbCkgPT5cbiAgICAgICAgICAgICAgICBnZXRWYWx1ZXMoXCJwYXNzd29yZFwiKSA9PT0gdmFsID8gdHJ1ZSA6IFwi5Lik5qyh5a+G56CB5LiN5LiA6Ie0XCIsXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICA8Rm9ybUVycm9yTWVzc2FnZSBwb3NpdGlvbj17XCJhYnNvbHV0ZVwifSBmb250U2l6ZT1cInhzXCI+XG4gICAgICAgICAgICB7ISEoZXJyb3JzIGFzIGFueSkucGFzc3dvcmQyICYmIChlcnJvcnMgYXMgYW55KS5wYXNzd29yZDIubWVzc2FnZX1cbiAgICAgICAgICA8L0Zvcm1FcnJvck1lc3NhZ2U+XG4gICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgIDxCb3hcbiAgICAgICAgICBmbG9hdD17XCJyaWdodFwifVxuICAgICAgICAgIGZvbnRTaXplPVwic21cIlxuICAgICAgICAgIG10PXsyfVxuICAgICAgICAgIGNvbG9yPXtcIm15Qmx1ZS42MDBcIn1cbiAgICAgICAgICBjdXJzb3I9e1wicG9pbnRlclwifVxuICAgICAgICAgIF9ob3Zlcj17eyB0ZXh0RGVjb3JhdGlvbjogXCJ1bmRlcmxpbmVcIiB9fVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFBhZ2VUeXBlKFBhZ2VUeXBlRW51bS5sb2dpbil9XG4gICAgICAgID5cbiAgICAgICAgICDlt7LmnInotKblj7fvvIzljrvnmbvlvZVcbiAgICAgICAgPC9Cb3g+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICBtdD17NX1cbiAgICAgICAgICB3PXtcIjEwMCVcIn1cbiAgICAgICAgICBzaXplPXtbXCJtZFwiLCBcImxnXCJdfVxuICAgICAgICAgIGNvbG9yU2NoZW1lPVwiYmx1ZVwiXG4gICAgICAgICAgaXNMb2FkaW5nPXtyZXF1ZXN0aW5nfVxuICAgICAgICA+XG4gICAgICAgICAg56Gu6K6k5rOo5YaMXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9mb3JtPlxuICAgIDwvPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIlBhZ2VUeXBlRW51bSIsInBvc3RSZWdpc3RlciIsInVzZUZvcm0iLCJ1c2VOYXZpZ2F0ZSIsInVzZVRvYXN0IiwidXNlU2VuZENvZGUiLCJGb3JtQ29udHJvbCIsIkJveCIsIklucHV0IiwiQnV0dG9uIiwiRm9ybUVycm9yTWVzc2FnZSIsIkZsZXgiLCJpbnB1dFN0eWxlIiwibWF4V2lkdGgiLCJib3JkZXJSYWRpdXMiLCJ0ZXh0QWxpZ24iLCJSZWdpc3RlckZvcm0iLCJzZXRQYWdlVHlwZSIsInJlcXVlc3RpbmciLCJzZXRSZXF1ZXN0aW5nIiwicmVnaXN0ZXIiLCJoYW5kbGVTdWJtaXQiLCJnZXRWYWx1ZXMiLCJ0cmlnZ2VyIiwiZm9ybVN0YXRlIiwiZXJyb3JzIiwibW9kZSIsInRvYXN0IiwibmF2aWdhdGUiLCJjb2RlU2VuZGluZyIsInNlbmRDb2RlVGV4dCIsInNlbmRDb2RlIiwiY29kZUNvdW50RG93biIsIm9uY2xpY2tTZW5kQ29kZSIsImNoZWNrIiwidXNlcm5hbWUiLCJ0eXBlIiwib25jbGlja1JlZ2lzdGVyIiwicGFzc3dvcmQiLCJjb2RlIiwicmVzIiwiaW52aXRlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInRpdGxlIiwic3RhdHVzIiwibG9naW4iLCJtZXNzYWdlIiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiZm9ybSIsIm9uU3VibWl0IiwibXQiLCJpc0ludmFsaWQiLCJwbGFjZWhvbGRlciIsInN0eWxlIiwicmVxdWlyZWQiLCJwYXR0ZXJuIiwidmFsdWUiLCJwb3NpdGlvbiIsImZsZXgiLCJtbCIsInciLCJtYXhXIiwib25DbGljayIsImlzRGlzYWJsZWQiLCJpc0xvYWRpbmciLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJwYXNzd29yZDIiLCJ2YWxpZGF0ZSIsInZhbCIsImZsb2F0IiwiY29sb3IiLCJjdXJzb3IiLCJfaG92ZXIiLCJ0ZXh0RGVjb3JhdGlvbiIsInNpemUiLCJjb2xvclNjaGVtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./app/components/register-form.tsx\n");

/***/ }),

/***/ "(ssr)/./app/hooks/useSendCode.ts":
/*!**********************************!*\
  !*** ./app/hooks/useSendCode.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSendCode: () => (/* binding */ useSendCode)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/user */ \"(ssr)/./app/api/user.ts\");\n/* harmony import */ var _useToast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useToast */ \"(ssr)/./app/hooks/useToast.ts\");\n/* harmony import */ var _utils_google__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/google */ \"(ssr)/./app/utils/google.ts\");\n/*\n * :file description: \n * :name: /chatgpt/app/hooks/useSendCode.ts\n * :author: 张德志\n * :copyright: (c) 2023, Tungee\n * :date created: 2023-08-13 21:23:04\n * :last editor: 张德志\n * :date last edited: 2023-08-15 23:41:36\n */ \n\n\n\nlet timer;\nconst useSendCode = ()=>{\n    const { toast } = (0,_useToast__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const [codeSending, setCodeSending] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [codeCountDown, setCodeCountDown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const sendCodeText = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        if (codeCountDown >= 10) {\n            return `${codeCountDown}s后重新获取`;\n        }\n        if (codeCountDown > 0) {\n            return `0${codeCountDown}s后重新获取`;\n        }\n        return \"获取验证码\";\n    }, [\n        codeCountDown\n    ]);\n    const sendCode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ({ username, type })=>{\n        setCodeSending(true);\n        try {\n            await (0,_api_user__WEBPACK_IMPORTED_MODULE_1__.sendAuthCode)({\n                username,\n                type,\n                googleToken: await (0,_utils_google__WEBPACK_IMPORTED_MODULE_3__.getClientToken)(\"123\")\n            });\n            setCodeCountDown(60);\n            timer = setInterval(()=>{\n                setCodeCountDown((val)=>{\n                    if (val <= 0) {\n                        clearInterval(timer);\n                    }\n                    return val - 1;\n                });\n            }, 1000);\n            toast({\n                title: \"验证码已发送\",\n                status: \"success\",\n                position: \"top\"\n            });\n        } catch (error) {\n            toast({\n                title: error.message || \"发送验证码异常\",\n                status: \"error\"\n            });\n        }\n        setCodeSending(false);\n    }, [\n        toast\n    ]);\n    return {\n        codeSending,\n        sendCode,\n        sendCodeText,\n        codeCountDown\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvaG9va3MvdXNlU2VuZENvZGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7O0NBUUMsR0FDc0Q7QUFDWjtBQUVMO0FBQ1c7QUFHakQsSUFBSU07QUFFRyxNQUFNQyxjQUFjO0lBRXpCLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdKLG1EQUFRQTtJQUMxQixNQUFNLENBQUNLLGFBQWFDLGVBQWUsR0FBR1YsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDVyxlQUFlQyxpQkFBaUIsR0FBR1osK0NBQVFBLENBQUM7SUFDbkQsTUFBTWEsZUFBZVosOENBQU9BLENBQUM7UUFDM0IsSUFBSVUsaUJBQWlCLElBQUk7WUFDdkIsT0FBTyxDQUFDLEVBQUVBLGNBQWMsTUFBTSxDQUFDO1FBQ2pDO1FBQ0EsSUFBSUEsZ0JBQWdCLEdBQUc7WUFDckIsT0FBTyxDQUFDLENBQUMsRUFBRUEsY0FBYyxNQUFNLENBQUM7UUFDbEM7UUFDQSxPQUFPO0lBQ1QsR0FBRztRQUFDQTtLQUFjO0lBRWxCLE1BQU1HLFdBQVdaLGtEQUFXQSxDQUMxQixPQUFPLEVBQUVhLFFBQVEsRUFBRUMsSUFBSSxFQUFxRDtRQUMxRU4sZUFBZTtRQUNmLElBQUk7WUFDRixNQUFNUCx1REFBWUEsQ0FBQztnQkFDakJZO2dCQUNBQztnQkFDQUMsYUFBYSxNQUFNWiw2REFBY0EsQ0FBQztZQUNwQztZQUNBTyxpQkFBaUI7WUFDakJOLFFBQVFZLFlBQVk7Z0JBQ2xCTixpQkFBaUIsQ0FBQ087b0JBQ2hCLElBQUlBLE9BQU8sR0FBRzt3QkFDWkMsY0FBY2Q7b0JBQ2hCO29CQUNBLE9BQU9hLE1BQU07Z0JBQ2Y7WUFDRixHQUFHO1lBQ0hYLE1BQU07Z0JBQ0phLE9BQU87Z0JBQ1BDLFFBQVE7Z0JBQ1JDLFVBQVU7WUFDWjtRQUNGLEVBQUUsT0FBT0MsT0FBWTtZQUNuQmhCLE1BQU07Z0JBQ0phLE9BQU9HLE1BQU1DLE9BQU8sSUFBSTtnQkFDeEJILFFBQVE7WUFDVjtRQUNGO1FBQ0FaLGVBQWU7SUFDakIsR0FDQTtRQUFDRjtLQUFNO0lBR1QsT0FBTztRQUNMQztRQUNBSztRQUNBRDtRQUNBRjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoYXRncHQvLi9hcHAvaG9va3MvdXNlU2VuZENvZGUudHM/NGIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogOmZpbGUgZGVzY3JpcHRpb246IFxuICogOm5hbWU6IC9jaGF0Z3B0L2FwcC9ob29rcy91c2VTZW5kQ29kZS50c1xuICogOmF1dGhvcjog5byg5b635b+XXG4gKiA6Y29weXJpZ2h0OiAoYykgMjAyMywgVHVuZ2VlXG4gKiA6ZGF0ZSBjcmVhdGVkOiAyMDIzLTA4LTEzIDIxOjIzOjA0XG4gKiA6bGFzdCBlZGl0b3I6IOW8oOW+t+W/l1xuICogOmRhdGUgbGFzdCBlZGl0ZWQ6IDIwMjMtMDgtMTUgMjM6NDE6MzZcbiAqL1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc2VuZEF1dGhDb2RlIH0gZnJvbSAnLi4vYXBpL3VzZXInO1xuaW1wb3J0IHsgVXNlckF1dGhUeXBlRW51bSB9IGZyb20gJy4uL2NvbnN0YW50JztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnLi91c2VUb2FzdCc7XG5pbXBvcnQgeyBnZXRDbGllbnRUb2tlbiB9IGZyb20gJy4uL3V0aWxzL2dvb2dsZSc7XG5pbXBvcnQgeyB1c2VHbG9iYWxTdG9yZSB9IGZyb20gJy4uL3N0b3JlL2dsb2JhbCc7XG5cbmxldCB0aW1lcjogYW55O1xuXG5leHBvcnQgY29uc3QgdXNlU2VuZENvZGUgPSAoKSA9PiB7XG5cbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgW2NvZGVTZW5kaW5nLCBzZXRDb2RlU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb2RlQ291bnREb3duLCBzZXRDb2RlQ291bnREb3duXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBzZW5kQ29kZVRleHQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoY29kZUNvdW50RG93biA+PSAxMCkge1xuICAgICAgcmV0dXJuIGAke2NvZGVDb3VudERvd259c+WQjumHjeaWsOiOt+WPlmA7XG4gICAgfVxuICAgIGlmIChjb2RlQ291bnREb3duID4gMCkge1xuICAgICAgcmV0dXJuIGAwJHtjb2RlQ291bnREb3dufXPlkI7ph43mlrDojrflj5ZgO1xuICAgIH1cbiAgICByZXR1cm4gJ+iOt+WPlumqjOivgeeggSc7XG4gIH0sIFtjb2RlQ291bnREb3duXSk7XG5cbiAgY29uc3Qgc2VuZENvZGUgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoeyB1c2VybmFtZSwgdHlwZSB9OiB7IHVzZXJuYW1lOiBzdHJpbmc7IHR5cGU6IGAke1VzZXJBdXRoVHlwZUVudW19YCB9KSA9PiB7XG4gICAgICBzZXRDb2RlU2VuZGluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNlbmRBdXRoQ29kZSh7XG4gICAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBnb29nbGVUb2tlbjogYXdhaXQgZ2V0Q2xpZW50VG9rZW4oJzEyMycpXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRDb2RlQ291bnREb3duKDYwKTtcbiAgICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgc2V0Q29kZUNvdW50RG93bigodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsIDw9IDApIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsIC0gMTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogJ+mqjOivgeeggeW3suWPkemAgScsXG4gICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgcG9zaXRpb246ICd0b3AnXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6IGVycm9yLm1lc3NhZ2UgfHwgJ+WPkemAgemqjOivgeeggeW8guW4uCcsXG4gICAgICAgICAgc3RhdHVzOiAnZXJyb3InXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc2V0Q29kZVNlbmRpbmcoZmFsc2UpO1xuICAgIH0sXG4gICAgW3RvYXN0XVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgY29kZVNlbmRpbmcsXG4gICAgc2VuZENvZGUsXG4gICAgc2VuZENvZGVUZXh0LFxuICAgIGNvZGVDb3VudERvd25cbiAgfTtcbn07XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VNZW1vIiwidXNlQ2FsbGJhY2siLCJzZW5kQXV0aENvZGUiLCJ1c2VUb2FzdCIsImdldENsaWVudFRva2VuIiwidGltZXIiLCJ1c2VTZW5kQ29kZSIsInRvYXN0IiwiY29kZVNlbmRpbmciLCJzZXRDb2RlU2VuZGluZyIsImNvZGVDb3VudERvd24iLCJzZXRDb2RlQ291bnREb3duIiwic2VuZENvZGVUZXh0Iiwic2VuZENvZGUiLCJ1c2VybmFtZSIsInR5cGUiLCJnb29nbGVUb2tlbiIsInNldEludGVydmFsIiwidmFsIiwiY2xlYXJJbnRlcnZhbCIsInRpdGxlIiwic3RhdHVzIiwicG9zaXRpb24iLCJlcnJvciIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/hooks/useSendCode.ts\n");

/***/ }),

/***/ "(ssr)/./app/utils/google.ts":
/*!*****************************!*\
  !*** ./app/utils/google.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authGoogleToken: () => (/* binding */ authGoogleToken),\n/* harmony export */   getClientToken: () => (/* binding */ getClientToken)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"(ssr)/./app/utils/index.ts\");\n/*\n * :file description: \n * :name: /chatgpt/app/utils/google.ts\n * :author: 张德志\n * :copyright: (c) 2023, Tungee\n * :date created: 2023-08-13 21:21:08\n * :last editor: 张德志\n * :date last edited: 2023-08-13 21:21:09\n */ \n\nconst getClientToken = (googleVerKey)=>{\n    if (typeof grecaptcha === \"undefined\" || !grecaptcha?.ready) return \"\";\n    return new Promise((resolve, reject)=>{\n        grecaptcha.ready(async ()=>{\n            try {\n                const token = await grecaptcha.execute(googleVerKey, {\n                    action: \"submit\"\n                });\n                resolve(token);\n            } catch (error) {\n                reject(error);\n            }\n        });\n    });\n};\n// service run\nconst authGoogleToken = async (data)=>{\n    const res = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(`https://www.recaptcha.net/recaptcha/api/siteverify?${(0,_index__WEBPACK_IMPORTED_MODULE_0__.Obj2Query)(data)}`);\n    if (res.data.success) {\n        return Promise.resolve(\"\");\n    }\n    return Promise.reject(res?.data?.[\"error-codes\"]?.[0] || \"非法环境\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvdXRpbHMvZ29vZ2xlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Q0FRQyxHQUN5QjtBQUNVO0FBRTdCLE1BQU1FLGlCQUFpQixDQUFDQztJQUM3QixJQUFJLE9BQU9DLGVBQWUsZUFBZSxDQUFDQSxZQUFZQyxPQUFPLE9BQU87SUFDcEUsT0FBTyxJQUFJQyxRQUFnQixDQUFDQyxTQUFTQztRQUNuQ0osV0FBV0MsS0FBSyxDQUFDO1lBQ2YsSUFBSTtnQkFDRixNQUFNSSxRQUFRLE1BQU1MLFdBQVdNLE9BQU8sQ0FBQ1AsY0FBYztvQkFDbkRRLFFBQVE7Z0JBQ1Y7Z0JBQ0FKLFFBQVFFO1lBQ1YsRUFBRSxPQUFPRyxPQUFPO2dCQUNkSixPQUFPSTtZQUNUO1FBQ0Y7SUFDRjtBQUNGLEVBQUU7QUFFRixjQUFjO0FBQ1AsTUFBTUMsa0JBQWtCLE9BQU9DO0lBS3BDLE1BQU1DLE1BQU0sTUFBTWYsNkNBQUtBLENBQUNnQixJQUFJLENBSXpCLENBQUMsbURBQW1ELEVBQUVmLGlEQUFTQSxDQUFDYSxNQUFNLENBQUM7SUFFMUUsSUFBSUMsSUFBSUQsSUFBSSxDQUFDRyxPQUFPLEVBQUU7UUFDcEIsT0FBT1gsUUFBUUMsT0FBTyxDQUFDO0lBQ3pCO0lBQ0EsT0FBT0QsUUFBUUUsTUFBTSxDQUFDTyxLQUFLRCxNQUFNLENBQUMsY0FBYyxFQUFFLENBQUMsRUFBRSxJQUFJO0FBQzNELEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0Z3B0Ly4vYXBwL3V0aWxzL2dvb2dsZS50cz8zNzNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiA6ZmlsZSBkZXNjcmlwdGlvbjogXG4gKiA6bmFtZTogL2NoYXRncHQvYXBwL3V0aWxzL2dvb2dsZS50c1xuICogOmF1dGhvcjog5byg5b635b+XXG4gKiA6Y29weXJpZ2h0OiAoYykgMjAyMywgVHVuZ2VlXG4gKiA6ZGF0ZSBjcmVhdGVkOiAyMDIzLTA4LTEzIDIxOjIxOjA4XG4gKiA6bGFzdCBlZGl0b3I6IOW8oOW+t+W/l1xuICogOmRhdGUgbGFzdCBlZGl0ZWQ6IDIwMjMtMDgtMTMgMjE6MjE6MDlcbiAqL1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IE9iajJRdWVyeSB9IGZyb20gJy4vaW5kZXgnO1xuXG5leHBvcnQgY29uc3QgZ2V0Q2xpZW50VG9rZW4gPSAoZ29vZ2xlVmVyS2V5OiBzdHJpbmcpID0+IHtcbiAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhID09PSAndW5kZWZpbmVkJyB8fCAhZ3JlY2FwdGNoYT8ucmVhZHkpIHJldHVybiAnJztcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGdyZWNhcHRjaGEucmVhZHkoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBncmVjYXB0Y2hhLmV4ZWN1dGUoZ29vZ2xlVmVyS2V5LCB7XG4gICAgICAgICAgYWN0aW9uOiAnc3VibWl0J1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzb2x2ZSh0b2tlbik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8vIHNlcnZpY2UgcnVuXG5leHBvcnQgY29uc3QgYXV0aEdvb2dsZVRva2VuID0gYXN5bmMgKGRhdGE6IHtcbiAgc2VjcmV0OiBzdHJpbmc7XG4gIHJlc3BvbnNlOiBzdHJpbmc7XG4gIHJlbW90ZWlwPzogc3RyaW5nO1xufSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5wb3N0PHtcbiAgICBzY29yZT86IG51bWJlcjtcbiAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgICdlcnJvci1jb2Rlcyc6IHN0cmluZ1tdO1xuICB9PihgaHR0cHM6Ly93d3cucmVjYXB0Y2hhLm5ldC9yZWNhcHRjaGEvYXBpL3NpdGV2ZXJpZnk/JHtPYmoyUXVlcnkoZGF0YSl9YCk7XG5cbiAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzPy5kYXRhPy5bJ2Vycm9yLWNvZGVzJ10/LlswXSB8fCAn6Z2e5rOV546v5aKDJyk7XG59O1xuIl0sIm5hbWVzIjpbImF4aW9zIiwiT2JqMlF1ZXJ5IiwiZ2V0Q2xpZW50VG9rZW4iLCJnb29nbGVWZXJLZXkiLCJncmVjYXB0Y2hhIiwicmVhZHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRva2VuIiwiZXhlY3V0ZSIsImFjdGlvbiIsImVycm9yIiwiYXV0aEdvb2dsZVRva2VuIiwiZGF0YSIsInJlcyIsInBvc3QiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/utils/google.ts\n");

/***/ })

};
;