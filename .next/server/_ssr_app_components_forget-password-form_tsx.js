"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_app_components_forget-password-form_tsx";
exports.ids = ["_ssr_app_components_forget-password-form_tsx"];
exports.modules = {

/***/ "(ssr)/./app/components/forget-password-form.tsx":
/*!*************************************************!*\
  !*** ./app/components/forget-password-form.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ForgetPasswordForm: () => (/* binding */ ForgetPasswordForm)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/form-control/dist/chunk-R42ZB7PB.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/input/dist/chunk-6CVSDS6C.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/form-control/dist/chunk-WWJYOSXC.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @chakra-ui/react */ \"(ssr)/./node_modules/@chakra-ui/button/dist/chunk-UVUR7MCU.mjs\");\n/* harmony import */ var _hooks_useSendCode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useSendCode */ \"(ssr)/./app/hooks/useSendCode.ts\");\n/* harmony import */ var _api_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api/user */ \"(ssr)/./app/api/user.ts\");\n/* harmony import */ var _hooks_useToast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hooks/useToast */ \"(ssr)/./app/hooks/useToast.ts\");\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constant */ \"(ssr)/./app/constant.ts\");\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-hook-form */ \"(ssr)/./node_modules/react-hook-form/dist/index.esm.mjs\");\n/*\n * :file description:\n * :name: /chatgpt/app/components/forget-password-form.tsx\n * :author: 张德志\n * :copyright: (c) 2023, Tungee\n * :date created: 2023-08-13 16:32:53\n * :last editor: 张德志\n * :date last edited: 2023-08-16 04:22:54\n */ \n\n\n\n\n\n\n\nconst inputStyle = {\n    maxWidth: \"100%\",\n    borderRadius: \"4px\",\n    textAlign: \"left\"\n};\nfunction ForgetPasswordForm({ setPageType }) {\n    const { register, handleSubmit, getValues, trigger, formState: { errors } } = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_6__.useForm)({\n        mode: \"onBlur\"\n    });\n    const { toast } = (0,_hooks_useToast__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    const [requesting, setRequesting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { codeSending, sendCodeText, sendCode, codeCountDown } = (0,_hooks_useSendCode__WEBPACK_IMPORTED_MODULE_2__.useSendCode)();\n    const onclickFindPassword = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ({ username, code, password })=>{\n        setRequesting(true);\n        const res = await (0,_api_user__WEBPACK_IMPORTED_MODULE_3__.postFindPassword)({\n            username,\n            code,\n            password\n        });\n        const { user } = res || {};\n        setRequesting(false);\n        if (user?._id) {\n            toast({\n                title: `密码已找回`,\n                status: \"success\"\n            });\n            setPageType(_constant__WEBPACK_IMPORTED_MODULE_5__.PageTypeEnum.login);\n            return;\n        }\n        toast({\n            title: res.message || \"修改密码异常\",\n            status: \"error\"\n        });\n    }, [\n        toast\n    ]);\n    const onclickSendCode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const check = await trigger(\"username\");\n        if (!check) return;\n        sendCode({\n            username: getValues(\"username\"),\n            type: \"findPassword\"\n        });\n    }, [\n        getValues,\n        sendCode,\n        trigger\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Box, {\n                fontWeight: \"bold\",\n                fontSize: \"2xl\",\n                textAlign: \"center\",\n                children: \"找回千知GPT账号\"\n            }, void 0, false, {\n                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                lineNumber: 90,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit(onclickFindPassword),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.FormControl, {\n                        mt: 5,\n                        isInvalid: !!errors.username,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                placeholder: \"邮箱/手机号\",\n                                style: inputStyle,\n                                ...register(\"username\", {\n                                    required: \"邮箱/手机号不能为空\",\n                                    pattern: {\n                                        value: /(^1[3456789]\\d{9}$)|(^[A-Za-z0-9]+([_\\.][A-Za-z0-9]+)*@([A-Za-z0-9\\-]+\\.)+[A-Za-z]{2,6}$)/,\n                                        message: \"邮箱/手机号格式错误\"\n                                    }\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                lineNumber: 95,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.FormErrorMessage, {\n                                position: \"absolute\",\n                                fontSize: \"xs\",\n                                children: !!errors.username && errors.username.message\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                lineNumber: 107,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                        lineNumber: 94,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.FormControl, {\n                        mt: 8,\n                        isInvalid: !!errors.username,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Flex, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                        flex: 1,\n                                        style: inputStyle,\n                                        placeholder: \"验证码\",\n                                        ...register(\"code\", {\n                                            required: \"验证码不能为空\"\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                        lineNumber: 113,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                                        ml: 5,\n                                        w: \"145px\",\n                                        maxW: \"50%\",\n                                        onClick: onclickSendCode,\n                                        isDisabled: codeCountDown > 0,\n                                        isLoading: codeSending,\n                                        children: sendCodeText\n                                    }, void 0, false, {\n                                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                        lineNumber: 121,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                lineNumber: 112,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.FormErrorMessage, {\n                                position: \"absolute\",\n                                fontSize: \"xs\",\n                                children: !!errors.code && errors.code.message\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                lineNumber: 132,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.FormControl, {\n                        mt: 8,\n                        isInvalid: !!errors.password,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                type: \"password\",\n                                placeholder: \"新密码\",\n                                style: inputStyle,\n                                ...register(\"password\", {\n                                    required: \"密码不能为空\",\n                                    minLength: {\n                                        value: 4,\n                                        message: \"密码最少4位最多12位\"\n                                    },\n                                    maxLength: {\n                                        value: 12,\n                                        message: \"密码最少4位最多12位\"\n                                    }\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                lineNumber: 137,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.FormErrorMessage, {\n                                position: \"absolute\",\n                                fontSize: \"xs\",\n                                children: !!errors.password && errors.password.message\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                lineNumber: 153,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                        lineNumber: 136,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.FormControl, {\n                        mt: 8,\n                        isInvalid: !!errors.password2,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                type: \"password\",\n                                placeholder: \"确认密码\",\n                                style: inputStyle,\n                                ...register(\"password2\", {\n                                    validate: (val)=>getValues(\"password\") === val ? true : \"两次密码不一致\"\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                lineNumber: 158,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.FormErrorMessage, {\n                                position: \"absolute\",\n                                fontSize: \"xs\",\n                                children: !!errors.password2 && errors.password2.message\n                            }, void 0, false, {\n                                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                                lineNumber: 167,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                        lineNumber: 157,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Box, {\n                        float: \"right\",\n                        fontSize: \"sm\",\n                        mt: 2,\n                        color: \"myBlue.600\",\n                        cursor: \"pointer\",\n                        _hover: {\n                            textDecoration: \"underline\"\n                        },\n                        onClick: ()=>setPageType(_constant__WEBPACK_IMPORTED_MODULE_5__.PageTypeEnum.login),\n                        children: \"去登录\"\n                    }, void 0, false, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                        lineNumber: 171,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.Button, {\n                        type: \"submit\",\n                        mt: 5,\n                        w: \"100%\",\n                        size: [\n                            \"md\",\n                            \"lg\"\n                        ],\n                        colorScheme: \"blue\",\n                        isLoading: requesting,\n                        children: \"找回密码\"\n                    }, void 0, false, {\n                        fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                        lineNumber: 182,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zhangdezhi/Documents/project/chatgpt/app/components/forget-password-form.tsx\",\n                lineNumber: 93,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvY29tcG9uZW50cy9mb3JnZXQtcGFzc3dvcmQtZm9ybS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7OztDQVFDO0FBRTZFO0FBUXBEO0FBRXlCO0FBQ0o7QUFDRjtBQUNGO0FBQ0Q7QUFFMUMsTUFBTWMsYUFBYTtJQUFFQyxVQUFVO0lBQVFDLGNBQWM7SUFBT0MsV0FBVztBQUFPO0FBYXZFLFNBQVNDLG1CQUFtQixFQUFFQyxXQUFXLEVBQWU7SUFDN0QsTUFBTSxFQUNKQyxRQUFRLEVBQ1JDLFlBQVksRUFDWkMsU0FBUyxFQUNUQyxPQUFPLEVBQ1BDLFdBQVcsRUFBRUMsTUFBTSxFQUFFLEVBQ3RCLEdBQUdaLHdEQUFPQSxDQUFNO1FBQ2ZhLE1BQU07SUFDUjtJQUNBLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdoQix5REFBUUE7SUFDMUIsTUFBTSxDQUFDaUIsWUFBWUMsY0FBYyxHQUFHNUIsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxFQUFFNkIsV0FBVyxFQUFFQyxZQUFZLEVBQUVDLFFBQVEsRUFBRUMsYUFBYSxFQUFFLEdBQUd4QiwrREFBV0E7SUFDMUUsTUFBTXlCLHNCQUFzQmhDLGtEQUFXQSxDQUNyQyxPQUFPLEVBQUVpQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFnQjtRQUMvQ1IsY0FBYztRQUNkLE1BQU1TLE1BQU0sTUFBTTVCLDJEQUFnQkEsQ0FBQztZQUNqQ3lCO1lBQ0FDO1lBQ0FDO1FBQ0Y7UUFDQSxNQUFNLEVBQUVFLElBQUksRUFBRSxHQUFHRCxPQUFPLENBQUM7UUFDekJULGNBQWM7UUFDZCxJQUFJVSxNQUFNQyxLQUFLO1lBQ2JiLE1BQU07Z0JBQ0pjLE9BQU8sQ0FBQyxLQUFLLENBQUM7Z0JBQ2RDLFFBQVE7WUFDVjtZQUNBdkIsWUFBWVAsbURBQVlBLENBQUMrQixLQUFLO1lBQzlCO1FBQ0Y7UUFDQWhCLE1BQU07WUFDSmMsT0FBT0gsSUFBSU0sT0FBTyxJQUFJO1lB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LENBQUN6QixPQUFPOzs7Ozs7Ozs7Ozs7a0NBR3JFLDhEQUFDeEMsaURBQUdBO3dCQUNGb0UsT0FBTzt3QkFDUHZCLFVBQVM7d0JBQ1RHLElBQUk7d0JBQ0pxQixPQUFPO3dCQUNQQyxRQUFRO3dCQUNSQyxRQUFROzRCQUFFQyxnQkFBZ0I7d0JBQVk7d0JBQ3RDWixTQUFTLElBQU03QyxZQUFZUCxtREFBWUEsQ0FBQytCLEtBQUs7a0NBQzlDOzs7Ozs7a0NBR0QsOERBQUNyQyxxREFBTUE7d0JBQ0x5QyxNQUFLO3dCQUNMSyxJQUFJO3dCQUNKVSxHQUFHO3dCQUNIZSxNQUFNOzRCQUFDOzRCQUFNO3lCQUFLO3dCQUNsQkMsYUFBWTt3QkFDWlosV0FBV3RDO2tDQUNaOzs7Ozs7Ozs7Ozs7OztBQU1UIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhdGdwdC8uL2FwcC9jb21wb25lbnRzL2ZvcmdldC1wYXNzd29yZC1mb3JtLnRzeD8yOTg2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiA6ZmlsZSBkZXNjcmlwdGlvbjpcbiAqIDpuYW1lOiAvY2hhdGdwdC9hcHAvY29tcG9uZW50cy9mb3JnZXQtcGFzc3dvcmQtZm9ybS50c3hcbiAqIDphdXRob3I6IOW8oOW+t+W/l1xuICogOmNvcHlyaWdodDogKGMpIDIwMjMsIFR1bmdlZVxuICogOmRhdGUgY3JlYXRlZDogMjAyMy0wOC0xMyAxNjozMjo1M1xuICogOmxhc3QgZWRpdG9yOiDlvKDlvrflv5dcbiAqIDpkYXRlIGxhc3QgZWRpdGVkOiAyMDIzLTA4LTE2IDA0OjIyOjU0XG4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCBEaXNwYXRjaCwgdXNlQ2FsbGJhY2ssIENTU1Byb3BlcnRpZXMgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIEZvcm1Db250cm9sLFxuICBCb3gsXG4gIElucHV0LFxuICBCdXR0b24sXG4gIEZvcm1FcnJvck1lc3NhZ2UsXG4gIEZsZXgsXG59IGZyb20gXCJAY2hha3JhLXVpL3JlYWN0XCI7XG5pbXBvcnQgeyBSZXNMb2dpbiB9IGZyb20gXCIuLi90eXBpbmdcIjtcbmltcG9ydCB7IHVzZVNlbmRDb2RlIH0gZnJvbSBcIi4uL2hvb2tzL3VzZVNlbmRDb2RlXCI7XG5pbXBvcnQgeyBwb3N0RmluZFBhc3N3b3JkIH0gZnJvbSBcIi4uL2FwaS91c2VyXCI7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gXCIuLi9ob29rcy91c2VUb2FzdFwiO1xuaW1wb3J0IHsgUGFnZVR5cGVFbnVtIH0gZnJvbSBcIi4uL2NvbnN0YW50XCI7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSBcInJlYWN0LWhvb2stZm9ybVwiO1xuXG5jb25zdCBpbnB1dFN0eWxlID0geyBtYXhXaWR0aDogXCIxMDAlXCIsIGJvcmRlclJhZGl1czogXCI0cHhcIiwgdGV4dEFsaWduOiBcImxlZnRcIiB9O1xuXG5pbnRlcmZhY2UgUmVnaXN0ZXJUeXBlIHtcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgY29kZTogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xuICBwYXNzd29yZDI6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEZvcmdldFByb3BzIHtcbiAgc2V0UGFnZVR5cGU6IERpc3BhdGNoPGAke1BhZ2VUeXBlRW51bX1gPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZvcmdldFBhc3N3b3JkRm9ybSh7IHNldFBhZ2VUeXBlIH06IEZvcmdldFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICByZWdpc3RlcixcbiAgICBoYW5kbGVTdWJtaXQsXG4gICAgZ2V0VmFsdWVzLFxuICAgIHRyaWdnZXIsXG4gICAgZm9ybVN0YXRlOiB7IGVycm9ycyB9LFxuICB9ID0gdXNlRm9ybTxhbnk+KHtcbiAgICBtb2RlOiBcIm9uQmx1clwiLFxuICB9KTtcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgW3JlcXVlc3RpbmcsIHNldFJlcXVlc3RpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IGNvZGVTZW5kaW5nLCBzZW5kQ29kZVRleHQsIHNlbmRDb2RlLCBjb2RlQ291bnREb3duIH0gPSB1c2VTZW5kQ29kZSgpO1xuICBjb25zdCBvbmNsaWNrRmluZFBhc3N3b3JkID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHsgdXNlcm5hbWUsIGNvZGUsIHBhc3N3b3JkIH06IFJlZ2lzdGVyVHlwZSkgPT4ge1xuICAgICAgc2V0UmVxdWVzdGluZyh0cnVlKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHBvc3RGaW5kUGFzc3dvcmQoe1xuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgY29kZSxcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVzIHx8IHt9O1xuICAgICAgc2V0UmVxdWVzdGluZyhmYWxzZSk7XG4gICAgICBpZiAodXNlcj8uX2lkKSB7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogYOWvhueggeW3suaJvuWbnmAsXG4gICAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFBhZ2VUeXBlKFBhZ2VUeXBlRW51bS5sb2dpbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IHJlcy5tZXNzYWdlIHx8IFwi5L+u5pS55a+G56CB5byC5bi4XCIsXG4gICAgICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbdG9hc3RdLFxuICApO1xuXG4gIGNvbnN0IG9uY2xpY2tTZW5kQ29kZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjaGVjayA9IGF3YWl0IHRyaWdnZXIoXCJ1c2VybmFtZVwiKTtcbiAgICBpZiAoIWNoZWNrKSByZXR1cm47XG4gICAgc2VuZENvZGUoe1xuICAgICAgdXNlcm5hbWU6IGdldFZhbHVlcyhcInVzZXJuYW1lXCIpLFxuICAgICAgdHlwZTogXCJmaW5kUGFzc3dvcmRcIixcbiAgICB9KTtcbiAgfSwgW2dldFZhbHVlcywgc2VuZENvZGUsIHRyaWdnZXJdKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8Qm94IGZvbnRXZWlnaHQ9e1wiYm9sZFwifSBmb250U2l6ZT17XCIyeGxcIn0gdGV4dEFsaWduPXtcImNlbnRlclwifT5cbiAgICAgICAg5om+5Zue5Y2D55+lR1BU6LSm5Y+3XG4gICAgICA8L0JveD5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQob25jbGlja0ZpbmRQYXNzd29yZCl9PlxuICAgICAgICA8Rm9ybUNvbnRyb2wgbXQ9ezV9IGlzSW52YWxpZD17ISFlcnJvcnMudXNlcm5hbWV9PlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLpgq7nrrEv5omL5py65Y+3XCJcbiAgICAgICAgICAgIHN0eWxlPXtpbnB1dFN0eWxlIGFzIENTU1Byb3BlcnRpZXN9XG4gICAgICAgICAgICB7Li4ucmVnaXN0ZXIoXCJ1c2VybmFtZVwiLCB7XG4gICAgICAgICAgICAgIHJlcXVpcmVkOiBcIumCrueusS/miYvmnLrlj7fkuI3og73kuLrnqbpcIixcbiAgICAgICAgICAgICAgcGF0dGVybjoge1xuICAgICAgICAgICAgICAgIHZhbHVlOlxuICAgICAgICAgICAgICAgICAgLyheMVszNDU2Nzg5XVxcZHs5fSQpfCheW0EtWmEtejAtOV0rKFtfXFwuXVtBLVphLXowLTldKykqQChbQS1aYS16MC05XFwtXStcXC4pK1tBLVphLXpdezIsNn0kKS8sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCLpgq7nrrEv5omL5py65Y+35qC85byP6ZSZ6K+vXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICA8Rm9ybUVycm9yTWVzc2FnZSBwb3NpdGlvbj17XCJhYnNvbHV0ZVwifSBmb250U2l6ZT1cInhzXCI+XG4gICAgICAgICAgICB7ISEoZXJyb3JzIGFzIGFueSkudXNlcm5hbWUgJiYgKGVycm9ycyBhcyBhbnkpLnVzZXJuYW1lLm1lc3NhZ2V9XG4gICAgICAgICAgPC9Gb3JtRXJyb3JNZXNzYWdlPlxuICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICA8Rm9ybUNvbnRyb2wgbXQ9ezh9IGlzSW52YWxpZD17ISFlcnJvcnMudXNlcm5hbWV9PlxuICAgICAgICAgIDxGbGV4PlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIGZsZXg9ezF9XG4gICAgICAgICAgICAgIHN0eWxlPXtpbnB1dFN0eWxlIGFzIENTU1Byb3BlcnRpZXN9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6aqM6K+B56CBXCJcbiAgICAgICAgICAgICAgey4uLnJlZ2lzdGVyKFwiY29kZVwiLCB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwi6aqM6K+B56CB5LiN6IO95Li656m6XCIsXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG1sPXs1fVxuICAgICAgICAgICAgICB3PXtcIjE0NXB4XCJ9XG4gICAgICAgICAgICAgIG1heFc9e1wiNTAlXCJ9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uY2xpY2tTZW5kQ29kZX1cbiAgICAgICAgICAgICAgaXNEaXNhYmxlZD17Y29kZUNvdW50RG93biA+IDB9XG4gICAgICAgICAgICAgIGlzTG9hZGluZz17Y29kZVNlbmRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtzZW5kQ29kZVRleHR9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgPEZvcm1FcnJvck1lc3NhZ2UgcG9zaXRpb249e1wiYWJzb2x1dGVcIn0gZm9udFNpemU9XCJ4c1wiPlxuICAgICAgICAgICAgeyEhKGVycm9ycyBhcyBhbnkpLmNvZGUgJiYgKGVycm9ycyBhcyBhbnkpLmNvZGUubWVzc2FnZX1cbiAgICAgICAgICA8L0Zvcm1FcnJvck1lc3NhZ2U+XG4gICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgIDxGb3JtQ29udHJvbCBtdD17OH0gaXNJbnZhbGlkPXshIWVycm9ycy5wYXNzd29yZH0+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICB0eXBlPXtcInBhc3N3b3JkXCJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuaWsOWvhueggVwiXG4gICAgICAgICAgICBzdHlsZT17aW5wdXRTdHlsZSBhcyBDU1NQcm9wZXJ0aWVzfVxuICAgICAgICAgICAgey4uLnJlZ2lzdGVyKFwicGFzc3dvcmRcIiwge1xuICAgICAgICAgICAgICByZXF1aXJlZDogXCLlr4bnoIHkuI3og73kuLrnqbpcIixcbiAgICAgICAgICAgICAgbWluTGVuZ3RoOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCLlr4bnoIHmnIDlsJE05L2N5pyA5aSaMTLkvY1cIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IDEyLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwi5a+G56CB5pyA5bCRNOS9jeacgOWkmjEy5L2NXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA+PC9JbnB1dD5cbiAgICAgICAgICA8Rm9ybUVycm9yTWVzc2FnZSBwb3NpdGlvbj17XCJhYnNvbHV0ZVwifSBmb250U2l6ZT1cInhzXCI+XG4gICAgICAgICAgICB7ISEoZXJyb3JzIGFzIGFueSkucGFzc3dvcmQgJiYgKGVycm9ycyBhcyBhbnkpLnBhc3N3b3JkIS5tZXNzYWdlfVxuICAgICAgICAgIDwvRm9ybUVycm9yTWVzc2FnZT5cbiAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgPEZvcm1Db250cm9sIG10PXs4fSBpc0ludmFsaWQ9eyEhZXJyb3JzLnBhc3N3b3JkMn0+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICB0eXBlPXtcInBhc3N3b3JkXCJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuehruiupOWvhueggVwiXG4gICAgICAgICAgICBzdHlsZT17aW5wdXRTdHlsZSBhcyBDU1NQcm9wZXJ0aWVzfVxuICAgICAgICAgICAgey4uLnJlZ2lzdGVyKFwicGFzc3dvcmQyXCIsIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGU6ICh2YWwpID0+XG4gICAgICAgICAgICAgICAgZ2V0VmFsdWVzKFwicGFzc3dvcmRcIikgPT09IHZhbCA/IHRydWUgOiBcIuS4pOasoeWvhueggeS4jeS4gOiHtFwiLFxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPjwvSW5wdXQ+XG4gICAgICAgICAgPEZvcm1FcnJvck1lc3NhZ2UgcG9zaXRpb249e1wiYWJzb2x1dGVcIn0gZm9udFNpemU9XCJ4c1wiPlxuICAgICAgICAgICAgeyEhKGVycm9ycyBhcyBhbnkpLnBhc3N3b3JkMiAmJiAoZXJyb3JzIGFzIGFueSkucGFzc3dvcmQyLm1lc3NhZ2V9XG4gICAgICAgICAgPC9Gb3JtRXJyb3JNZXNzYWdlPlxuICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICA8Qm94XG4gICAgICAgICAgZmxvYXQ9e1wicmlnaHRcIn1cbiAgICAgICAgICBmb250U2l6ZT1cInNtXCJcbiAgICAgICAgICBtdD17Mn1cbiAgICAgICAgICBjb2xvcj17XCJteUJsdWUuNjAwXCJ9XG4gICAgICAgICAgY3Vyc29yPXtcInBvaW50ZXJcIn1cbiAgICAgICAgICBfaG92ZXI9e3sgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCIgfX1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRQYWdlVHlwZShQYWdlVHlwZUVudW0ubG9naW4pfVxuICAgICAgICA+XG4gICAgICAgICAg5Y6755m75b2VXG4gICAgICAgIDwvQm94PlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgbXQ9ezV9XG4gICAgICAgICAgdz17XCIxMDAlXCJ9XG4gICAgICAgICAgc2l6ZT17W1wibWRcIiwgXCJsZ1wiXX1cbiAgICAgICAgICBjb2xvclNjaGVtZT1cImJsdWVcIlxuICAgICAgICAgIGlzTG9hZGluZz17cmVxdWVzdGluZ31cbiAgICAgICAgPlxuICAgICAgICAgIOaJvuWbnuWvhueggVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICA8Lz5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJGb3JtQ29udHJvbCIsIkJveCIsIklucHV0IiwiQnV0dG9uIiwiRm9ybUVycm9yTWVzc2FnZSIsIkZsZXgiLCJ1c2VTZW5kQ29kZSIsInBvc3RGaW5kUGFzc3dvcmQiLCJ1c2VUb2FzdCIsIlBhZ2VUeXBlRW51bSIsInVzZUZvcm0iLCJpbnB1dFN0eWxlIiwibWF4V2lkdGgiLCJib3JkZXJSYWRpdXMiLCJ0ZXh0QWxpZ24iLCJGb3JnZXRQYXNzd29yZEZvcm0iLCJzZXRQYWdlVHlwZSIsInJlZ2lzdGVyIiwiaGFuZGxlU3VibWl0IiwiZ2V0VmFsdWVzIiwidHJpZ2dlciIsImZvcm1TdGF0ZSIsImVycm9ycyIsIm1vZGUiLCJ0b2FzdCIsInJlcXVlc3RpbmciLCJzZXRSZXF1ZXN0aW5nIiwiY29kZVNlbmRpbmciLCJzZW5kQ29kZVRleHQiLCJzZW5kQ29kZSIsImNvZGVDb3VudERvd24iLCJvbmNsaWNrRmluZFBhc3N3b3JkIiwidXNlcm5hbWUiLCJjb2RlIiwicGFzc3dvcmQiLCJyZXMiLCJ1c2VyIiwiX2lkIiwidGl0bGUiLCJzdGF0dXMiLCJsb2dpbiIsIm1lc3NhZ2UiLCJvbmNsaWNrU2VuZENvZGUiLCJjaGVjayIsInR5cGUiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJmb3JtIiwib25TdWJtaXQiLCJtdCIsImlzSW52YWxpZCIsInBsYWNlaG9sZGVyIiwic3R5bGUiLCJyZXF1aXJlZCIsInBhdHRlcm4iLCJ2YWx1ZSIsInBvc2l0aW9uIiwiZmxleCIsIm1sIiwidyIsIm1heFciLCJvbkNsaWNrIiwiaXNEaXNhYmxlZCIsImlzTG9hZGluZyIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsInBhc3N3b3JkMiIsInZhbGlkYXRlIiwidmFsIiwiZmxvYXQiLCJjb2xvciIsImN1cnNvciIsIl9ob3ZlciIsInRleHREZWNvcmF0aW9uIiwic2l6ZSIsImNvbG9yU2NoZW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/components/forget-password-form.tsx\n");

/***/ }),

/***/ "(ssr)/./app/hooks/useSendCode.ts":
/*!**********************************!*\
  !*** ./app/hooks/useSendCode.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSendCode: () => (/* binding */ useSendCode)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/user */ \"(ssr)/./app/api/user.ts\");\n/* harmony import */ var _useToast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useToast */ \"(ssr)/./app/hooks/useToast.ts\");\n/* harmony import */ var _utils_google__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/google */ \"(ssr)/./app/utils/google.ts\");\n/*\n * :file description: \n * :name: /chatgpt/app/hooks/useSendCode.ts\n * :author: 张德志\n * :copyright: (c) 2023, Tungee\n * :date created: 2023-08-13 21:23:04\n * :last editor: 张德志\n * :date last edited: 2023-08-15 23:41:36\n */ \n\n\n\nlet timer;\nconst useSendCode = ()=>{\n    const { toast } = (0,_useToast__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const [codeSending, setCodeSending] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [codeCountDown, setCodeCountDown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const sendCodeText = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        if (codeCountDown >= 10) {\n            return `${codeCountDown}s后重新获取`;\n        }\n        if (codeCountDown > 0) {\n            return `0${codeCountDown}s后重新获取`;\n        }\n        return \"获取验证码\";\n    }, [\n        codeCountDown\n    ]);\n    const sendCode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ({ username, type })=>{\n        setCodeSending(true);\n        try {\n            await (0,_api_user__WEBPACK_IMPORTED_MODULE_1__.sendAuthCode)({\n                username,\n                type,\n                googleToken: await (0,_utils_google__WEBPACK_IMPORTED_MODULE_3__.getClientToken)(\"123\")\n            });\n            setCodeCountDown(60);\n            timer = setInterval(()=>{\n                setCodeCountDown((val)=>{\n                    if (val <= 0) {\n                        clearInterval(timer);\n                    }\n                    return val - 1;\n                });\n            }, 1000);\n            toast({\n                title: \"验证码已发送\",\n                status: \"success\",\n                position: \"top\"\n            });\n        } catch (error) {\n            toast({\n                title: error.message || \"发送验证码异常\",\n                status: \"error\"\n            });\n        }\n        setCodeSending(false);\n    }, [\n        toast\n    ]);\n    return {\n        codeSending,\n        sendCode,\n        sendCodeText,\n        codeCountDown\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvaG9va3MvdXNlU2VuZENvZGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7O0NBUUMsR0FDc0Q7QUFDWjtBQUVMO0FBQ1c7QUFHakQsSUFBSU07QUFFRyxNQUFNQyxjQUFjO0lBRXpCLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdKLG1EQUFRQTtJQUMxQixNQUFNLENBQUNLLGFBQWFDLGVBQWUsR0FBR1YsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDVyxlQUFlQyxpQkFBaUIsR0FBR1osK0NBQVFBLENBQUM7SUFDbkQsTUFBTWEsZUFBZVosOENBQU9BLENBQUM7UUFDM0IsSUFBSVUsaUJBQWlCLElBQUk7WUFDdkIsT0FBTyxDQUFDLEVBQUVBLGNBQWMsTUFBTSxDQUFDO1FBQ2pDO1FBQ0EsSUFBSUEsZ0JBQWdCLEdBQUc7WUFDckIsT0FBTyxDQUFDLENBQUMsRUFBRUEsY0FBYyxNQUFNLENBQUM7UUFDbEM7UUFDQSxPQUFPO0lBQ1QsR0FBRztRQUFDQTtLQUFjO0lBRWxCLE1BQU1HLFdBQVdaLGtEQUFXQSxDQUMxQixPQUFPLEVBQUVhLFFBQVEsRUFBRUMsSUFBSSxFQUFxRDtRQUMxRU4sZUFBZTtRQUNmLElBQUk7WUFDRixNQUFNUCx1REFBWUEsQ0FBQztnQkFDakJZO2dCQUNBQztnQkFDQUMsYUFBYSxNQUFNWiw2REFBY0EsQ0FBQztZQUNwQztZQUNBTyxpQkFBaUI7WUFDakJOLFFBQVFZLFlBQVk7Z0JBQ2xCTixpQkFBaUIsQ0FBQ087b0JBQ2hCLElBQUlBLE9BQU8sR0FBRzt3QkFDWkMsY0FBY2Q7b0JBQ2hCO29CQUNBLE9BQU9hLE1BQU07Z0JBQ2Y7WUFDRixHQUFHO1lBQ0hYLE1BQU07Z0JBQ0phLE9BQU87Z0JBQ1BDLFFBQVE7Z0JBQ1JDLFVBQVU7WUFDWjtRQUNGLEVBQUUsT0FBT0MsT0FBWTtZQUNuQmhCLE1BQU07Z0JBQ0phLE9BQU9HLE1BQU1DLE9BQU8sSUFBSTtnQkFDeEJILFFBQVE7WUFDVjtRQUNGO1FBQ0FaLGVBQWU7SUFDakIsR0FDQTtRQUFDRjtLQUFNO0lBR1QsT0FBTztRQUNMQztRQUNBSztRQUNBRDtRQUNBRjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoYXRncHQvLi9hcHAvaG9va3MvdXNlU2VuZENvZGUudHM/NGIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogOmZpbGUgZGVzY3JpcHRpb246IFxuICogOm5hbWU6IC9jaGF0Z3B0L2FwcC9ob29rcy91c2VTZW5kQ29kZS50c1xuICogOmF1dGhvcjog5byg5b635b+XXG4gKiA6Y29weXJpZ2h0OiAoYykgMjAyMywgVHVuZ2VlXG4gKiA6ZGF0ZSBjcmVhdGVkOiAyMDIzLTA4LTEzIDIxOjIzOjA0XG4gKiA6bGFzdCBlZGl0b3I6IOW8oOW+t+W/l1xuICogOmRhdGUgbGFzdCBlZGl0ZWQ6IDIwMjMtMDgtMTUgMjM6NDE6MzZcbiAqL1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc2VuZEF1dGhDb2RlIH0gZnJvbSAnLi4vYXBpL3VzZXInO1xuaW1wb3J0IHsgVXNlckF1dGhUeXBlRW51bSB9IGZyb20gJy4uL2NvbnN0YW50JztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnLi91c2VUb2FzdCc7XG5pbXBvcnQgeyBnZXRDbGllbnRUb2tlbiB9IGZyb20gJy4uL3V0aWxzL2dvb2dsZSc7XG5pbXBvcnQgeyB1c2VHbG9iYWxTdG9yZSB9IGZyb20gJy4uL3N0b3JlL2dsb2JhbCc7XG5cbmxldCB0aW1lcjogYW55O1xuXG5leHBvcnQgY29uc3QgdXNlU2VuZENvZGUgPSAoKSA9PiB7XG5cbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgW2NvZGVTZW5kaW5nLCBzZXRDb2RlU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb2RlQ291bnREb3duLCBzZXRDb2RlQ291bnREb3duXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBzZW5kQ29kZVRleHQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoY29kZUNvdW50RG93biA+PSAxMCkge1xuICAgICAgcmV0dXJuIGAke2NvZGVDb3VudERvd259c+WQjumHjeaWsOiOt+WPlmA7XG4gICAgfVxuICAgIGlmIChjb2RlQ291bnREb3duID4gMCkge1xuICAgICAgcmV0dXJuIGAwJHtjb2RlQ291bnREb3dufXPlkI7ph43mlrDojrflj5ZgO1xuICAgIH1cbiAgICByZXR1cm4gJ+iOt+WPlumqjOivgeeggSc7XG4gIH0sIFtjb2RlQ291bnREb3duXSk7XG5cbiAgY29uc3Qgc2VuZENvZGUgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoeyB1c2VybmFtZSwgdHlwZSB9OiB7IHVzZXJuYW1lOiBzdHJpbmc7IHR5cGU6IGAke1VzZXJBdXRoVHlwZUVudW19YCB9KSA9PiB7XG4gICAgICBzZXRDb2RlU2VuZGluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNlbmRBdXRoQ29kZSh7XG4gICAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBnb29nbGVUb2tlbjogYXdhaXQgZ2V0Q2xpZW50VG9rZW4oJzEyMycpXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRDb2RlQ291bnREb3duKDYwKTtcbiAgICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgc2V0Q29kZUNvdW50RG93bigodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsIDw9IDApIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsIC0gMTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogJ+mqjOivgeeggeW3suWPkemAgScsXG4gICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgcG9zaXRpb246ICd0b3AnXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6IGVycm9yLm1lc3NhZ2UgfHwgJ+WPkemAgemqjOivgeeggeW8guW4uCcsXG4gICAgICAgICAgc3RhdHVzOiAnZXJyb3InXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc2V0Q29kZVNlbmRpbmcoZmFsc2UpO1xuICAgIH0sXG4gICAgW3RvYXN0XVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgY29kZVNlbmRpbmcsXG4gICAgc2VuZENvZGUsXG4gICAgc2VuZENvZGVUZXh0LFxuICAgIGNvZGVDb3VudERvd25cbiAgfTtcbn07XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VNZW1vIiwidXNlQ2FsbGJhY2siLCJzZW5kQXV0aENvZGUiLCJ1c2VUb2FzdCIsImdldENsaWVudFRva2VuIiwidGltZXIiLCJ1c2VTZW5kQ29kZSIsInRvYXN0IiwiY29kZVNlbmRpbmciLCJzZXRDb2RlU2VuZGluZyIsImNvZGVDb3VudERvd24iLCJzZXRDb2RlQ291bnREb3duIiwic2VuZENvZGVUZXh0Iiwic2VuZENvZGUiLCJ1c2VybmFtZSIsInR5cGUiLCJnb29nbGVUb2tlbiIsInNldEludGVydmFsIiwidmFsIiwiY2xlYXJJbnRlcnZhbCIsInRpdGxlIiwic3RhdHVzIiwicG9zaXRpb24iLCJlcnJvciIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/hooks/useSendCode.ts\n");

/***/ }),

/***/ "(ssr)/./app/utils/google.ts":
/*!*****************************!*\
  !*** ./app/utils/google.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authGoogleToken: () => (/* binding */ authGoogleToken),\n/* harmony export */   getClientToken: () => (/* binding */ getClientToken)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"(ssr)/./app/utils/index.ts\");\n/*\n * :file description: \n * :name: /chatgpt/app/utils/google.ts\n * :author: 张德志\n * :copyright: (c) 2023, Tungee\n * :date created: 2023-08-13 21:21:08\n * :last editor: 张德志\n * :date last edited: 2023-08-13 21:21:09\n */ \n\nconst getClientToken = (googleVerKey)=>{\n    if (typeof grecaptcha === \"undefined\" || !grecaptcha?.ready) return \"\";\n    return new Promise((resolve, reject)=>{\n        grecaptcha.ready(async ()=>{\n            try {\n                const token = await grecaptcha.execute(googleVerKey, {\n                    action: \"submit\"\n                });\n                resolve(token);\n            } catch (error) {\n                reject(error);\n            }\n        });\n    });\n};\n// service run\nconst authGoogleToken = async (data)=>{\n    const res = await axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(`https://www.recaptcha.net/recaptcha/api/siteverify?${(0,_index__WEBPACK_IMPORTED_MODULE_0__.Obj2Query)(data)}`);\n    if (res.data.success) {\n        return Promise.resolve(\"\");\n    }\n    return Promise.reject(res?.data?.[\"error-codes\"]?.[0] || \"非法环境\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvdXRpbHMvZ29vZ2xlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Q0FRQyxHQUN5QjtBQUNVO0FBRTdCLE1BQU1FLGlCQUFpQixDQUFDQztJQUM3QixJQUFJLE9BQU9DLGVBQWUsZUFBZSxDQUFDQSxZQUFZQyxPQUFPLE9BQU87SUFDcEUsT0FBTyxJQUFJQyxRQUFnQixDQUFDQyxTQUFTQztRQUNuQ0osV0FBV0MsS0FBSyxDQUFDO1lBQ2YsSUFBSTtnQkFDRixNQUFNSSxRQUFRLE1BQU1MLFdBQVdNLE9BQU8sQ0FBQ1AsY0FBYztvQkFDbkRRLFFBQVE7Z0JBQ1Y7Z0JBQ0FKLFFBQVFFO1lBQ1YsRUFBRSxPQUFPRyxPQUFPO2dCQUNkSixPQUFPSTtZQUNUO1FBQ0Y7SUFDRjtBQUNGLEVBQUU7QUFFRixjQUFjO0FBQ1AsTUFBTUMsa0JBQWtCLE9BQU9DO0lBS3BDLE1BQU1DLE1BQU0sTUFBTWYsNkNBQUtBLENBQUNnQixJQUFJLENBSXpCLENBQUMsbURBQW1ELEVBQUVmLGlEQUFTQSxDQUFDYSxNQUFNLENBQUM7SUFFMUUsSUFBSUMsSUFBSUQsSUFBSSxDQUFDRyxPQUFPLEVBQUU7UUFDcEIsT0FBT1gsUUFBUUMsT0FBTyxDQUFDO0lBQ3pCO0lBQ0EsT0FBT0QsUUFBUUUsTUFBTSxDQUFDTyxLQUFLRCxNQUFNLENBQUMsY0FBYyxFQUFFLENBQUMsRUFBRSxJQUFJO0FBQzNELEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0Z3B0Ly4vYXBwL3V0aWxzL2dvb2dsZS50cz8zNzNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiA6ZmlsZSBkZXNjcmlwdGlvbjogXG4gKiA6bmFtZTogL2NoYXRncHQvYXBwL3V0aWxzL2dvb2dsZS50c1xuICogOmF1dGhvcjog5byg5b635b+XXG4gKiA6Y29weXJpZ2h0OiAoYykgMjAyMywgVHVuZ2VlXG4gKiA6ZGF0ZSBjcmVhdGVkOiAyMDIzLTA4LTEzIDIxOjIxOjA4XG4gKiA6bGFzdCBlZGl0b3I6IOW8oOW+t+W/l1xuICogOmRhdGUgbGFzdCBlZGl0ZWQ6IDIwMjMtMDgtMTMgMjE6MjE6MDlcbiAqL1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IE9iajJRdWVyeSB9IGZyb20gJy4vaW5kZXgnO1xuXG5leHBvcnQgY29uc3QgZ2V0Q2xpZW50VG9rZW4gPSAoZ29vZ2xlVmVyS2V5OiBzdHJpbmcpID0+IHtcbiAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhID09PSAndW5kZWZpbmVkJyB8fCAhZ3JlY2FwdGNoYT8ucmVhZHkpIHJldHVybiAnJztcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGdyZWNhcHRjaGEucmVhZHkoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBncmVjYXB0Y2hhLmV4ZWN1dGUoZ29vZ2xlVmVyS2V5LCB7XG4gICAgICAgICAgYWN0aW9uOiAnc3VibWl0J1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzb2x2ZSh0b2tlbik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8vIHNlcnZpY2UgcnVuXG5leHBvcnQgY29uc3QgYXV0aEdvb2dsZVRva2VuID0gYXN5bmMgKGRhdGE6IHtcbiAgc2VjcmV0OiBzdHJpbmc7XG4gIHJlc3BvbnNlOiBzdHJpbmc7XG4gIHJlbW90ZWlwPzogc3RyaW5nO1xufSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5wb3N0PHtcbiAgICBzY29yZT86IG51bWJlcjtcbiAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgICdlcnJvci1jb2Rlcyc6IHN0cmluZ1tdO1xuICB9PihgaHR0cHM6Ly93d3cucmVjYXB0Y2hhLm5ldC9yZWNhcHRjaGEvYXBpL3NpdGV2ZXJpZnk/JHtPYmoyUXVlcnkoZGF0YSl9YCk7XG5cbiAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzPy5kYXRhPy5bJ2Vycm9yLWNvZGVzJ10/LlswXSB8fCAn6Z2e5rOV546v5aKDJyk7XG59O1xuIl0sIm5hbWVzIjpbImF4aW9zIiwiT2JqMlF1ZXJ5IiwiZ2V0Q2xpZW50VG9rZW4iLCJnb29nbGVWZXJLZXkiLCJncmVjYXB0Y2hhIiwicmVhZHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRva2VuIiwiZXhlY3V0ZSIsImFjdGlvbiIsImVycm9yIiwiYXV0aEdvb2dsZVRva2VuIiwiZGF0YSIsInJlcyIsInBvc3QiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/utils/google.ts\n");

/***/ })

};
;