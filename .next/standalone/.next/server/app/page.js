(() => {
var exports = {};
exports.id = 1931;
exports.ids = [1931];
exports.modules = {

/***/ 82411:
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = 82411;
module.exports = webpackEmptyContext;

/***/ }),

/***/ 18038:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react");

/***/ }),

/***/ 98704:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-dom/server-rendering-stub");

/***/ }),

/***/ 97897:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-server-dom-webpack/client");

/***/ }),

/***/ 56786:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react/jsx-runtime");

/***/ }),

/***/ 5868:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/app-render");

/***/ }),

/***/ 41844:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/get-segment-param");

/***/ }),

/***/ 96624:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/future/helpers/interception-routes");

/***/ }),

/***/ 75281:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/future/route-modules/route-module");

/***/ }),

/***/ 57085:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/app-router-context");

/***/ }),

/***/ 1830:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/get-img-props");

/***/ }),

/***/ 20199:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hash");

/***/ }),

/***/ 66864:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/head");

/***/ }),

/***/ 39569:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hooks-client-context");

/***/ }),

/***/ 52210:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/image-config");

/***/ }),

/***/ 35359:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/image-config-context");

/***/ }),

/***/ 17160:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router-context");

/***/ }),

/***/ 30893:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/add-path-prefix");

/***/ }),

/***/ 17887:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/handle-smooth-scroll");

/***/ }),

/***/ 98735:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot");

/***/ }),

/***/ 68231:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/parse-path");

/***/ }),

/***/ 54614:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/path-has-prefix");

/***/ }),

/***/ 53750:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/remove-trailing-slash");

/***/ }),

/***/ 79618:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/server-inserted-html");

/***/ }),

/***/ 98658:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/utils/warn-once");

/***/ }),

/***/ 39491:
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ 14300:
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ 32081:
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ 6113:
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ 9523:
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ 82361:
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ 57147:
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ 13685:
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ 85158:
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ 95687:
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ 41808:
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ 22037:
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ 71017:
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ 77282:
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ 85477:
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ 12781:
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ 39512:
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ 24404:
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ 76224:
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ 57310:
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ 73837:
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ 59796:
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ 32263:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgAdd = function SvgAdd(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "add_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "add_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#add_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#add_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M13.33 6.67A6.66 6.66 0 0 0 6.67 0C2.98 0 0 2.98 0 6.67a6.66 6.66 0 0 0 6.67 6.66c3.68 0 6.66-2.98 6.66-6.66Z",
    transform: "translate(1.333 1.333)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0v5.33",
    transform: "translate(8 5.333)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0h5.33",
    transform: "translate(5.333 8)"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgAdd);

/***/ }),

/***/ 64606:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _defs, _rect, _mask, _mask2;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgBot = function SvgBot(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 30,
    height: 30,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "bot_svg__a",
    d: "M0 0h30v30H0z"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "bot_svg__c",
    d: "M0 0h20.455v20.455H0z"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _rect || (_rect = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect", {
    fill: "#E7F8FF",
    width: 30,
    height: 30,
    rx: 10
  })), _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "bot_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#bot_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#bot_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    transform: "translate(4.773 4.773)"
  }, _mask2 || (_mask2 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "bot_svg__d",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#bot_svg__c"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#bot_svg__d)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fillRule: "evenodd",
    style: {
      fill: "#1f948c"
    },
    d: "M19.11 8.37c.17-.52.26-1.06.26-1.61 0-.9-.24-1.79-.71-2.57a5.24 5.24 0 0 0-4.53-2.59c-.37 0-.73.04-1.09.11A5.201 5.201 0 0 0 9.17 0h-.04C6.86 0 4.86 1.44 4.16 3.57A5.11 5.11 0 0 0 .71 6.04C.24 6.83 0 7.72 0 8.63c0 1.27.48 2.51 1.35 3.45-.18.52-.27 1.07-.27 1.61 0 .91.25 1.8.71 2.58 1.13 1.94 3.41 2.94 5.63 2.47a5.18 5.18 0 0 0 3.86 1.71h.05c2.26 0 4.27-1.44 4.97-3.57a5.132 5.132 0 0 0 3.45-2.47c.46-.78.7-1.67.7-2.58 0-1.28-.48-2.51-1.34-3.46ZM8.947 18.158c-.04.03-.08.05-.12.07.7.58 1.57.89 2.48.89h.01c2.14 0 3.88-1.72 3.88-3.83v-4.76c0-.02-.02-.04-.04-.05l-1.74-.99v5.75c0 .23-.13.45-.34.57l-4.13 2.35Zm-.67-1.153 4.17-2.38c.02-.01.03-.03.03-.05v-1.99l-5.04 2.87c-.21.12-.47.12-.68 0l-4.13-2.35c-.04-.02-.09-.06-.12-.07-.04.21-.06.43-.06.65 0 .67.18 1.33.52 1.92v-.01c.7 1.19 1.98 1.92 3.37 1.92.68 0 1.35-.18 1.94-.51ZM3.903 5.168v-.14c-.85.31-1.57.9-2.02 1.68a3.78 3.78 0 0 0-.52 1.91c0 1.37.74 2.64 1.94 3.33l4.17 2.37c.02.01.04.01.06 0l1.75-1-5.04-2.87a.64.64 0 0 1-.34-.57v-4.71Zm13.253 3.337-4.18-2.38c-.02 0-.04 0-.06.01l-1.74.99 5.04 2.87c.21.12.34.34.34.58v4.85c1.52-.56 2.54-1.99 2.54-3.6 0-1.37-.74-2.63-1.94-3.32ZM8.014 5.83c-.02.01-.03.03-.03.05v1.99L13.024 5a.692.692 0 0 1 .68 0l4.13 2.35c.04.02.08.05.12.07.03-.21.05-.43.05-.65 0-2.11-1.74-3.83-3.88-3.83-.68 0-1.35.18-1.94.51l-4.17 2.38Zm1.133-4.492c-2.15 0-3.89 1.72-3.89 3.83v4.76c0 .02.02.03.03.04l1.75 1v-5.75c0-.23.13-.45.34-.57l4.13-2.35c.04-.03.09-.06.12-.07-.7-.58-1.58-.89-2.48-.89ZM7.983 11.51l2.24 1.27 2.25-1.27V8.95l-2.25-1.28-2.24 1.28v2.56Z"
  }))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgBot);

/***/ }),

/***/ 85759:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _mask, _defs;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgCancel = function SvgCancel(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "cancel_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#cancel_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#cancel_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M13.997 8.003c0-.816-.157-1.596-.471-2.34a5.947 5.947 0 0 0-1.284-1.907 5.938 5.938 0 0 0-1.905-1.285A5.93 5.93 0 0 0 8.003 2c-.816 0-1.596.157-2.34.47a5.943 5.943 0 0 0-1.907 1.286 5.942 5.942 0 0 0-1.285 1.908A5.955 5.955 0 0 0 2 8.004c0 .813.157 1.591.47 2.333a5.938 5.938 0 0 0 1.286 1.905c.553.553 1.19.98 1.908 1.284.743.314 1.523.47 2.34.47.813 0 1.59-.156 2.333-.47a5.944 5.944 0 0 0 1.905-1.284 5.944 5.944 0 0 0 1.284-1.905c.314-.742.47-1.52.47-2.334zm1.333 0c0 .994-.192 1.945-.576 2.853a7.265 7.265 0 0 1-1.57 2.329 7.265 7.265 0 0 1-2.328 1.57 7.253 7.253 0 0 1-2.853.575 7.278 7.278 0 0 1-2.858-.576 7.27 7.27 0 0 1-2.332-1.569 7.26 7.26 0 0 1-1.57-2.329 7.25 7.25 0 0 1-.576-2.853c0-.996.192-1.949.575-2.858a7.264 7.264 0 0 1 1.571-2.332 7.264 7.264 0 0 1 2.332-1.57A7.275 7.275 0 0 1 8.003.666a7.25 7.25 0 0 1 2.853.576 7.26 7.26 0 0 1 2.329 1.57 7.27 7.27 0 0 1 1.57 2.332c.383.91.575 1.862.575 2.858z"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "m5.471 4.529 6 6a.666.666 0 1 1-.942.942l-6-6a.665.665 0 1 1 .942-.942z"
  }))), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "cancel_svg__a",
    d: "M0 0h16v16H0z"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgCancel);

/***/ }),

/***/ 26989:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgClose = function SvgClose(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "close_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "close_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#close_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#close_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    transform: "translate(2.667 2.667)",
    d: "m0 0 10.67 10.67M0 10.67 10.67 0"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgClose);

/***/ }),

/***/ 99992:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _mask, _defs;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgConfirm = function SvgConfirm(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "confirm_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#confirm_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#confirm_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M5.996 12.892a.67.67 0 0 1-.84-.083l-3.96-3.94a.665.665 0 0 1 .339-1.126.665.665 0 0 1 .602.181l3.49 3.472 8.24-8.202a.663.663 0 0 1 .841-.08.664.664 0 0 1 .244.81.661.661 0 0 1-.145.215l-8.71 8.67a.666.666 0 0 1-.1.083z"
  }))), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "confirm_svg__a",
    d: "M0 0h16v16H0z"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgConfirm);

/***/ }),

/***/ 59880:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _mask, _defs;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgDrag = function SvgDrag(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "drag_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#drag_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#drag_svg__b)",
    fillRule: "evenodd"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      fill: "#333"
    },
    d: "M6.337 3.33c0 .74-.6 1.34-1.34 1.34a1.336 1.336 0 1 1 1.34-1.34zm-1.34 6a1.33 1.33 0 1 1 0-2.66c.74 0 1.34.59 1.34 1.33 0 .74-.6 1.33-1.34 1.33zm0 4.67a1.336 1.336 0 0 1 0-2.67c.74 0 1.34.6 1.34 1.34 0 .73-.6 1.33-1.34 1.33zM12.337 3.33c0 .74-.6 1.34-1.34 1.34a1.336 1.336 0 1 1 1.34-1.34zm-1.34 6a1.33 1.33 0 1 1 0-2.66c.74 0 1.34.59 1.34 1.33 0 .74-.6 1.33-1.34 1.33zm0 4.67a1.336 1.336 0 0 1 0-2.67c.74 0 1.34.6 1.34 1.34 0 .73-.6 1.33-1.34 1.33z"
  }))), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "drag_svg__a",
    d: "M0 0h16v16H0z"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgDrag);

/***/ }),

/***/ 32168:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _path;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgEye = function SvgEye(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    width: 800,
    height: 800,
    viewBox: "0 0 24 24",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), _path || (_path = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M6.301 15.577C4.778 14.268 3.691 12.773 3.18 12c.51-.773 1.598-2.268 3.121-3.577C7.874 7.072 9.816 6 12 6c2.184 0 4.126 1.072 5.699 2.423 1.523 1.309 2.61 2.804 3.121 3.577-.51.773-1.598 2.268-3.121 3.577C16.126 16.928 14.184 18 12 18c-2.184 0-4.126-1.072-5.699-2.423ZM12 4C9.148 4 6.757 5.395 4.998 6.906c-1.765 1.517-2.99 3.232-3.534 4.064a1.876 1.876 0 0 0 0 2.06c.544.832 1.769 2.547 3.534 4.064C6.758 18.605 9.148 20 12 20c2.852 0 5.243-1.395 7.002-2.906 1.765-1.517 2.99-3.232 3.534-4.064.411-.628.411-1.431 0-2.06-.544-.832-1.769-2.547-3.534-4.064C17.242 5.395 14.852 4 12 4Zm-2 8a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm2-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",
    fill: "#000"
  })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgEye);

/***/ }),

/***/ 34423:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgMax = function SvgMax(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "max_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "max_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#max_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#max_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "m0 0 3.33 3.3",
    transform: "translate(2 2)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 3.3 3.33 0",
    transform: "translate(2 10.667)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M3.3 3.3 0 0",
    transform: "translate(10.7 10.667)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M3.3 0 0 3.3",
    transform: "translate(10.667 2)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0h3v3",
    transform: "translate(11 2)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M3 0v3H0",
    transform: "translate(11 11)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M3 3H0V0",
    transform: "translate(2 11)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 3V0h3",
    transform: "translate(2 2)"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgMax);

/***/ }),

/***/ 66363:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgMin = function SvgMin(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "min_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "min_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#min_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#min_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "m0 0 3.33 3.3",
    transform: "translate(2 2)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 3.3 3.33 0",
    transform: "translate(2 10.667)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M3.3 3.3 0 0",
    transform: "translate(10.7 10.667)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M3.3 0 0 3.3",
    transform: "translate(10.667 2)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0v3h3",
    transform: "translate(10.667 2.333)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M3 0v3H0",
    transform: "translate(2.333 2.333)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M3 3V0H0",
    transform: "translate(2.333 10.667)"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 3V0h2.97",
    transform: "translate(10.667 10.667)"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgMin);

/***/ }),

/***/ 30841:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgReload = function SvgReload(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    id: "reload_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", null, _mask || (_mask = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("mask", {
    id: "reload_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("use", {
    xlinkHref: "#reload_svg__a"
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", {
    mask: "url(#reload_svg__b)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    transform: "translate(14 2.667)",
    d: "M0 0v5.33"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    transform: "translate(2 8)",
    d: "M0 0v5.33"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    transform: "translate(2 2)",
    d: "M12.003 6a6.005 6.005 0 0 0-10.32-4.17M0 6a6.005 6.005 0 0 0 10.17 4.32"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgReload);

/***/ }),

/***/ 39866:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var _circle, _circle2, _circle3;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgThreeDots = function SvgThreeDots(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: 30,
    height: 14,
    fill: "#fff",
    viewBox: "0 0 120 30"
  }, props), _circle || (_circle = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle", {
    cx: 15,
    cy: 15,
    r: 15,
    fill: "var(--primary, red)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate", {
    attributeName: "r",
    begin: "0s",
    calcMode: "linear",
    dur: "0.8s",
    from: 15,
    repeatCount: "indefinite",
    to: 15,
    values: "15;9;15"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate", {
    attributeName: "fill-opacity",
    begin: "0s",
    calcMode: "linear",
    dur: "0.8s",
    from: 1,
    repeatCount: "indefinite",
    to: 1,
    values: "1;.5;1"
  }))), _circle2 || (_circle2 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle", {
    cx: 60,
    cy: 15,
    r: 9,
    fill: "var(--primary, red)",
    fillOpacity: 0.3
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate", {
    attributeName: "r",
    begin: "0s",
    calcMode: "linear",
    dur: "0.8s",
    from: 9,
    repeatCount: "indefinite",
    to: 9,
    values: "9;15;9"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate", {
    attributeName: "fill-opacity",
    begin: "0s",
    calcMode: "linear",
    dur: "0.8s",
    from: 0.5,
    repeatCount: "indefinite",
    to: 0.5,
    values: ".5;1;.5"
  }))), _circle3 || (_circle3 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle", {
    cx: 105,
    cy: 15,
    r: 15,
    fill: "var(--primary, red)"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate", {
    attributeName: "r",
    begin: "0s",
    calcMode: "linear",
    dur: "0.8s",
    from: 15,
    repeatCount: "indefinite",
    to: 15,
    values: "15;9;15"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("animate", {
    attributeName: "fill-opacity",
    begin: "0s",
    calcMode: "linear",
    dur: "0.8s",
    from: 1,
    repeatCount: "indefinite",
    to: 1,
    values: "1;.5;1"
  }))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgThreeDots);

/***/ }),

/***/ 34926:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   originalPathname: () => (/* binding */ originalPathname),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   routeModule: () => (/* binding */ routeModule),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_server_future_route_modules_app_page_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7262);
/* harmony import */ var next_dist_server_future_route_modules_app_page_module__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19513);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(31823);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(12502);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if(["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
// @ts-ignore this need to be imported from next/dist to be external


const AppPageRouteModule = next_dist_server_future_route_modules_app_page_module__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule;
// We inject the tree and pages here so that we can use them in the route
// module.
const tree = {
        children: [
        '',
        {
        children: ['__PAGE__', {}, {
          page: [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 53091)), "/Users/zhangdezhi/Documents/project/chatgpt/app/page.tsx"],
          
        }]
      },
        {
          'layout': [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 33899)), "/Users/zhangdezhi/Documents/project/chatgpt/app/layout.tsx"],
          
        }
      ]
      }.children;
const pages = ["/Users/zhangdezhi/Documents/project/chatgpt/app/page.tsx"];

// @ts-expect-error - replaced by webpack/turbopack loader

const __next_app_require__ = __webpack_require__
const __next_app_load_chunk__ = () => Promise.resolve()
const originalPathname = "/page";
const __next_app__ = {
    require: __next_app_require__,
    loadChunk: __next_app_load_chunk__
};

// Create and export the route module that will be consumed.
const routeModule = new AppPageRouteModule({
    definition: {
        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__/* .RouteKind */ .x.APP_PAGE,
        page: "/page",
        pathname: "/",
        // The following aren't used in production.
        bundlePath: "",
        filename: "",
        appPaths: []
    },
    userland: {
        loaderTree: tree
    }
});

//# sourceMappingURL=app-page.js.map

/***/ }),

/***/ 59261:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 82051));
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 59977))

/***/ }),

/***/ 94564:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 71768, 23))

/***/ }),

/***/ 97660:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 31232, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 52987, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 50831, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 56926, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 44282, 23))

/***/ }),

/***/ 75918:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HT: () => (/* binding */ GET),
/* harmony export */   a4: () => (/* binding */ POST)
/* harmony export */ });
/* unused harmony exports PUT, DELETE */
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(93258);
/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14751);
/*
 * :file description: 
 * :name: /chatgpt/app/api/request.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-13 17:15:43
 * :last editor: 张德志
 * :date last edited: 2023-08-19 00:25:24
 */ 

/**
 * 请求开始
 */ function requestStart(config) {
    if (config.headers) {
    // config.headers.Authorization = getToken();
    }
    return config;
}
/**
 * 请求成功,检查请求头
 */ function responseSuccess(response) {
    return response;
}
/**
 * 响应数据检查
 */ function checkRes(data) {
    if (data === undefined) {
        console.log("error->", data, "data is empty");
        return Promise.reject("服务器异常");
    } else if (data.code < 200 || data.code >= 400) {
        return Promise.reject(data);
    }
    return data.data;
}
/**
 * 响应错误
 */ function responseError(err) {
    console.log("error->", "请求错误", err);
    if (!err) {
        return Promise.reject({
            message: "未知错误"
        });
    }
    if (typeof err === "string") {
        return Promise.reject({
            message: err
        });
    }
    if (err?.code in _constant__WEBPACK_IMPORTED_MODULE_0__/* .TOKEN_ERROR_CODE */ .o6) {
        window.location.replace(`/#/login`);
    }
    return err;
}
/* 创建请求实例 */ const instance = axios__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z.create({
    timeout: 60000,
    headers: {
        "content-type": "application/json"
    }
});
/* 请求拦截 */ instance.interceptors.request.use(requestStart, (err)=>Promise.reject(err));
/* 响应拦截 */ instance.interceptors.response.use(responseSuccess, (err)=>Promise.reject(err));
function request(url, data, config, method) {
    /* 去空 */ for(const key in data){
        if (data[key] === null || data[key] === undefined) {
            delete data[key];
        }
    }
    return instance.request({
        baseURL: "/api",
        url,
        method,
        data: method === "GET" ? null : data,
        params: method === "GET" ? data : null,
        ...config // 用户自定义配置，可以覆盖前面的配置
    }).then((res)=>checkRes(res.data)).catch((err)=>responseError(err));
}
/**
 * api请求方式
 * @param {String} url
 * @param {Any} params
 * @param {Object} config
 * @returns
 */ function GET(url, params = {}, config = {}) {
    return request(url, params, config, "GET");
}
function POST(url, data = {}, config = {}) {
    return request(url, data, config, "POST");
}
function PUT(url, data = {}, config = {}) {
    return request(url, data, config, "PUT");
}
function DELETE(url, config = {}) {
    return request(url, {}, config, "DELETE");
}


/***/ }),

/***/ 11915:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   F5: () => (/* binding */ getPromotionRecords),
/* harmony export */   Km: () => (/* binding */ getPromotionInitData),
/* harmony export */   Lb: () => (/* binding */ getPayOrders),
/* harmony export */   NB: () => (/* binding */ getUserBills),
/* harmony export */   Q0: () => (/* binding */ postFindPassword),
/* harmony export */   Qj: () => (/* binding */ getInforms),
/* harmony export */   SV: () => (/* binding */ postLogin),
/* harmony export */   oK: () => (/* binding */ sendAuthCode),
/* harmony export */   pi: () => (/* binding */ postRegister),
/* harmony export */   sT: () => (/* binding */ checkPayResult)
/* harmony export */ });
/* unused harmony exports getTokenLogin, loginOut, putUserInfo, getPayCode, getUnreadCount, readInform, getInitData, getSystemModelList, uploadImg */
/* harmony import */ var _request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(75918);
/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(96516);
/*
 * :file description: 
 * :name: /chatgpt/app/api/user.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-13 17:12:37
 * :last editor: 张德志
 * :date last edited: 2023-08-20 17:00:16
 */ 

const sendAuthCode = (data)=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .POST */ .a4)("/user/sendAuthCode", data);
const getTokenLogin = ()=>GET("/user/tokenLogin");
const getPromotionInitData = ()=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .GET */ .HT)("/user/promotion/getPromotionData");
const postRegister = ({ username, password, code, inviterId })=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .POST */ .a4)("/user/register", {
        username,
        code,
        inviterId,
        password: (0,_utils_index__WEBPACK_IMPORTED_MODULE_1__/* .createHashPassword */ .ij)(password)
    });
const postFindPassword = ({ username, code, password })=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .POST */ .a4)("/user/updatePasswordByCode", {
        username,
        code,
        password: (0,_utils_index__WEBPACK_IMPORTED_MODULE_1__/* .createHashPassword */ .ij)(password)
    });
const postLogin = ({ username, password })=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .POST */ .a4)("/user/loginByPassword", {
        username,
        password: (0,_utils_index__WEBPACK_IMPORTED_MODULE_1__/* .createHashPassword */ .ij)(password)
    });
const loginOut = ()=>GET("/user/loginout");
const putUserInfo = (data)=>PUT("/user/update", data);
const getUserBills = (data)=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .POST */ .a4)(`/user/getBill`, data);
const getPayOrders = ()=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .GET */ .HT)(`/user/getPayOrders`);
const getPayCode = (amount)=>GET(`/user/getPayCode?amount=${amount}`);
const checkPayResult = (payId)=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .GET */ .HT)(`/user/checkPayResult?payId=${payId}`);
const getPromotionRecords = (data)=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .GET */ .HT)(`/user/promotion/getPromotions?${(0,_utils_index__WEBPACK_IMPORTED_MODULE_1__/* .Obj2Query */ .iO)(data)}`);
const getInforms = (data)=>(0,_request__WEBPACK_IMPORTED_MODULE_0__/* .POST */ .a4)(`/user/inform/list`, data);
const getUnreadCount = ()=>GET(`/user/inform/countUnread`);
const readInform = (id)=>GET(`/user/inform/read`, {
        id
    });
const getInitData = ()=>GET("/system/getInitData");
const getSystemModelList = ()=>GET("/system/getModels");
const uploadImg = (base64Img)=>POST("/system/uploadImage", {
        base64Img
    });


/***/ }),

/***/ 96083:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  K$: () => (/* binding */ ROLES),
  hi: () => (/* binding */ api),
  wU: () => (/* binding */ getHeaders)
});

// UNUSED EXPORTS: ClientApi, LLMApi, Models

// EXTERNAL MODULE: ./app/config/client.ts + 2 modules
var client = __webpack_require__(12730);
// EXTERNAL MODULE: ./app/constant.ts
var constant = __webpack_require__(14751);
// EXTERNAL MODULE: ./app/store/index.ts + 2 modules
var store = __webpack_require__(87079);
// EXTERNAL MODULE: ./app/locales/index.ts + 2 modules
var locales = __webpack_require__(32261);
// EXTERNAL MODULE: ./node_modules/@fortaine/fetch-event-source/lib/esm/fetch.js + 1 modules
var esm_fetch = __webpack_require__(39033);
// EXTERNAL MODULE: ./app/utils/format.ts
var format = __webpack_require__(21620);
;// CONCATENATED MODULE: ./app/client/platforms/openai.ts
/*
 * :file description: 
 * :name: /chatgpt/app/client/platforms/openai.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-17 23:28:08
 */ 





class ChatGPTApi {
    path(path) {
        let openaiUrl = store/* useAccessStore */._X.getState().openaiUrl;
        if (openaiUrl.length === 0) {
            openaiUrl = constant/* DEFAULT_API_HOST */.Ky;
        }
        if (openaiUrl.endsWith("/")) {
            openaiUrl = openaiUrl.slice(0, openaiUrl.length - 1);
        }
        openaiUrl = "https://xzgpt.fkvip.club/api/openapi/v1";
        // if (!openaiUrl.startsWith("http") && !openaiUrl.startsWith("api/openapi")) {
        // }
        return [
            openaiUrl,
            path
        ].join("/");
    }
    extractMessage(res) {
        return res.choices?.at(0)?.message?.content ?? "";
    }
    async chat(options) {
        const messages = options.messages.map((v)=>({
                role: v.role,
                content: v.content
            }));
        const modelConfig = {
            ...store/* useAppConfig */.MG.getState().modelConfig,
            ...store/* useChatStore */.aK.getState().currentSession().mask.modelConfig,
            ...{
                model: options.config.model,
                appId: options.config.appId,
                chatId: options.config.chatId
            }
        };
        const requestPayload = {
            messages,
            stream: options.config.stream,
            model: modelConfig.model,
            appId: modelConfig.appId,
            chatId: modelConfig.chatId
        };
        console.log("[Request] openai payload: ", requestPayload);
        const shouldStream = !!options.config.stream;
        const controller = new AbortController();
        options.onController?.(controller);
        try {
            const chatPath = this.path(constant/* OpenaiPath */.mX.ChatPath);
            const chatPayload = {
                method: "POST",
                body: JSON.stringify(requestPayload),
                signal: controller.signal,
                headers: getHeaders()
            };
            // make a fetch request
            const requestTimeoutId = setTimeout(()=>controller.abort(), constant/* REQUEST_TIMEOUT_MS */.tb);
            if (shouldStream) {
                let responseText = "";
                let finished = false;
                const finish = ()=>{
                    if (!finished) {
                        options.onFinish(responseText);
                        finished = true;
                    }
                };
                controller.signal.onabort = finish;
                (0,esm_fetch/* fetchEventSource */.L)(chatPath, {
                    ...chatPayload,
                    async onopen (res) {
                        clearTimeout(requestTimeoutId);
                        const contentType = res.headers.get("content-type");
                        console.log("[OpenAI] request response content type: ", contentType);
                        if (contentType?.startsWith("text/plain")) {
                            responseText = await res.clone().text();
                            return finish();
                        }
                        if (!res.ok || !res.headers.get("content-type")?.startsWith(esm_fetch/* EventStreamContentType */.a) || res.status !== 200) {
                            const responseTexts = [
                                responseText
                            ];
                            let extraInfo = await res.clone().text();
                            try {
                                const resJson = await res.clone().json();
                                extraInfo = (0,format/* prettyObject */.B)(resJson);
                            } catch  {}
                            if (res.status === 401) {
                                responseTexts.push(locales/* default */.ZP.Error.Unauthorized);
                            }
                            if (extraInfo) {
                                responseTexts.push(extraInfo);
                            }
                            responseText = responseTexts.join("\n\n");
                            return finish();
                        }
                    },
                    onmessage (msg) {
                        if (msg.data === "[DONE]" || finished) {
                            return finish();
                        }
                        const text = msg.data;
                        try {
                            const json = JSON.parse(text);
                            const delta = json.choices[0].delta.content;
                            if (delta) {
                                responseText += delta;
                                options.onUpdate?.(responseText, delta);
                            }
                        } catch (e) {
                            console.error("[Request] parse error", text, msg);
                        }
                    },
                    onclose () {
                        finish();
                    },
                    onerror (e) {
                        options.onError?.(e);
                        throw e;
                    },
                    openWhenHidden: true
                });
            } else {
                const res = await fetch(chatPath, chatPayload);
                clearTimeout(requestTimeoutId);
                const resJson = await res.json();
                const message = this.extractMessage(resJson);
                options.onFinish(message);
            }
        } catch (e) {
            console.log("[Request] failed to make a chat request", e);
            options.onError?.(e);
        }
    }
    async usage() {
        const formatDate = (d)=>`${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, "0")}-${d.getDate().toString().padStart(2, "0")}`;
        const ONE_DAY = 1 * 24 * 60 * 60 * 1000;
        const now = new Date();
        const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);
        const startDate = formatDate(startOfMonth);
        const endDate = formatDate(new Date(Date.now() + ONE_DAY));
        const [used, subs] = await Promise.all([
            fetch(this.path(`${constant/* OpenaiPath */.mX.UsagePath}?start_date=${startDate}&end_date=${endDate}`), {
                method: "GET",
                headers: getHeaders()
            }),
            fetch(this.path(constant/* OpenaiPath */.mX.SubsPath), {
                method: "GET",
                headers: getHeaders()
            })
        ]);
        if (used.status === 401) {
            throw new Error(locales/* default */.ZP.Error.Unauthorized);
        }
        if (!used.ok || !subs.ok) {
            throw new Error("Failed to query usage from openai");
        }
        const response = await used.json();
        const total = await subs.json();
        if (response.error && response.error.type) {
            throw Error(response.error.message);
        }
        if (response.total_usage) {
            response.total_usage = Math.round(response.total_usage) / 100;
        }
        if (total.hard_limit_usd) {
            total.hard_limit_usd = Math.round(total.hard_limit_usd * 100) / 100;
        }
        return {
            used: response.total_usage,
            total: total.hard_limit_usd
        };
    }
    async models() {
        if (this.disableListModels) {
            return constant/* DEFAULT_MODELS */.Fv.slice();
        }
        const res = await fetch(this.path(constant/* OpenaiPath */.mX.ListModelPath), {
            method: "GET",
            headers: {
                ...getHeaders()
            }
        });
        const resJson = await res.json();
        const chatModels = resJson.data?.filter((m)=>m.id.startsWith("gpt-"));
        console.log("[Models]", chatModels);
        if (!chatModels) {
            return [];
        }
        return chatModels.map((m)=>({
                name: m.id,
                available: true
            }));
    }
    constructor(){
        this.disableListModels = true;
    }
}


;// CONCATENATED MODULE: ./app/client/api.ts




const ROLES = [
    "system",
    "user",
    "assistant"
];
const Models = (/* unused pure expression or super */ null && ([
    "gpt-3.5-turbo",
    "gpt-4"
]));
class LLMApi {
}
class ClientApi {
    constructor(){
        this.llm = new ChatGPTApi();
    }
    config() {}
    prompts() {}
    masks() {}
    async share(messages, avatarUrl = null) {
        const msgs = messages.map((m)=>({
                from: m.role === "user" ? "human" : "gpt",
                value: m.content
            })).concat([
            {
                from: "human",
                value: "Share from [千知GPT]: https://github.com/Yidadaa/ChatGPT-Next-Web"
            }
        ]);
        // 敬告二开开发者们，为了开源大模型的发展，请不要修改上述消息，此消息用于后续数据清洗使用
        // Please do not modify this message
        console.log("[Share]", messages, msgs);
        const clientConfig = (0,client/* getClientConfig */.Z)();
        const proxyUrl = "/sharegpt";
        const rawUrl = "https://sharegpt.com/api/conversations";
        const shareUrl = clientConfig?.isApp ? rawUrl : proxyUrl;
        const res = await fetch(shareUrl, {
            body: JSON.stringify({
                avatarUrl,
                items: msgs
            }),
            headers: {
                "Content-Type": "application/json"
            },
            method: "POST"
        });
        const resJson = await res.json();
        console.log("[Share]", resJson);
        if (resJson.id) {
            return `https://shareg.pt/${resJson.id}`;
        }
    }
}
const api = new ClientApi();
function getHeaders() {
    const accessStore = store/* useAccessStore */._X.getState();
    let headers = {
        "Content-Type": "application/json",
        "x-requested-with": "XMLHttpRequest"
    };
    const makeBearer = (token)=>`Bearer ${token.trim()}`;
    const validString = (x)=>x && x.length > 0;
    // use user's api key first
    if (validString(accessStore.token)) {
        headers.Authorization = makeBearer(accessStore.token);
    } else if (accessStore.enabledAccessControl() && validString(accessStore.accessCode)) {
        headers.Authorization = makeBearer(constant/* ACCESS_CODE_PREFIX */.TW + accessStore.accessCode);
    }
    return headers;
}


/***/ }),

/***/ 93935:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ ChatControllerPool)
/* harmony export */ });
// To store message streaming controller
const ChatControllerPool = {
    controllers: {},
    addController (sessionId, messageId, controller) {
        const key = this.key(sessionId, messageId);
        this.controllers[key] = controller;
        return key;
    },
    stop (sessionId, messageId) {
        const key = this.key(sessionId, messageId);
        const controller = this.controllers[key];
        controller?.abort();
    },
    stopAll () {
        Object.values(this.controllers).forEach((v)=>v.abort());
    },
    hasPending () {
        return Object.values(this.controllers).length > 0;
    },
    remove (sessionId, messageId) {
        const key = this.key(sessionId, messageId);
        delete this.controllers[key];
    },
    key (sessionId, messageIndex) {
        return `${sessionId},${messageIndex}`;
    }
};


/***/ }),

/***/ 69168:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   h: () => (/* binding */ IconButton)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(56786);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _button_module_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23150);
/* harmony import */ var _button_module_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_button_module_scss__WEBPACK_IMPORTED_MODULE_2__);



function IconButton(props) {
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", {
        className: (_button_module_scss__WEBPACK_IMPORTED_MODULE_2___default()["icon-button"]) + ` ${props.bordered && (_button_module_scss__WEBPACK_IMPORTED_MODULE_2___default().border)} ${props.shadow && (_button_module_scss__WEBPACK_IMPORTED_MODULE_2___default().shadow)} ${props.className ?? ""} clickable ${(_button_module_scss__WEBPACK_IMPORTED_MODULE_2___default())[props.type ?? ""]}`,
        onClick: props.onClick,
        title: props.title,
        disabled: props.disabled,
        role: "button",
        tabIndex: props.tabIndex,
        autoFocus: props.autoFocus,
        children: [
            props.icon && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_button_module_scss__WEBPACK_IMPORTED_MODULE_2___default()["icon-button-icon"]) + ` ${props.type === "primary" && "no-dark"}`,
                children: props.icon
            }),
            props.text && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_button_module_scss__WEBPACK_IMPORTED_MODULE_2___default()["icon-button-text"]),
                children: props.text
            })
        ]
    });
}


/***/ }),

/***/ 22014:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  S: () => (/* binding */ ErrorBoundary)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(18038);
var react_default = /*#__PURE__*/__webpack_require__.n(react_);
// EXTERNAL MODULE: ./app/components/button.tsx
var components_button = __webpack_require__(69168);
;// CONCATENATED MODULE: ./app/icons/github.svg
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgGithub = function SvgGithub(props) {
  return /*#__PURE__*/react_.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react_.createElement("defs", null, /*#__PURE__*/react_.createElement("path", {
    id: "github_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react_.createElement("g", null, _mask || (_mask = /*#__PURE__*/react_.createElement("mask", {
    id: "github_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#github_svg__a"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#github_svg__b)"
  }, /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M7.11 8.51c.81-.16 1.53-.45 2.1-.87.96-.73 1.46-1.85 1.46-2.95 0-.78-.3-1.5-.81-2.11-.28-.34.55-2.89-.19-2.55-.73.34-1.81 1.1-2.38.94C6.68.79 6.02.69 5.33.69c-.6 0-1.17.07-1.71.21-.79.2-1.53-.54-2.29-.87C.58-.29.99 2.34.77 2.62.28 3.22 0 3.93 0 4.69c0 1.1.6 2.22 1.56 2.95.65.48 1.45.78 2.35.94",
    transform: "translate(2.667 1.645)"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M.58 0C.19.43 0 .83 0 1.21v2.91",
    transform: "translate(6 10.22)"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0c.37.48.55.91.55 1.29v2.89",
    transform: "translate(9.782 10.159)"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0c.3.04.52.17.67.41C.88.77 1.69 2.1 2.61 2.1H4",
    transform: "translate(2 10.405)"
  }))));
};
/* harmony default export */ const github = (SvgGithub);
// EXTERNAL MODULE: ./app/icons/reload.svg
var reload = __webpack_require__(30841);
// EXTERNAL MODULE: ./app/constant.ts
var constant = __webpack_require__(14751);
// EXTERNAL MODULE: ./app/locales/index.ts + 2 modules
var locales = __webpack_require__(32261);
// EXTERNAL MODULE: ./app/utils.ts
var utils = __webpack_require__(54289);
// EXTERNAL MODULE: ./app/components/ui-lib.tsx + 3 modules
var ui_lib = __webpack_require__(5129);
;// CONCATENATED MODULE: ./app/components/error.tsx









class ErrorBoundary extends (react_default()).Component {
    constructor(props){
        super(props);
        this.state = {
            hasError: false,
            error: null,
            info: null
        };
    }
    componentDidCatch(error, info) {
        // Update state with error details
        this.setState({
            hasError: true,
            error,
            info
        });
    }
    clearAndSaveData() {
        try {
            (0,utils/* downloadAs */.CP)(JSON.stringify(localStorage), "chatgpt-next-web-snapshot.json");
        } finally{
            localStorage.clear();
            location.reload();
        }
    }
    render() {
        if (this.state.hasError) {
            // Render error message
            return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "error",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                        children: "Oops, something went wrong!"
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("pre", {
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("code", {
                                children: this.state.error?.toString()
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("code", {
                                children: this.state.info?.componentStack
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        style: {
                            display: "flex",
                            justifyContent: "space-between"
                        },
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("a", {
                                href: constant/* ISSUE_URL */.TH,
                                className: "report",
                                children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                    text: "Report This Error",
                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(github, {}),
                                    bordered: true
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                icon: /*#__PURE__*/ jsx_runtime_.jsx(reload/* default */.Z, {}),
                                text: "Clear All Data",
                                onClick: async ()=>{
                                    if (await (0,ui_lib/* showConfirm */.i0)(locales/* default */.ZP.Settings.Danger.Reset.Confirm)) {
                                        this.clearAndSaveData();
                                    }
                                },
                                bordered: true
                            })
                        ]
                    })
                ]
            });
        }
        // if no error occurred, render children
        return this.props.children;
    }
}


/***/ }),

/***/ 82051:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Home: () => (/* binding */ Home),
  Loading: () => (/* binding */ home_Loading),
  useLoadData: () => (/* binding */ useLoadData),
  useSwitchTheme: () => (/* binding */ useSwitchTheme)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(18038);
// EXTERNAL MODULE: ./app/components/home.module.scss
var home_module = __webpack_require__(89641);
var home_module_default = /*#__PURE__*/__webpack_require__.n(home_module);
// EXTERNAL MODULE: ./app/icons/bot.svg
var bot = __webpack_require__(64606);
// EXTERNAL MODULE: ./app/icons/three-dots.svg
var three_dots = __webpack_require__(39866);
// EXTERNAL MODULE: ./app/utils.ts
var utils = __webpack_require__(54289);
// EXTERNAL MODULE: ./node_modules/next/dist/shared/lib/app-dynamic.js
var app_dynamic = __webpack_require__(47335);
var app_dynamic_default = /*#__PURE__*/__webpack_require__.n(app_dynamic);
// EXTERNAL MODULE: ./app/constant.ts
var constant = __webpack_require__(14751);
// EXTERNAL MODULE: ./app/components/error.tsx + 1 modules
var error = __webpack_require__(22014);
// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/umd/react-router-dom.production.min.js
var react_router_dom_production_min = __webpack_require__(5666);
// EXTERNAL MODULE: ./app/components/button.tsx
var components_button = __webpack_require__(69168);
;// CONCATENATED MODULE: ./app/icons/settings.svg
var _defs, _mask;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgSettings = function SvgSettings(props) {
  return /*#__PURE__*/react_.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react_.createElement("defs", null, /*#__PURE__*/react_.createElement("path", {
    id: "settings_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react_.createElement("g", null, _mask || (_mask = /*#__PURE__*/react_.createElement("mask", {
    id: "settings_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#settings_svg__a"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#settings_svg__b)"
  }, /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    transform: "translate(1.333 2.333)",
    d: "M13.33 5.67 10 0H3.33L0 5.67l3.33 5.66H10l3.33-5.66Z"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    transform: "translate(6.333 6.333)",
    d: "M3.33 1.67C3.33.75 2.59 0 1.67 0 .75 0 0 .75 0 1.67c0 .92.75 1.66 1.67 1.66.92 0 1.66-.74 1.66-1.66Z"
  }))));
};
/* harmony default export */ const settings = (SvgSettings);
;// CONCATENATED MODULE: ./app/icons/user.svg
var _path;
function user_extends() { user_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return user_extends.apply(this, arguments); }

var SvgUser = function SvgUser(props) {
  return /*#__PURE__*/react_.createElement("svg", user_extends({
    className: "user_svg__icon",
    viewBox: "0 0 1024 1024",
    xmlns: "http://www.w3.org/2000/svg",
    width: 200,
    height: 200
  }, props), _path || (_path = /*#__PURE__*/react_.createElement("path", {
    d: "m960.8 710.4-17.9-40.3a4 4 0 0 0-4.7-2.2l-53.7 14.6-31-31 14.6-53.7a4 4 0 0 0-2.2-4.7l-40.3-17.9a4 4 0 0 0-5 1.6l-29.3 48.8h-41.4l-29.3-48.8a4 4 0 0 0-5-1.6l-40.5 18a4 4 0 0 0-2.3 4.4l9.7 53.9-31 31-53.7-14.6a4 4 0 0 0-4.7 2.2l-17.9 40.3a4 4 0 0 0 1.6 5l48.8 29.3v41.4l-48.8 29.3a4 4 0 0 0-1.6 5l18 40.5a4 4 0 0 0 4.4 2.3l53.9-9.7 31 31-14.6 53.7a4 4 0 0 0 2.2 4.7l40.3 17.9a4 4 0 0 0 5-1.6l29.3-48.8h41.4l29.3 48.8a4 4 0 0 0 5 1.6l40.3-17.9a4 4 0 0 0 2.2-4.7l-14.6-53.7 31-31 53.7 14.6a4 4 0 0 0 4.7-2.2l18.1-40.7a4 4 0 0 0-1.2-4.7l-44.2-34.4v-41.4l48.8-29.3a4 4 0 0 0 1.6-5zM768.2 846a78 78 0 1 1 78-78 78 78 0 0 1-78 78zm5.8-504c0-144.7-117.3-262-262-262S250 197.3 250 342a261.7 261.7 0 0 0 117.4 218.5c-140 57.4-239.3 195.4-239.3 355.5v25.5a4 4 0 0 0 4 4h64a4 4 0 0 0 4-4V916a307.1 307.1 0 0 1 24.6-120.9 315.1 315.1 0 0 1 166.4-166.5A307.9 307.9 0 0 1 512 604c144.7 0 262-117.3 262-262zM512 532a189.8 189.8 0 1 1 134.4-55.6A189.1 189.1 0 0 1 512 532z",
    fill: "#2c2c2c"
  })));
};
/* harmony default export */ const user = (SvgUser);
;// CONCATENATED MODULE: ./app/icons/chatgpt.svg
var chatgpt_defs, chatgpt_mask;
function chatgpt_extends() { chatgpt_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return chatgpt_extends.apply(this, arguments); }

var SvgChatgpt = function SvgChatgpt(props) {
  return /*#__PURE__*/react_.createElement("svg", chatgpt_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 43,
    height: 44,
    fill: "none"
  }, props), chatgpt_defs || (chatgpt_defs = /*#__PURE__*/react_.createElement("defs", null, /*#__PURE__*/react_.createElement("path", {
    id: "chatgpt_svg__a",
    d: "M0 0h43v43.58H0z"
  }))), /*#__PURE__*/react_.createElement("g", null, chatgpt_mask || (chatgpt_mask = /*#__PURE__*/react_.createElement("mask", {
    id: "chatgpt_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#chatgpt_svg__a"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#chatgpt_svg__b)"
  }, /*#__PURE__*/react_.createElement("path", {
    fillRule: "evenodd",
    style: {
      fill: "#8bcae0"
    },
    opacity: 0.27,
    d: "M40.17 17.84c.36-1.11.55-2.27.55-3.43 0-1.93-.51-3.83-1.49-5.49a10.98 10.98 0 0 0-9.52-5.51c-.77 0-1.55.08-2.3.24A10.868 10.868 0 0 0 19.29 0h-.1c-4.76 0-8.98 3.07-10.45 7.6-3.06.63-5.71 2.55-7.26 5.27a10.993 10.993 0 0 0 1.35 12.87c-.36 1.11-.55 2.27-.55 3.43 0 1.93.51 3.83 1.49 5.49a10.97 10.97 0 0 0 11.82 5.27c2.06 2.32 5.02 3.65 8.12 3.65h.1c4.76 0 8.99-3.07 10.45-7.61a10.82 10.82 0 0 0 7.26-5.26 10.995 10.995 0 0 0-1.35-12.87ZM18.817 38.695c-.09.05-.17.1-.26.15a8.145 8.145 0 0 0 5.22 1.89h.01c4.5-.01 8.15-3.67 8.16-8.17v-10.13a.153.153 0 0 0-.07-.1l-3.67-2.12v12.24c0 .51-.27.98-.72 1.23l-8.67 5.01Zm-1.424-2.472 8.77-5.06c.04-.03.06-.07.06-.11h-.01v-4.24l-10.59 6.12c-.44.25-.98.25-1.42 0l-8.68-5.01c-.08-.05-.2-.12-.26-.16a8.19 8.19 0 0 0 .97 5.47 8.18 8.18 0 0 0 7.08 4.08c1.43 0 2.84-.37 4.08-1.09Zm-9.187-25.21v-.3c-1.79.66-3.3 1.93-4.25 3.58a8.226 8.226 0 0 0-1.09 4.08c0 2.92 1.55 5.61 4.08 7.07l8.77 5.07c.04.02.09.02.12-.01l3.67-2.12-10.59-6.11c-.44-.25-.71-.72-.71-1.23v-10.03Zm27.849 7.117-8.77-5.07a.126.126 0 0 0-.12.01l-3.67 2.12 10.59 6.12c.44.25.71.71.71 1.22v10.33a8.168 8.168 0 0 0 5.35-7.66 8.16 8.16 0 0 0-4.09-7.07Zm-19.22-5.718a.16.16 0 0 0-.05.11v4.24l10.59-6.12c.22-.12.47-.19.72-.19s.49.07.71.19l8.68 5.02c.08.05.17.1.25.15.08-.46.12-.92.12-1.38 0-4.51-3.66-8.17-8.17-8.17-1.43 0-2.83.38-4.08 1.09l-8.77 5.06ZM19.22 2.85c-4.51 0-8.17 3.65-8.17 8.16v10.13c.01.05.03.08.07.1l3.67 2.12.01-12.23v-.01c0-.5.27-.97.71-1.22l8.68-5.01c.07-.05.19-.11.25-.15a8.145 8.145 0 0 0-5.22-1.89ZM16.783 24.51l4.72 2.73 4.72-2.73v-5.45l-4.72-2.72-4.72 2.73v5.44Z"
  }))));
};
/* harmony default export */ const chatgpt = (SvgChatgpt);
// EXTERNAL MODULE: ./app/icons/add.svg
var add = __webpack_require__(32263);
// EXTERNAL MODULE: ./app/icons/close.svg
var icons_close = __webpack_require__(26989);
;// CONCATENATED MODULE: ./app/icons/mask.svg
var mask_defs, mask_mask;
function mask_extends() { mask_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return mask_extends.apply(this, arguments); }

var SvgMask = function SvgMask(props) {
  return /*#__PURE__*/react_.createElement("svg", mask_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), mask_defs || (mask_defs = /*#__PURE__*/react_.createElement("defs", null, /*#__PURE__*/react_.createElement("path", {
    id: "mask_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react_.createElement("g", null, mask_mask || (mask_mask = /*#__PURE__*/react_.createElement("mask", {
    id: "mask_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#mask_svg__a"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#mask_svg__b)"
  }, /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M6 0C2.69 0 0 2.54 0 5.67s2.69 5.66 6 5.66 6-2.53 6-5.66C12 2.54 9.31 0 6 0Z",
    transform: "translate(2 3.333)"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M1 0C.45 0 0 .6 0 1.33c0 .74.45 1.34 1 1.34s1-.6 1-1.34C2 .6 1.55 0 1 0Z",
    transform: "rotate(15 -22.183 22.313)"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M1 0C.45 0 0 .6 0 1.33c0 .74.45 1.34 1 1.34s1-.6 1-1.34C2 .6 1.55 0 1 0Z",
    transform: "rotate(165 5.213 5.304)"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M4 4.51c1.04-1.04 1.15-2.74.1-3.78C3.06-.32 1.04-.2 0 .84",
    transform: "translate(9.667 2.493)"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M.84 4.51C-.2 3.47-.32 1.77.73.73 1.77-.32 3.8-.2 4.84.84",
    transform: "translate(1.493 2.493)"
  }), /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M0 0c.17.43.73 1.09 1.67.29.93.8 1.5.14 1.66-.29",
    transform: "translate(6.5 11.67)"
  }))));
};
/* harmony default export */ const mask = (SvgMask);
;// CONCATENATED MODULE: ./app/icons/plugin.svg
var plugin_mask, plugin_defs;
function plugin_extends() { plugin_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return plugin_extends.apply(this, arguments); }

var SvgPlugin = function SvgPlugin(props) {
  return /*#__PURE__*/react_.createElement("svg", plugin_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), /*#__PURE__*/react_.createElement("g", null, plugin_mask || (plugin_mask = /*#__PURE__*/react_.createElement("mask", {
    id: "plugin_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#plugin_svg__a"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#plugin_svg__b)"
  }, /*#__PURE__*/react_.createElement("path", {
    style: {
      fill: "#333",
      opacity: 1
    },
    d: "M6.945 1.725c.261.26.392.576.392.945V6c0 .37-.13.684-.392.945A1.288 1.288 0 0 1 6 7.337H2.67c-.37 0-.684-.13-.945-.392A1.288 1.288 0 0 1 1.333 6V2.67c0-.37.13-.684.392-.945.26-.261.576-.392.945-.392H6c.37 0 .684.13.945.392zM2.667 6c0 .002 0 .003.003.003H6c.002 0 .003 0 .003-.003V2.67c0-.002 0-.003-.003-.003H2.67c-.002 0-.003 0-.003.003zM6.945 9.058c.261.261.392.576.392.945v3.33c0 .37-.13.685-.392.946A1.288 1.288 0 0 1 6 14.67H2.67c-.37 0-.684-.13-.945-.391a1.288 1.288 0 0 1-.392-.946v-3.33c0-.369.13-.684.392-.945.26-.26.576-.391.945-.391H6c.37 0 .684.13.945.391zm-4.278 4.275c0 .003 0 .004.003.004H6c.002 0 .003-.001.003-.004v-3.33c0-.002 0-.003-.003-.003H2.67c-.002 0-.003.001-.003.003zM13.789 6.455a2.987 2.987 0 0 1-2.126.882c-.407 0-.797-.08-1.169-.238a2.97 2.97 0 0 1-.952-.645 2.983 2.983 0 0 1-.64-.956 2.984 2.984 0 0 1-.235-1.168 2.974 2.974 0 0 1 .876-2.12 2.973 2.973 0 0 1 2.12-.877c.407 0 .796.079 1.169.235.36.151.678.365.955.64a2.97 2.97 0 0 1 .883 2.122 2.988 2.988 0 0 1-.882 2.125zm-2.126-3.788c-.46 0-.853.162-1.177.486A1.603 1.603 0 0 0 10 4.33c0 .462.162.857.487 1.184.325.326.717.49 1.176.49.461 0 .855-.164 1.183-.492.327-.327.49-.721.49-1.182 0-.46-.163-.851-.489-1.176a1.618 1.618 0 0 0-1.184-.487zM14.278 9.058c.261.261.392.576.392.945v3.33c0 .37-.13.685-.392.946a1.288 1.288 0 0 1-.945.391h-3.33c-.369 0-.684-.13-.945-.391a1.288 1.288 0 0 1-.391-.946v-3.33c0-.369.13-.684.391-.945.261-.26.576-.391.945-.391h3.33c.37 0 .684.13.945.391zM10 13.333c0 .003.001.004.003.004h3.33c.003 0 .004-.001.004-.004v-3.33c0-.002-.001-.003-.004-.003h-3.33c-.002 0-.003.001-.003.003z"
  }))), plugin_defs || (plugin_defs = /*#__PURE__*/react_.createElement("defs", null, /*#__PURE__*/react_.createElement("path", {
    id: "plugin_svg__a",
    d: "M0 0h16v16H0z"
  }))));
};
/* harmony default export */ const icons_plugin = (SvgPlugin);
// EXTERNAL MODULE: ./app/icons/drag.svg
var drag = __webpack_require__(59880);
// EXTERNAL MODULE: ./app/locales/index.ts + 2 modules
var locales = __webpack_require__(32261);
// EXTERNAL MODULE: ./app/store/index.ts + 2 modules
var store = __webpack_require__(87079);
// EXTERNAL MODULE: ./app/components/ui-lib.tsx + 3 modules
var ui_lib = __webpack_require__(5129);
;// CONCATENATED MODULE: ./app/components/sidebar.tsx
/*
 * :file description: 
 * :name: /chatgpt/app/components/sidebar.tsx
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-20 17:31:13
 */ 


















const ChatList = app_dynamic_default()(async ()=>(await Promise.all(/* import() */[__webpack_require__.e(6995), __webpack_require__.e(2470), __webpack_require__.e(6862), __webpack_require__.e(6997), __webpack_require__.e(3891), __webpack_require__.e(606)]).then(__webpack_require__.bind(__webpack_require__, 80606))).ChatList, {
    loadableGenerated: {
        modules: [
            "/Users/zhangdezhi/Documents/project/chatgpt/app/components/sidebar.tsx -> " + "./chat-list"
        ]
    },
    loading: ()=>null
});
function useHotKey() {
    const chatStore = (0,store/* useChatStore */.aK)();
    (0,react_.useEffect)(()=>{
        const onKeyDown = (e)=>{
            if (e.altKey || e.ctrlKey) {
                if (e.key === "ArrowUp") {
                    chatStore.nextSession(-1);
                } else if (e.key === "ArrowDown") {
                    chatStore.nextSession(1);
                }
            }
        };
        window.addEventListener("keydown", onKeyDown);
        return ()=>window.removeEventListener("keydown", onKeyDown);
    });
}
function useDragSideBar() {
    const limit = (x)=>Math.min(constant/* MAX_SIDEBAR_WIDTH */.kf, x);
    const config = (0,store/* useAppConfig */.MG)();
    const startX = (0,react_.useRef)(0);
    const startDragWidth = (0,react_.useRef)(config.sidebarWidth ?? 300);
    const lastUpdateTime = (0,react_.useRef)(Date.now());
    const handleMouseMove = (0,react_.useRef)((e)=>{
        if (Date.now() < lastUpdateTime.current + 50) {
            return;
        }
        lastUpdateTime.current = Date.now();
        const d = e.clientX - startX.current;
        const nextWidth = limit(startDragWidth.current + d);
        config.update((config)=>config.sidebarWidth = nextWidth);
    });
    const handleMouseUp = (0,react_.useRef)(()=>{
        startDragWidth.current = config.sidebarWidth ?? 300;
        window.removeEventListener("mousemove", handleMouseMove.current);
        window.removeEventListener("mouseup", handleMouseUp.current);
    });
    const onDragMouseDown = (e)=>{
        startX.current = e.clientX;
        window.addEventListener("mousemove", handleMouseMove.current);
        window.addEventListener("mouseup", handleMouseUp.current);
    };
    const isMobileScreen = (0,utils/* useMobileScreen */.S0)();
    const shouldNarrow = !isMobileScreen && config.sidebarWidth < constant/* MIN_SIDEBAR_WIDTH */.NQ;
    (0,react_.useEffect)(()=>{
        const barWidth = shouldNarrow ? constant/* NARROW_SIDEBAR_WIDTH */.bH : limit(config.sidebarWidth ?? 300);
        const sideBarWidth = isMobileScreen ? "100vw" : `${barWidth}px`;
        document.documentElement.style.setProperty("--sidebar-width", sideBarWidth);
    }, [
        config.sidebarWidth,
        isMobileScreen,
        shouldNarrow
    ]);
    return {
        onDragMouseDown,
        shouldNarrow
    };
}
function SideBar(props) {
    const chatStore = (0,store/* useChatStore */.aK)();
    // drag side bar
    const { onDragMouseDown, shouldNarrow } = useDragSideBar();
    const navigate = (0,react_router_dom_production_min.useNavigate)();
    const config = (0,store/* useAppConfig */.MG)();
    useHotKey();
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: `${(home_module_default()).sidebar} ${props.className} ${shouldNarrow && (home_module_default())["narrow-sidebar"]}`,
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (home_module_default())["sidebar-header"],
                "data-tauri-drag-region": true,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (home_module_default())["sidebar-title"],
                        "data-tauri-drag-region": true,
                        children: "千知GPT"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (home_module_default())["sidebar-sub-title"],
                        children: "构建属于你的人工智能助手"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (home_module_default())["sidebar-logo"] + " no-dark",
                        children: /*#__PURE__*/ jsx_runtime_.jsx(chatgpt, {})
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (home_module_default())["sidebar-header-bar"],
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                        icon: /*#__PURE__*/ jsx_runtime_.jsx(mask, {}),
                        text: shouldNarrow ? undefined : locales/* default */.ZP.Mask.Name,
                        className: (home_module_default())["sidebar-bar-button"],
                        onClick: ()=>navigate(constant/* Path */.y$.NewChat, {
                                state: {
                                    fromHome: true
                                }
                            }),
                        shadow: true
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                        icon: /*#__PURE__*/ jsx_runtime_.jsx(icons_plugin, {}),
                        text: shouldNarrow ? undefined : locales/* default */.ZP.Plugin.Name,
                        className: (home_module_default())["sidebar-bar-button"],
                        onClick: ()=>(0,ui_lib/* showToast */.CF)(locales/* default */.ZP.WIP),
                        shadow: true
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: (home_module_default())["sidebar-body"],
                onClick: (e)=>{
                    if (e.target === e.currentTarget) {
                        navigate(constant/* Path */.y$.Home);
                    }
                },
                children: /*#__PURE__*/ jsx_runtime_.jsx(ChatList, {
                    narrow: shouldNarrow
                })
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (home_module_default())["sidebar-tail"],
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (home_module_default())["sidebar-actions"],
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: (home_module_default())["sidebar-action"] + " " + (home_module_default()).mobile,
                                children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                    icon: /*#__PURE__*/ jsx_runtime_.jsx(icons_close/* default */.Z, {}),
                                    onClick: async ()=>{
                                        if (await (0,ui_lib/* showConfirm */.i0)(locales/* default */.ZP.Home.DeleteChat)) {
                                            chatStore.deleteSession(chatStore.currentSessionIndex);
                                        }
                                    }
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: (home_module_default())["sidebar-action"],
                                children: /*#__PURE__*/ jsx_runtime_.jsx(react_router_dom_production_min.Link, {
                                    to: constant/* Path */.y$.Settings,
                                    children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                        icon: /*#__PURE__*/ jsx_runtime_.jsx(settings, {}),
                                        shadow: true
                                    })
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: (home_module_default())["sidebar-action"],
                                children: /*#__PURE__*/ jsx_runtime_.jsx(react_router_dom_production_min.Link, {
                                    to: `${constant/* Path */.y$.Number}?type=${constant/* TableEnum */.fC.bill}`,
                                    children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                                        icon: /*#__PURE__*/ jsx_runtime_.jsx(user, {}),
                                        shadow: true
                                    })
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        children: /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                            icon: /*#__PURE__*/ jsx_runtime_.jsx(add/* default */.Z, {}),
                            text: shouldNarrow ? undefined : locales/* default */.ZP.Home.NewChat,
                            onClick: ()=>{
                                if (config.dontShowMaskSplashScreen) {
                                    chatStore.newSession();
                                    navigate(constant/* Path */.y$.Chat);
                                } else {
                                    navigate(constant/* Path */.y$.NewChat);
                                }
                            },
                            shadow: true
                        })
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: (home_module_default())["sidebar-drag"],
                onMouseDown: (e)=>onDragMouseDown(e),
                children: /*#__PURE__*/ jsx_runtime_.jsx(drag/* default */.Z, {})
            })
        ]
    });
}

// EXTERNAL MODULE: ./app/store/config.ts
var store_config = __webpack_require__(72912);
// EXTERNAL MODULE: ./app/components/login.module.scss
var login_module = __webpack_require__(38964);
var login_module_default = /*#__PURE__*/__webpack_require__.n(login_module);
// EXTERNAL MODULE: ./node_modules/@chakra-ui/react/dist/chunk-QAITB7GG.mjs + 6 modules
var chunk_QAITB7GG = __webpack_require__(93464);
// EXTERNAL MODULE: ./node_modules/@chakra-ui/layout/dist/chunk-KRPLQIP4.mjs
var chunk_KRPLQIP4 = __webpack_require__(32355);
// EXTERNAL MODULE: ./node_modules/@chakra-ui/image/dist/chunk-QINAG4RG.mjs + 2 modules
var chunk_QINAG4RG = __webpack_require__(46333);
// EXTERNAL MODULE: ./node_modules/@chakra-ui/layout/dist/chunk-PULVB27S.mjs
var chunk_PULVB27S = __webpack_require__(18787);
// EXTERNAL MODULE: ./app/theme.ts
var theme = __webpack_require__(85915);
// EXTERNAL MODULE: ./node_modules/@chakra-ui/form-control/dist/chunk-R42ZB7PB.mjs
var chunk_R42ZB7PB = __webpack_require__(3838);
// EXTERNAL MODULE: ./node_modules/@chakra-ui/input/dist/chunk-6CVSDS6C.mjs + 1 modules
var chunk_6CVSDS6C = __webpack_require__(72923);
// EXTERNAL MODULE: ./node_modules/@chakra-ui/form-control/dist/chunk-WWJYOSXC.mjs
var chunk_WWJYOSXC = __webpack_require__(93460);
// EXTERNAL MODULE: ./node_modules/@chakra-ui/button/dist/chunk-UVUR7MCU.mjs + 4 modules
var chunk_UVUR7MCU = __webpack_require__(35419);
// EXTERNAL MODULE: ./node_modules/react-hook-form/dist/index.esm.mjs
var index_esm = __webpack_require__(66558);
// EXTERNAL MODULE: ./app/api/user.ts
var api_user = __webpack_require__(11915);
// EXTERNAL MODULE: ./app/hooks/useToast.ts
var useToast = __webpack_require__(41373);
;// CONCATENATED MODULE: ./app/components/login-form.tsx
/*
 * :file description:
 * :name: /chatgpt/app/components/login-form.tsx
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-13 13:59:27
 * :last editor: 张德志
 * :date last edited: 2023-08-16 22:44:50
 */ 








const inputStyle = {
    maxWidth: "100%",
    borderRadius: "4px",
    textAlign: "left"
};
function LoginForm({ setPageType }) {
    const { register, handleSubmit, formState: { errors } } = (0,index_esm/* useForm */.cI)();
    const { toast } = (0,useToast/* useToast */.p)();
    const navigate = (0,react_router_dom_production_min.useNavigate)();
    const [requesting, setRequesting] = (0,react_.useState)(false);
    const onclickLogin = (0,react_.useCallback)(async ({ username, password })=>{
        setRequesting(true);
        try {
            const res = await (0,api_user/* postLogin */.SV)({
                username,
                password
            });
            const { user } = res;
            if (user?._id) {
                toast({
                    title: "登录成功",
                    status: "success"
                });
                localStorage.setItem("user", JSON.stringify(user));
                setTimeout(()=>{
                    navigate(constant/* Path */.y$.NewChat);
                }, 500);
            }
        } catch (error) {
            toast({
                title: error.message || "登录异常",
                status: "error"
            });
        }
        setRequesting(false);
    }, []);
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(chunk_PULVB27S/* Box */.xu, {
                fontWeight: "bold",
                fontSize: "2xl",
                textAlign: "center",
                children: "登录千知GPT"
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("form", {
                onSubmit: handleSubmit(onclickLogin),
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(chunk_R42ZB7PB/* FormControl */.NI, {
                        mt: 8,
                        isInvalid: !!errors.username,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(chunk_6CVSDS6C/* Input */.I, {
                                placeholder: "邮箱/手机号",
                                style: inputStyle,
                                ...register("username", {
                                    required: "邮箱/手机号不能为空",
                                    pattern: {
                                        value: /(^1[3456789]\d{9}$)|(^[A-Za-z0-9]+([_\.][A-Za-z0-9]+)*@([A-Za-z0-9\-]+\.)+[A-Za-z]{2,6}$)/,
                                        message: "邮箱/手机号格式错误"
                                    }
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(chunk_WWJYOSXC/* FormErrorMessage */.J1, {
                                position: "absolute",
                                fontSize: "xs",
                                children: !!errors.username && errors.username.message
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(chunk_R42ZB7PB/* FormControl */.NI, {
                        mt: 8,
                        isInvalid: !!errors.password,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(chunk_6CVSDS6C/* Input */.I, {
                                type: "password",
                                style: inputStyle,
                                placeholder: "密码",
                                ...register("password", {
                                    required: "密码不能为空",
                                    minLength: {
                                        value: 4,
                                        message: "密码最少4位最多12位"
                                    },
                                    maxLength: {
                                        value: 12,
                                        message: "密码最少4位最多12位"
                                    }
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(chunk_WWJYOSXC/* FormErrorMessage */.J1, {
                                position: "absolute",
                                fontSize: "xs",
                                children: !!errors.password && errors.password.message
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(chunk_KRPLQIP4/* Flex */.k, {
                        align: "center",
                        justifyContent: "space-between",
                        mt: 6,
                        color: "myBlue.600",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(chunk_PULVB27S/* Box */.xu, {
                                cursor: "pointer",
                                _hover: {
                                    textDecoration: "underline"
                                },
                                onClick: ()=>setPageType(constant/* PageTypeEnum */.DZ.forgetPassword),
                                fontSize: "sm",
                                children: "忘记密码?"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(chunk_PULVB27S/* Box */.xu, {
                                cursor: "pointer",
                                _hover: {
                                    textDecoration: "underline"
                                },
                                onClick: ()=>setPageType(constant/* PageTypeEnum */.DZ.register),
                                fontSize: "sm",
                                children: "注册账号"
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(chunk_UVUR7MCU/* Button */.z, {
                        type: "submit",
                        mt: 8,
                        w: "100%",
                        size: [
                            "md",
                            "lg"
                        ],
                        colorScheme: "blue",
                        isLoading: requesting,
                        children: "登录"
                    })
                ]
            })
        ]
    });
}

;// CONCATENATED MODULE: ./app/components/login.tsx
/*
 * :file description:
 * :name: /chatgpt/app/components/login.tsx
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-16 22:43:46
 */ 










function Loading(props) {
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (login_module_default())["loading-content"] + " no-dark",
        children: [
            !props.noLogo && /*#__PURE__*/ jsx_runtime_.jsx(bot/* default */.Z, {}),
            /*#__PURE__*/ jsx_runtime_.jsx(three_dots/* default */.Z, {})
        ]
    });
}
const RegisterForm = app_dynamic_default()(async ()=>(await Promise.all(/* import() */[__webpack_require__.e(1730), __webpack_require__.e(2301)]).then(__webpack_require__.bind(__webpack_require__, 42301))).RegisterForm, {
    loadableGenerated: {
        modules: [
            "/Users/zhangdezhi/Documents/project/chatgpt/app/components/login.tsx -> " + "./register-form"
        ]
    },
    loading: ()=>/*#__PURE__*/ jsx_runtime_.jsx(Loading, {
            noLogo: true
        })
});
const ForgetPasswordForm = app_dynamic_default()(async ()=>(await Promise.all(/* import() */[__webpack_require__.e(1730), __webpack_require__.e(9598)]).then(__webpack_require__.bind(__webpack_require__, 19598))).ForgetPasswordForm, {
    loadableGenerated: {
        modules: [
            "/Users/zhangdezhi/Documents/project/chatgpt/app/components/login.tsx -> " + "./forget-password-form"
        ]
    },
    loading: ()=>/*#__PURE__*/ jsx_runtime_.jsx(Loading, {
            noLogo: true
        })
});
function LoginPage() {
    const isPc = true;
    const access = (0,store/* useAccessStore */._X)();
    const [pageType, setPageType] = (0,react_.useState)(constant/* PageTypeEnum */.DZ.login);
    function DynamicComponent({ type }) {
        const TypeMap = {
            [constant/* PageTypeEnum */.DZ.login]: LoginForm,
            [constant/* PageTypeEnum */.DZ.register]: RegisterForm,
            [constant/* PageTypeEnum */.DZ.forgetPassword]: ForgetPasswordForm
        };
        const Component = TypeMap[type];
        return /*#__PURE__*/ jsx_runtime_.jsx(Component, {
            setPageType: setPageType
        });
    }
    return /*#__PURE__*/ jsx_runtime_.jsx(chunk_QAITB7GG/* ChakraProvider */.x, {
        theme: theme/* theme */.r,
        children: /*#__PURE__*/ jsx_runtime_.jsx(chunk_KRPLQIP4/* Flex */.k, {
            alignItems: "center",
            justifyContent: "center",
            className: (login_module_default())["login-page"],
            h: "100%",
            px: [
                0,
                "10vw"
            ],
            children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(chunk_KRPLQIP4/* Flex */.k, {
                height: "100%",
                w: "100%",
                maxW: "1240px",
                maxH: [
                    "auto",
                    "max(660px,80vh)"
                ],
                backgroundColor: "#fff",
                alignItems: "center",
                justifyContent: "center",
                py: [
                    5,
                    10
                ],
                px: "5vw",
                borderRadius: isPc ? "md" : "none",
                gap: 5,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(chunk_QINAG4RG/* Image */.E, {
                        src: "https://fastgpt.run/icon/loginLeft.svg",
                        order: pageType === constant/* PageTypeEnum */.DZ.login ? 0 : 2,
                        flex: "1 0 0",
                        w: "0",
                        maxW: "600px",
                        height: "100%",
                        maxH: "450px",
                        alt: ""
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(chunk_PULVB27S/* Box */.xu, {
                        order: 1,
                        flex: `0 0 ${isPc ? "400px" : "100%"}`,
                        height: "100%",
                        border: "1px",
                        borderColor: "gray.200",
                        py: 5,
                        px: 10,
                        borderRadius: isPc ? "md" : "none",
                        children: /*#__PURE__*/ jsx_runtime_.jsx(DynamicComponent, {
                            type: pageType
                        })
                    })
                ]
            })
        })
    });
}

// EXTERNAL MODULE: ./app/config/client.ts + 2 modules
var client = __webpack_require__(12730);
// EXTERNAL MODULE: ./app/client/api.ts + 1 modules
var api = __webpack_require__(96083);
;// CONCATENATED MODULE: ./app/components/home.tsx
/*
 * :file description: 
 * :name: /chatgpt/app/components/home.tsx
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-09 04:46:11
 * :last editor: 张德志
 * :date last edited: 2023-08-20 13:58:11
 */ /* __next_internal_client_entry_do_not_use__ Loading,useSwitchTheme,useLoadData,Home auto */ 
__webpack_require__(30659);















function home_Loading(props) {
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (home_module_default())["loading-content"] + " no-dark",
        children: [
            !props.noLogo && /*#__PURE__*/ jsx_runtime_.jsx(bot/* default */.Z, {}),
            /*#__PURE__*/ jsx_runtime_.jsx(three_dots/* default */.Z, {})
        ]
    });
}
const Settings = app_dynamic_default()(async ()=>(await Promise.all(/* import() */[__webpack_require__.e(6995), __webpack_require__.e(6613), __webpack_require__.e(6862), __webpack_require__.e(6997), __webpack_require__.e(3202), __webpack_require__.e(770)]).then(__webpack_require__.bind(__webpack_require__, 70770))).Settings, {
    loadableGenerated: {
        modules: [
            "/Users/zhangdezhi/Documents/project/chatgpt/app/components/home.tsx -> " + "./settings"
        ]
    },
    loading: ()=>/*#__PURE__*/ jsx_runtime_.jsx(home_Loading, {
            noLogo: true
        })
});
const Chat = app_dynamic_default()(async ()=>(await Promise.all(/* import() */[__webpack_require__.e(6995), __webpack_require__.e(2470), __webpack_require__.e(6613), __webpack_require__.e(5100), __webpack_require__.e(6862), __webpack_require__.e(6997), __webpack_require__.e(3891), __webpack_require__.e(3202), __webpack_require__.e(170), __webpack_require__.e(3917)]).then(__webpack_require__.bind(__webpack_require__, 53917))).Chat, {
    loadableGenerated: {
        modules: [
            "/Users/zhangdezhi/Documents/project/chatgpt/app/components/home.tsx -> " + "./chat"
        ]
    },
    loading: ()=>/*#__PURE__*/ jsx_runtime_.jsx(home_Loading, {
            noLogo: true
        })
});
const home_Number = app_dynamic_default()(async ()=>(await Promise.all(/* import() */[__webpack_require__.e(6995), __webpack_require__.e(1518), __webpack_require__.e(6862), __webpack_require__.e(7976)]).then(__webpack_require__.bind(__webpack_require__, 77976))).Number, {
    loadableGenerated: {
        modules: [
            "/Users/zhangdezhi/Documents/project/chatgpt/app/components/home.tsx -> " + "./number"
        ]
    },
    loading: ()=>/*#__PURE__*/ jsx_runtime_.jsx(home_Loading, {
            noLogo: true
        })
});
const NewChat = app_dynamic_default()(async ()=>(await Promise.all(/* import() */[__webpack_require__.e(6995), __webpack_require__.e(2470), __webpack_require__.e(6862), __webpack_require__.e(6997), __webpack_require__.e(3891), __webpack_require__.e(170), __webpack_require__.e(1807)]).then(__webpack_require__.bind(__webpack_require__, 21807))).NewChat, {
    loadableGenerated: {
        modules: [
            "/Users/zhangdezhi/Documents/project/chatgpt/app/components/home.tsx -> " + "./new-chat"
        ]
    },
    loading: ()=>/*#__PURE__*/ jsx_runtime_.jsx(home_Loading, {
            noLogo: true
        })
});
const MaskPage = app_dynamic_default()(async ()=>(await Promise.all(/* import() */[__webpack_require__.e(6995), __webpack_require__.e(2470), __webpack_require__.e(6862), __webpack_require__.e(6997), __webpack_require__.e(3891)]).then(__webpack_require__.bind(__webpack_require__, 83891))).MaskPage, {
    loadableGenerated: {
        modules: [
            "/Users/zhangdezhi/Documents/project/chatgpt/app/components/home.tsx -> " + "./mask"
        ]
    },
    loading: ()=>/*#__PURE__*/ jsx_runtime_.jsx(home_Loading, {
            noLogo: true
        })
});
function useSwitchTheme() {
    const config = (0,store_config/* useAppConfig */.MG)();
    (0,react_.useEffect)(()=>{
        document.body.classList.remove("light");
        document.body.classList.remove("dark");
        if (config.theme === "dark") {
            document.body.classList.add("dark");
        } else if (config.theme === "light") {
            document.body.classList.add("light");
        }
        const metaDescriptionDark = document.querySelector('meta[name="theme-color"][media*="dark"]');
        const metaDescriptionLight = document.querySelector('meta[name="theme-color"][media*="light"]');
        if (config.theme === "auto") {
            metaDescriptionDark?.setAttribute("content", "#151515");
            metaDescriptionLight?.setAttribute("content", "#fafafa");
        } else {
            const themeColor = (0,utils/* getCSSVar */.K1)("--theme-color");
            metaDescriptionDark?.setAttribute("content", themeColor);
            metaDescriptionLight?.setAttribute("content", themeColor);
        }
    }, [
        config.theme
    ]);
}
const useHasHydrated = ()=>{
    const [hasHydrated, setHasHydrated] = (0,react_.useState)(false);
    (0,react_.useEffect)(()=>{
        setHasHydrated(true);
    }, []);
    return hasHydrated;
};
const loadAsyncGoogleFont = ()=>{
    const linkEl = document.createElement("link");
    const proxyFontUrl = "/google-fonts";
    const remoteFontUrl = "https://fonts.googleapis.com";
    const googleFontUrl = (0,client/* getClientConfig */.Z)()?.buildMode === "export" ? remoteFontUrl : proxyFontUrl;
    linkEl.rel = "stylesheet";
    linkEl.href = googleFontUrl + "/css2?family=Noto+Sans:wght@300;400;700;900&display=swap";
    document.head.appendChild(linkEl);
};
function Screen() {
    const config = (0,store_config/* useAppConfig */.MG)();
    const location = (0,react_router_dom_production_min.useLocation)();
    const isHome = location.pathname === constant/* Path */.y$.Home;
    const isLogin = location.pathname === constant/* Path */.y$.Login;
    const isMobileScreen = (0,utils/* useMobileScreen */.S0)();
    (0,react_.useEffect)(()=>{
        loadAsyncGoogleFont();
    }, []);
    return /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
        children: isLogin ? /*#__PURE__*/ jsx_runtime_.jsx(LoginPage, {}) : /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: (home_module_default()).container + ` ${config.tightBorder && !isMobileScreen ? (home_module_default())["tight-container"] : (home_module_default()).container} `,
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx(SideBar, {
                    className: isHome ? (home_module_default())["sidebar-show"] : ""
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: (home_module_default())["window-content"],
                    id: constant/* SlotID */.ym.AppBody,
                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(react_router_dom_production_min.Routes, {
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(react_router_dom_production_min.Route, {
                                path: constant/* Path */.y$.Home,
                                element: /*#__PURE__*/ jsx_runtime_.jsx(Chat, {})
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(react_router_dom_production_min.Route, {
                                path: constant/* Path */.y$.NewChat,
                                element: /*#__PURE__*/ jsx_runtime_.jsx(NewChat, {})
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(react_router_dom_production_min.Route, {
                                path: constant/* Path */.y$.Masks,
                                element: /*#__PURE__*/ jsx_runtime_.jsx(MaskPage, {})
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(react_router_dom_production_min.Route, {
                                path: constant/* Path */.y$.Chat,
                                element: /*#__PURE__*/ jsx_runtime_.jsx(Chat, {})
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(react_router_dom_production_min.Route, {
                                path: constant/* Path */.y$.Number,
                                element: /*#__PURE__*/ jsx_runtime_.jsx(home_Number, {})
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(react_router_dom_production_min.Route, {
                                path: constant/* Path */.y$.Settings,
                                element: /*#__PURE__*/ jsx_runtime_.jsx(Settings, {})
                            })
                        ]
                    })
                })
            ]
        })
    });
}
function useLoadData() {
    const config = (0,store_config/* useAppConfig */.MG)();
    (0,react_.useEffect)(()=>{
        (async ()=>{
            const models = await api/* api */.hi.llm.models();
            config.mergeModels(models);
        })();
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);
}
function Home() {
    useSwitchTheme();
    useLoadData();
    (0,react_.useEffect)(()=>{
        console.log("[Config] got config from build time", (0,client/* getClientConfig */.Z)());
        store/* useAccessStore */._X.getState().fetch();
    }, []);
    if (!useHasHydrated()) {
        return /*#__PURE__*/ jsx_runtime_.jsx(home_Loading, {});
    }
    return /*#__PURE__*/ jsx_runtime_.jsx(error/* ErrorBoundary */.S, {
        children: /*#__PURE__*/ jsx_runtime_.jsx(react_router_dom_production_min.HashRouter, {
            children: /*#__PURE__*/ jsx_runtime_.jsx(Screen, {})
        })
    });
}


/***/ }),

/***/ 5129:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  II: () => (/* binding */ Input),
  aV: () => (/* binding */ List),
  HC: () => (/* binding */ ListItem),
  u_: () => (/* binding */ Modal),
  J2: () => (/* binding */ Popover),
  Ph: () => (/* binding */ Select),
  i0: () => (/* binding */ showConfirm),
  vi: () => (/* binding */ showImageModal),
  K4: () => (/* binding */ showModal),
  G5: () => (/* binding */ showPrompt),
  CF: () => (/* binding */ showToast)
});

// UNUSED EXPORTS: Card, Loading, PasswordInput, Selector, Toast

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: ./app/components/ui-lib.module.scss
var ui_lib_module = __webpack_require__(83058);
var ui_lib_module_default = /*#__PURE__*/__webpack_require__.n(ui_lib_module);
// EXTERNAL MODULE: ./app/icons/three-dots.svg
var three_dots = __webpack_require__(39866);
// EXTERNAL MODULE: ./app/icons/close.svg
var icons_close = __webpack_require__(26989);
// EXTERNAL MODULE: ./app/icons/eye.svg
var eye = __webpack_require__(32168);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(18038);
;// CONCATENATED MODULE: ./app/icons/eye-off.svg
var _path;
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var SvgEyeOff = function SvgEyeOff(props) {
  return /*#__PURE__*/React.createElement("svg", _extends({
    width: 800,
    height: 800,
    viewBox: "0 0 24 24",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), _path || (_path = /*#__PURE__*/React.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M19.707 5.707a1 1 0 0 0-1.414-1.414l-4.261 4.26a4 4 0 0 0-5.478 5.478l-4.261 4.262a1 1 0 1 0 1.414 1.414l4.261-4.26a4 4 0 0 0 5.478-5.478l4.261-4.262Zm-7.189 4.36a2 2 0 0 0-2.45 2.45l2.45-2.45Zm-1.036 3.865 2.45-2.45a2 2 0 0 1-2.45 2.45Zm4.283-9.111C14.63 4.32 13.367 4 12 4 9.148 4 6.757 5.395 4.998 6.906c-1.765 1.517-2.99 3.232-3.534 4.064a1.876 1.876 0 0 0 0 2.06 20.304 20.304 0 0 0 2.748 3.344l1.414-1.414A18.315 18.315 0 0 1 3.18 12c.51-.773 1.598-2.268 3.121-3.577C7.874 7.072 9.816 6 12 6a7.06 7.06 0 0 1 2.22.367l1.545-1.546ZM12 18a7.06 7.06 0 0 1-2.22-.367L8.236 19.18c1.136.5 2.398.821 3.765.821 2.852 0 5.243-1.395 7.002-2.906 1.765-1.517 2.99-3.232 3.534-4.064.411-.628.411-1.431 0-2.06a20.303 20.303 0 0 0-2.748-3.344L18.374 9.04A18.312 18.312 0 0 1 20.82 12c-.51.773-1.598 2.268-3.121 3.577C16.126 16.928 14.184 18 12 18Z",
    fill: "#000"
  })));
};
/* harmony default export */ const eye_off = ((/* unused pure expression or super */ null && (SvgEyeOff)));
;// CONCATENATED MODULE: ./app/icons/down.svg
var _defs, _mask;
function down_extends() { down_extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return down_extends.apply(this, arguments); }

var SvgDown = function SvgDown(props) {
  return /*#__PURE__*/react_.createElement("svg", down_extends({
    xmlns: "http://www.w3.org/2000/svg",
    xmlnsXlink: "http://www.w3.org/1999/xlink",
    width: 16,
    height: 16,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/react_.createElement("defs", null, /*#__PURE__*/react_.createElement("path", {
    id: "down_svg__a",
    d: "M0 0h16v16H0z"
  }))), /*#__PURE__*/react_.createElement("g", {
    transform: "rotate(-90 8 8)"
  }, _mask || (_mask = /*#__PURE__*/react_.createElement("mask", {
    id: "down_svg__b",
    fill: "#fff"
  }, /*#__PURE__*/react_.createElement("use", {
    xlinkHref: "#down_svg__a"
  }))), /*#__PURE__*/react_.createElement("g", {
    mask: "url(#down_svg__b)"
  }, /*#__PURE__*/react_.createElement("path", {
    style: {
      stroke: "#333",
      strokeWidth: 1.3333333333333333,
      strokeOpacity: 1,
      strokeDasharray: "0 0"
    },
    d: "M4 8 0 4l4-4",
    transform: "translate(6.333 4)"
  }))));
};
/* harmony default export */ const down = (SvgDown);
// EXTERNAL MODULE: ./app/icons/confirm.svg
var icons_confirm = __webpack_require__(99992);
// EXTERNAL MODULE: ./app/icons/cancel.svg
var cancel = __webpack_require__(85759);
// EXTERNAL MODULE: ./app/icons/max.svg
var max = __webpack_require__(34423);
// EXTERNAL MODULE: ./app/icons/min.svg
var min = __webpack_require__(66363);
// EXTERNAL MODULE: ./app/locales/index.ts + 2 modules
var locales = __webpack_require__(32261);
;// CONCATENATED MODULE: external "next/dist/compiled/react-dom/client"
const client_namespaceObject = require("next/dist/compiled/react-dom/client");
// EXTERNAL MODULE: ./app/components/button.tsx
var components_button = __webpack_require__(69168);
;// CONCATENATED MODULE: ./app/components/ui-lib.tsx
/* eslint-disable @next/next/no-img-element */ 














function Popover(props) {
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (ui_lib_module_default()).popover,
        children: [
            props.children,
            props.open && /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (ui_lib_module_default())["popover-content"],
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (ui_lib_module_default())["popover-mask"],
                        onClick: props.onClose
                    }),
                    props.content
                ]
            })
        ]
    });
}
function Card(props) {
    return /*#__PURE__*/ _jsx("div", {
        className: styles.card + " " + props.className,
        children: props.children
    });
}
function ListItem(props) {
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (ui_lib_module_default())["list-item"] + ` ${props.className || ""}`,
        onClick: props.onClick,
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (ui_lib_module_default())["list-header"],
                children: [
                    props.icon && /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (ui_lib_module_default())["list-icon"],
                        children: props.icon
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (ui_lib_module_default())["list-item-title"],
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                children: props.title
                            }),
                            props.subTitle && /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: (ui_lib_module_default())["list-item-sub-title"],
                                children: props.subTitle
                            })
                        ]
                    })
                ]
            }),
            props.children
        ]
    });
}
function List(props) {
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: (ui_lib_module_default()).list,
        children: props.children
    });
}
function Loading() {
    return /*#__PURE__*/ _jsx("div", {
        style: {
            height: "100vh",
            width: "100vw",
            display: "flex",
            alignItems: "center",
            justifyContent: "center"
        },
        children: /*#__PURE__*/ _jsx(LoadingIcon, {})
    });
}
function Modal(props) {
    (0,react_.useEffect)(()=>{
        const onKeyDown = (e)=>{
            if (e.key === "Escape") {
                props.onClose?.();
            }
        };
        window.addEventListener("keydown", onKeyDown);
        return ()=>{
            window.removeEventListener("keydown", onKeyDown);
        };
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);
    const [isMax, setMax] = (0,react_.useState)(!!props.defaultMax);
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (ui_lib_module_default())["modal-container"] + ` ${isMax && (ui_lib_module_default())["modal-container-max"]}`,
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (ui_lib_module_default())["modal-header"],
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (ui_lib_module_default())["modal-title"],
                        children: props.title
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (ui_lib_module_default())["modal-header-actions"],
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: (ui_lib_module_default())["modal-header-action"],
                                onClick: ()=>setMax(!isMax),
                                children: isMax ? /*#__PURE__*/ jsx_runtime_.jsx(min/* default */.Z, {}) : /*#__PURE__*/ jsx_runtime_.jsx(max/* default */.Z, {})
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: (ui_lib_module_default())["modal-header-action"],
                                onClick: props.onClose,
                                children: /*#__PURE__*/ jsx_runtime_.jsx(icons_close/* default */.Z, {})
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: (ui_lib_module_default())["modal-content"],
                children: props.children
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: (ui_lib_module_default())["modal-footer"],
                children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: (ui_lib_module_default())["modal-actions"],
                    children: props.actions?.map((action, i)=>/*#__PURE__*/ jsx_runtime_.jsx("div", {
                            className: (ui_lib_module_default())["modal-action"],
                            children: action
                        }, i))
                })
            })
        ]
    });
}
function showModal(props) {
    const div = document.createElement("div");
    div.className = "modal-mask";
    document.body.appendChild(div);
    const root = (0,client_namespaceObject.createRoot)(div);
    const closeModal = ()=>{
        props.onClose?.();
        root.unmount();
        div.remove();
    };
    div.onclick = (e)=>{
        if (e.target === div) {
            closeModal();
        }
    };
    root.render(/*#__PURE__*/ jsx_runtime_.jsx(Modal, {
        ...props,
        onClose: closeModal
    }));
}
function Toast(props) {
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: (ui_lib_module_default())["toast-container"],
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: (ui_lib_module_default())["toast-content"],
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx("span", {
                    children: props.content
                }),
                props.action && /*#__PURE__*/ jsx_runtime_.jsx("button", {
                    onClick: ()=>{
                        props.action?.onClick?.();
                        props.onClose?.();
                    },
                    className: (ui_lib_module_default())["toast-action"],
                    children: props.action.text
                })
            ]
        })
    });
}
function showToast(content, action, delay = 3000) {
    const div = document.createElement("div");
    div.className = (ui_lib_module_default()).show;
    document.body.appendChild(div);
    const root = (0,client_namespaceObject.createRoot)(div);
    const close = ()=>{
        div.classList.add((ui_lib_module_default()).hide);
        setTimeout(()=>{
            root.unmount();
            div.remove();
        }, 300);
    };
    setTimeout(()=>{
        close();
    }, delay);
    root.render(/*#__PURE__*/ jsx_runtime_.jsx(Toast, {
        content: content,
        action: action,
        onClose: close
    }));
}
function Input(props) {
    return /*#__PURE__*/ jsx_runtime_.jsx("textarea", {
        ...props,
        className: `${(ui_lib_module_default()).input} ${props.className}`
    });
}
function PasswordInput(props) {
    const [visible, setVisible] = useState(false);
    function changeVisibility() {
        setVisible(!visible);
    }
    return /*#__PURE__*/ _jsxs("div", {
        className: "password-input-container",
        children: [
            /*#__PURE__*/ _jsx(IconButton, {
                icon: visible ? /*#__PURE__*/ _jsx(EyeIcon, {}) : /*#__PURE__*/ _jsx(EyeOffIcon, {}),
                onClick: changeVisibility,
                className: "password-eye"
            }),
            /*#__PURE__*/ _jsx("input", {
                ...props,
                type: visible ? "text" : "password",
                className: "password-input"
            })
        ]
    });
}
function Select(props) {
    const { className, children, ...otherProps } = props;
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: `${(ui_lib_module_default())["select-with-icon"]} ${className}`,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("select", {
                className: (ui_lib_module_default())["select-with-icon-select"],
                ...otherProps,
                children: children
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(down, {
                className: (ui_lib_module_default())["select-with-icon-icon"]
            })
        ]
    });
}
function showConfirm(content) {
    const div = document.createElement("div");
    div.className = "modal-mask";
    document.body.appendChild(div);
    const root = (0,client_namespaceObject.createRoot)(div);
    const closeModal = ()=>{
        root.unmount();
        div.remove();
    };
    return new Promise((resolve)=>{
        root.render(/*#__PURE__*/ jsx_runtime_.jsx(Modal, {
            title: locales/* default */.ZP.UI.Confirm,
            actions: [
                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                    text: locales/* default */.ZP.UI.Cancel,
                    onClick: ()=>{
                        resolve(false);
                        closeModal();
                    },
                    icon: /*#__PURE__*/ jsx_runtime_.jsx(cancel/* default */.Z, {}),
                    tabIndex: 0,
                    bordered: true,
                    shadow: true
                }, "cancel"),
                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                    text: locales/* default */.ZP.UI.Confirm,
                    type: "primary",
                    onClick: ()=>{
                        resolve(true);
                        closeModal();
                    },
                    icon: /*#__PURE__*/ jsx_runtime_.jsx(icons_confirm/* default */.Z, {}),
                    tabIndex: 0,
                    autoFocus: true,
                    bordered: true,
                    shadow: true
                }, "confirm")
            ],
            onClose: closeModal,
            children: content
        }));
    });
}
function PromptInput(props) {
    const [input, setInput] = (0,react_.useState)(props.value);
    const onInput = (value)=>{
        props.onChange(value);
        setInput(value);
    };
    return /*#__PURE__*/ jsx_runtime_.jsx("textarea", {
        className: (ui_lib_module_default())["modal-input"],
        autoFocus: true,
        value: input,
        onInput: (e)=>onInput(e.currentTarget.value),
        rows: props.rows ?? 3
    });
}
function showPrompt(content, value = "", rows = 3) {
    const div = document.createElement("div");
    div.className = "modal-mask";
    document.body.appendChild(div);
    const root = (0,client_namespaceObject.createRoot)(div);
    const closeModal = ()=>{
        root.unmount();
        div.remove();
    };
    return new Promise((resolve)=>{
        let userInput = value;
        root.render(/*#__PURE__*/ jsx_runtime_.jsx(Modal, {
            title: content,
            actions: [
                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                    text: locales/* default */.ZP.UI.Cancel,
                    onClick: ()=>{
                        closeModal();
                    },
                    icon: /*#__PURE__*/ jsx_runtime_.jsx(cancel/* default */.Z, {}),
                    bordered: true,
                    shadow: true,
                    tabIndex: 0
                }, "cancel"),
                /*#__PURE__*/ jsx_runtime_.jsx(components_button/* IconButton */.h, {
                    text: locales/* default */.ZP.UI.Confirm,
                    type: "primary",
                    onClick: ()=>{
                        resolve(userInput);
                        closeModal();
                    },
                    icon: /*#__PURE__*/ jsx_runtime_.jsx(icons_confirm/* default */.Z, {}),
                    bordered: true,
                    shadow: true,
                    tabIndex: 0
                }, "confirm")
            ],
            onClose: closeModal,
            children: /*#__PURE__*/ jsx_runtime_.jsx(PromptInput, {
                onChange: (val)=>userInput = val,
                value: value,
                rows: rows
            })
        }));
    });
}
function showImageModal(img) {
    showModal({
        title: locales/* default */.ZP.Export.Image.Modal,
        children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
            children: /*#__PURE__*/ jsx_runtime_.jsx("img", {
                src: img,
                alt: "preview",
                style: {
                    maxWidth: "100%"
                }
            })
        })
    });
}
function Selector(props) {
    return /*#__PURE__*/ _jsx("div", {
        className: styles["selector"],
        onClick: ()=>props.onClose?.(),
        children: /*#__PURE__*/ _jsx("div", {
            className: styles["selector-content"],
            children: /*#__PURE__*/ _jsx(List, {
                children: props.items.map((item, i)=>{
                    const selected = props.defaultSelectedValue === item.value;
                    return /*#__PURE__*/ _jsx(ListItem, {
                        className: styles["selector-item"],
                        title: item.title,
                        subTitle: item.subTitle,
                        onClick: ()=>{
                            props.onSelection?.([
                                item.value
                            ]);
                            props.onClose?.();
                        },
                        children: selected ? /*#__PURE__*/ _jsx("div", {
                            style: {
                                height: 10,
                                width: 10,
                                backgroundColor: "var(--primary)",
                                borderRadius: 10
                            }
                        }) : /*#__PURE__*/ _jsx(_Fragment, {})
                    }, i);
                })
            })
        })
    });
}


/***/ }),

/***/ 12730:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: () => (/* binding */ getClientConfig)
});

;// CONCATENATED MODULE: ./src-tauri/tauri.conf.json
const tauri_conf_namespaceObject = {"DR":{"i":"2.9.2"}};
;// CONCATENATED MODULE: ./app/config/build.ts

const getBuildConfig = ()=>{
    if (typeof process === "undefined") {
        throw Error("[Server Config] you are importing a nodejs-only module outside of nodejs");
    }
    const buildMode = process.env.BUILD_MODE ?? "standalone";
    const isApp = !!process.env.BUILD_APP;
    const version = "v" + tauri_conf_namespaceObject.DR.i;
    const commitInfo = (()=>{
        try {
            const childProcess = __webpack_require__(32081);
            const commitDate = childProcess.execSync('git log -1 --format="%at000" --date=unix').toString().trim();
            const commitHash = childProcess.execSync('git log --pretty=format:"%H" -n 1').toString().trim();
            return {
                commitDate,
                commitHash
            };
        } catch (e) {
            console.error("[Build Config] No git or not from git repo.");
            return {
                commitDate: "unknown",
                commitHash: "unknown"
            };
        }
    })();
    return {
        version,
        ...commitInfo,
        buildMode,
        isApp
    };
};

;// CONCATENATED MODULE: ./app/config/client.ts

function getClientConfig() {
    if (typeof document !== "undefined") {
        // client side
        return JSON.parse(queryMeta("config"));
    }
    if (typeof process !== "undefined") {
        // server side
        return getBuildConfig();
    }
}
function queryMeta(key, defaultValue) {
    let ret;
    if (document) {
        const meta = document.head.querySelector(`meta[name='${key}']`);
        ret = meta?.content ?? "";
    } else {
        ret = defaultValue ?? "";
    }
    return ret;
}


/***/ }),

/***/ 14751:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Cs: () => (/* binding */ UPDATE_URL),
/* harmony export */   DZ: () => (/* binding */ PageTypeEnum),
/* harmony export */   Fk: () => (/* binding */ FETCH_TAG_URL),
/* harmony export */   Fv: () => (/* binding */ DEFAULT_MODELS),
/* harmony export */   I4: () => (/* binding */ PromotionTypeMap),
/* harmony export */   KJ: () => (/* binding */ StoreKey),
/* harmony export */   Ky: () => (/* binding */ DEFAULT_API_HOST),
/* harmony export */   NQ: () => (/* binding */ MIN_SIDEBAR_WIDTH),
/* harmony export */   Sb: () => (/* binding */ LAST_INPUT_KEY),
/* harmony export */   TE: () => (/* binding */ FETCH_COMMIT_URL),
/* harmony export */   TH: () => (/* binding */ ISSUE_URL),
/* harmony export */   TW: () => (/* binding */ ACCESS_CODE_PREFIX),
/* harmony export */   bH: () => (/* binding */ NARROW_SIDEBAR_WIDTH),
/* harmony export */   cr: () => (/* binding */ RELEASE_URL),
/* harmony export */   dJ: () => (/* binding */ FileName),
/* harmony export */   fC: () => (/* binding */ TableEnum),
/* harmony export */   kf: () => (/* binding */ MAX_SIDEBAR_WIDTH),
/* harmony export */   mX: () => (/* binding */ OpenaiPath),
/* harmony export */   nS: () => (/* binding */ CHAT_PAGE_SIZE),
/* harmony export */   nV: () => (/* binding */ BillTypeMap),
/* harmony export */   o6: () => (/* binding */ TOKEN_ERROR_CODE),
/* harmony export */   rg: () => (/* binding */ PRICE_SCALE),
/* harmony export */   tb: () => (/* binding */ REQUEST_TIMEOUT_MS),
/* harmony export */   xf: () => (/* binding */ DEFAULT_INPUT_TEMPLATE),
/* harmony export */   y$: () => (/* binding */ Path),
/* harmony export */   yY: () => (/* binding */ EXPORT_MESSAGE_CLASS_NAME),
/* harmony export */   ym: () => (/* binding */ SlotID),
/* harmony export */   yp: () => (/* binding */ DEFAULT_SYSTEM_TEMPLATE)
/* harmony export */ });
/* unused harmony exports OWNER, REPO, REPO_URL, RUNTIME_CONFIG_DOM, UserAuthTypeEnum, BillTypeEnum, InformTypeEnum, PromotionEnum, MAX_RENDER_MSG_COUNT */
/*
 * :file description: 
 * :name: /chatgpt/app/constant.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-20 17:26:14
 */ const OWNER = "Yidadaa";
const REPO = "ChatGPT-Next-Web";
const REPO_URL = `https://github.com/${OWNER}/${REPO}`;
const ISSUE_URL = `https://github.com/${OWNER}/${REPO}/issues`;
const UPDATE_URL = `${REPO_URL}#keep-updated`;
const RELEASE_URL = `${REPO_URL}/releases`;
const FETCH_COMMIT_URL = `https://api.github.com/repos/${OWNER}/${REPO}/commits?per_page=1`;
const FETCH_TAG_URL = `https://api.github.com/repos/${OWNER}/${REPO}/tags?per_page=1`;
const RUNTIME_CONFIG_DOM = "danger-runtime-config";
const DEFAULT_API_HOST = "https://chatgpt1.nextweb.fun/api/proxy";
var Path;
(function(Path) {
    Path["Home"] = "/";
    Path["Chat"] = "/chat";
    Path["Settings"] = "/settings";
    Path["NewChat"] = "/new-chat";
    Path["Masks"] = "/masks";
    Path["Auth"] = "/login";
    Path["Login"] = "/login";
    Path["Number"] = "/number";
})(Path || (Path = {}));
var SlotID;
(function(SlotID) {
    SlotID["AppBody"] = "app-body";
})(SlotID || (SlotID = {}));
var UserAuthTypeEnum;
(function(UserAuthTypeEnum) {
    UserAuthTypeEnum["register"] = "register";
    UserAuthTypeEnum["findPassword"] = "findPassword";
})(UserAuthTypeEnum || (UserAuthTypeEnum = {}));
var TableEnum;
(function(TableEnum) {
    TableEnum["bill"] = "bill";
    TableEnum["pay"] = "pay";
    TableEnum["promotion"] = "promotion";
    TableEnum["inform"] = "inform";
})(TableEnum || (TableEnum = {}));
var BillTypeEnum;
(function(BillTypeEnum) {
    BillTypeEnum["chat"] = "chat";
    BillTypeEnum["openapiChat"] = "openapiChat";
    BillTypeEnum["QA"] = "QA";
    BillTypeEnum["vector"] = "vector";
    BillTypeEnum["return"] = "return";
})(BillTypeEnum || (BillTypeEnum = {}));
var InformTypeEnum;
(function(InformTypeEnum) {
    InformTypeEnum["system"] = "system";
})(InformTypeEnum || (InformTypeEnum = {}));
const BillTypeMap = {
    [BillTypeEnum.chat]: "对话",
    [BillTypeEnum.openapiChat]: "api 对话",
    [BillTypeEnum.QA]: "QA拆分",
    [BillTypeEnum.vector]: "索引生成",
    [BillTypeEnum.return]: "退款"
};
var PromotionEnum;
(function(PromotionEnum) {
    PromotionEnum["invite"] = "invite";
    PromotionEnum["shareModel"] = "shareModel";
    PromotionEnum["withdraw"] = "withdraw";
})(PromotionEnum || (PromotionEnum = {}));
const PromotionTypeMap = {
    [PromotionEnum.invite]: "好友充值",
    [PromotionEnum.shareModel]: "应用分享",
    [PromotionEnum.withdraw]: "提现"
};
var FileName;
(function(FileName) {
    FileName["Masks"] = "masks.json";
    FileName["Prompts"] = "prompts.json";
})(FileName || (FileName = {}));
var StoreKey;
(function(StoreKey) {
    StoreKey["Chat"] = "chat-next-web-store";
    StoreKey["Access"] = "access-control";
    StoreKey["Config"] = "app-config";
    StoreKey["Mask"] = "mask-store";
    StoreKey["Prompt"] = "prompt-store";
    StoreKey["Update"] = "chat-update";
    StoreKey["Sync"] = "sync";
})(StoreKey || (StoreKey = {}));
var PageTypeEnum;
(function(PageTypeEnum) {
    PageTypeEnum["login"] = "login";
    PageTypeEnum["register"] = "register";
    PageTypeEnum["forgetPassword"] = "forgetPassword";
})(PageTypeEnum || (PageTypeEnum = {}));
const MAX_SIDEBAR_WIDTH = 500;
const MIN_SIDEBAR_WIDTH = 230;
const NARROW_SIDEBAR_WIDTH = 100;
const PRICE_SCALE = 100000;
const ACCESS_CODE_PREFIX = "ak-";
const LAST_INPUT_KEY = "last-input";
const REQUEST_TIMEOUT_MS = 60000;
const EXPORT_MESSAGE_CLASS_NAME = "export-markdown";
const OpenaiPath = {
    ChatPath: "chat/completions",
    UsagePath: "dashboard/billing/usage",
    SubsPath: "dashboard/billing/subscription",
    ListModelPath: "v1/models"
};
const TOKEN_ERROR_CODE = {
    403: "登录状态无效,请重新登录"
};
const DEFAULT_INPUT_TEMPLATE = `{{input}}`; // input / time / model / lang
const DEFAULT_SYSTEM_TEMPLATE = `
You are ChatGPT, a large language model trained by OpenAI.
Knowledge cutoff: 2021-09
Current model: {{model}}
Current time: {{time}}`;
const DEFAULT_MODELS = [
    {
        name: "gpt-4",
        available: true
    },
    {
        name: "gpt-4-0314",
        available: true
    },
    {
        name: "gpt-4-0613",
        available: true
    },
    {
        name: "gpt-4-32k",
        available: true
    },
    {
        name: "gpt-4-32k-0314",
        available: true
    },
    {
        name: "gpt-4-32k-0613",
        available: true
    },
    {
        name: "gpt-3.5-turbo",
        available: true
    },
    {
        name: "gpt-3.5-turbo-0301",
        available: true
    },
    {
        name: "gpt-3.5-turbo-0613",
        available: true
    },
    {
        name: "gpt-3.5-turbo-16k",
        available: true
    },
    {
        name: "gpt-3.5-turbo-16k-0613",
        available: true
    }
];
const CHAT_PAGE_SIZE = 15;
const MAX_RENDER_MSG_COUNT = 45;


/***/ }),

/***/ 41373:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ useToast)
/* harmony export */ });
/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11521);
/*
 * :file description: 
 * :name: /chatgpt/app/hooks/useToast.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-13 20:57:10
 * :last editor: 张德志
 * :date last edited: 2023-08-13 20:57:12
 */ 
const useToast = (props)=>{
    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_0__/* .useToast */ .p)({
        position: "top",
        duration: 2000,
        ...props
    });
    return {
        toast
    };
};


/***/ }),

/***/ 32261:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  nW: () => (/* binding */ ALL_LANG_OPTIONS),
  DC: () => (/* binding */ AllLangs),
  t4: () => (/* binding */ changeLang),
  ZP: () => (/* binding */ locales),
  VQ: () => (/* binding */ getLang)
});

// EXTERNAL MODULE: ./app/store/config.ts
var config = __webpack_require__(72912);
;// CONCATENATED MODULE: ./app/locales/cn.ts
/*
 * :file description: 
 * :name: /chatgpt/app/locales/cn.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-19 11:48:51
 */ 
const cn = {
    WIP: "该功能仍在开发中……",
    Error: {
        Unauthorized: "访问密码不正确或为空，请前往[登录](/#/login)页输入正确的访问密码，或者在[设置](/#/settings)页填入你自己的 OpenAI API Key。"
    },
    Auth: {
        Title: "需要密码",
        Tips: "管理员开启了密码验证，请在下方填入访问码",
        Input: "在此处填写访问码",
        Confirm: "确认",
        Later: "稍后再说"
    },
    ChatItem: {
        ChatItemCount: (count)=>`${count} 条对话`
    },
    Chat: {
        SubTitle: (count)=>`共 ${count} 条对话`,
        EditMessage: {
            Title: "编辑消息记录",
            Topic: {
                Title: "聊天主题",
                SubTitle: "更改当前聊天主题"
            }
        },
        Actions: {
            ChatList: "查看消息列表",
            CompressedHistory: "查看压缩后的历史 Prompt",
            Export: "导出聊天记录",
            Copy: "复制",
            Stop: "停止",
            Retry: "重试",
            Pin: "固定",
            PinToastContent: "已将 1 条对话固定至预设提示词",
            PinToastAction: "查看",
            Delete: "删除",
            Edit: "编辑"
        },
        Commands: {
            new: "新建聊天",
            newm: "从面具新建聊天",
            next: "下一个聊天",
            prev: "上一个聊天",
            clear: "清除上下文",
            del: "删除聊天"
        },
        InputActions: {
            Stop: "停止响应",
            ToBottom: "滚到最新",
            Theme: {
                auto: "自动主题",
                light: "亮色模式",
                dark: "深色模式"
            },
            Prompt: "快捷指令",
            Masks: "所有面具",
            Clear: "清除聊天",
            Settings: "对话设置"
        },
        Rename: "重命名对话",
        Typing: "正在输入…",
        Input: (submitKey)=>{
            var inputHints = `${submitKey} 发送`;
            if (submitKey === String(config/* SubmitKey */.mQ.Enter)) {
                inputHints += "，Shift + Enter 换行";
            }
            return inputHints + "，/ 触发补全，: 触发命令";
        },
        Send: "发送",
        Config: {
            Reset: "清除记忆",
            SaveAs: "存为面具"
        },
        IsContext: "预设提示词"
    },
    Export: {
        Title: "分享聊天记录",
        Copy: "全部复制",
        Download: "下载文件",
        Share: "分享到 ShareGPT",
        MessageFromYou: "来自你的消息",
        MessageFromChatGPT: "来自 ChatGPT 的消息",
        Format: {
            Title: "导出格式",
            SubTitle: "可以导出 Markdown 文本或者 PNG 图片"
        },
        IncludeContext: {
            Title: "包含面具上下文",
            SubTitle: "是否在消息中展示面具上下文"
        },
        Steps: {
            Select: "选取",
            Preview: "预览"
        },
        Image: {
            Toast: "正在生成截图",
            Modal: "长按或右键保存图片"
        }
    },
    Select: {
        Search: "搜索消息",
        All: "选取全部",
        Latest: "最近几条",
        Clear: "清除选中"
    },
    Memory: {
        Title: "历史摘要",
        EmptyContent: "对话内容过短，无需总结",
        Send: "自动压缩聊天记录并作为上下文发送",
        Copy: "复制摘要",
        Reset: "[unused]",
        ResetConfirm: "确认清空历史摘要？"
    },
    Home: {
        NewChat: "新的聊天",
        DeleteChat: "确认删除选中的对话？",
        DeleteToast: "已删除会话",
        Revert: "撤销"
    },
    Settings: {
        Title: "设置",
        SubTitle: "所有设置选项",
        Danger: {
            Reset: {
                Title: "重置所有设置",
                SubTitle: "重置所有设置项回默认值",
                Action: "立即重置",
                Confirm: "确认重置所有设置？"
            },
            Clear: {
                Title: "清除所有数据",
                SubTitle: "清除所有聊天、设置数据",
                Action: "立即清除",
                Confirm: "确认清除所有聊天、设置数据？"
            }
        },
        Lang: {
            Name: "Language",
            All: "所有语言"
        },
        Avatar: "头像",
        Username: "账号",
        Balance: "余额",
        FontSize: {
            Title: "字体大小",
            SubTitle: "聊天内容的字体大小"
        },
        InjectSystemPrompts: {
            Title: "注入系统级提示信息",
            SubTitle: "强制给每次请求的消息列表开头添加一个模拟 ChatGPT 的系统提示"
        },
        InputTemplate: {
            Title: "用户输入预处理",
            SubTitle: "用户最新的一条消息会填充到此模板"
        },
        Update: {
            Version: (x)=>`当前版本：${x}`,
            IsLatest: "已是最新版本",
            CheckUpdate: "检查更新",
            IsChecking: "正在检查更新...",
            FoundUpdate: (x)=>`发现新版本：${x}`,
            GoToUpdate: "前往更新"
        },
        SendKey: "发送键",
        Theme: "主题",
        TightBorder: "无边框模式",
        SendPreviewBubble: {
            Title: "预览气泡",
            SubTitle: "在预览气泡中预览 Markdown 内容"
        },
        Mask: {
            Splash: {
                Title: "面具启动页",
                SubTitle: "新建聊天时，展示面具启动页"
            },
            Builtin: {
                Title: "隐藏内置面具",
                SubTitle: "在所有面具列表中隐藏内置面具"
            }
        },
        Prompt: {
            Disable: {
                Title: "禁用提示词自动补全",
                SubTitle: "在输入框开头输入 / 即可触发自动补全"
            },
            List: "自定义提示词列表",
            ListCount: (builtin, custom)=>`内置 ${builtin} 条，用户定义 ${custom} 条`,
            Edit: "编辑",
            Modal: {
                Title: "提示词列表",
                Add: "新建",
                Search: "搜索提示词"
            },
            EditModal: {
                Title: "编辑提示词"
            }
        },
        HistoryCount: {
            Title: "附带历史消息数",
            SubTitle: "每次请求携带的历史消息数"
        },
        CompressThreshold: {
            Title: "历史消息长度压缩阈值",
            SubTitle: "当未压缩的历史消息超过该值时，将进行压缩"
        },
        Token: {
            Title: "API Key",
            SubTitle: "使用自己的 Key 可绕过密码访问限制",
            Placeholder: "OpenAI API Key"
        },
        Usage: {
            Title: "余额查询",
            SubTitle (used, total) {
                return `本月已使用 $${used}，订阅总额 $${total}`;
            },
            IsChecking: "正在检查…",
            Check: "重新检查",
            NoAccess: "输入 API Key 或访问密码查看余额"
        },
        AccessCode: {
            Title: "访问密码",
            SubTitle: "管理员已开启加密访问",
            Placeholder: "请输入访问密码"
        },
        Endpoint: {
            Title: "接口地址",
            SubTitle: "除默认地址外，必须包含 http(s)://"
        },
        CustomModel: {
            Title: "自定义模型名",
            SubTitle: "增加自定义模型可选项，使用英文逗号隔开"
        },
        Model: "模型 (model)",
        Temperature: {
            Title: "随机性 (temperature)",
            SubTitle: "值越大，回复越随机"
        },
        TopP: {
            Title: "核采样 (top_p)",
            SubTitle: "与随机性类似，但不要和随机性一起更改"
        },
        MaxTokens: {
            Title: "单次回复限制 (max_tokens)",
            SubTitle: "单次交互所用的最大 Token 数"
        },
        PresencePenalty: {
            Title: "话题新鲜度 (presence_penalty)",
            SubTitle: "值越大，越有可能扩展到新话题"
        },
        FrequencyPenalty: {
            Title: "频率惩罚度 (frequency_penalty)",
            SubTitle: "值越大，越有可能降低重复字词"
        }
    },
    Store: {
        DefaultTopic: "新的聊天",
        BotHello: "有什么可以帮你的吗",
        Error: "出错了，稍后重试吧",
        Prompt: {
            History: (content)=>"这是历史聊天总结作为前情提要：" + content,
            Topic: "使用四到五个字直接返回这句话的简要主题，不要解释、不要标点、不要语气词、不要多余文本，如果没有主题，请直接返回“闲聊”",
            Summarize: "简要总结一下对话内容，用作后续的上下文提示 prompt，控制在 200 字以内"
        }
    },
    Copy: {
        Success: "已写入剪切板",
        Failed: "复制失败，请赋予剪切板权限"
    },
    Context: {
        Toast: (x)=>`包含 ${x} 条预设提示词`,
        Edit: "当前对话设置",
        Add: "新增一条对话",
        Clear: "上下文已清除",
        Revert: "恢复上下文"
    },
    Plugin: {
        Name: "插件"
    },
    Mask: {
        Name: "面具",
        Page: {
            Title: "预设角色面具",
            SubTitle: (count)=>`${count} 个预设角色定义`,
            Search: "搜索角色面具",
            Create: "新建"
        },
        Item: {
            Info: (count)=>`包含 ${count} 条预设对话`,
            Chat: "对话",
            View: "查看",
            Edit: "编辑",
            Delete: "删除",
            DeleteConfirm: "确认删除？"
        },
        EditModal: {
            Title: (readonly)=>`编辑预设面具 ${readonly ? "（只读）" : ""}`,
            Download: "下载预设",
            Clone: "克隆预设"
        },
        Config: {
            Avatar: "角色头像",
            Name: "角色名称",
            Sync: {
                Title: "使用全局设置",
                SubTitle: "当前对话是否使用全局模型设置",
                Confirm: "当前对话的自定义设置将会被自动覆盖，确认启用全局设置？"
            },
            HideContext: {
                Title: "隐藏预设对话",
                SubTitle: "隐藏后预设对话不会出现在聊天界面"
            },
            Share: {
                Title: "分享此面具",
                SubTitle: "生成此面具的直达链接",
                Action: "复制链接"
            }
        }
    },
    NewChat: {
        Return: "返回",
        Skip: "直接开始",
        NotShow: "不再展示",
        ConfirmNoShow: "确认禁用？禁用后可以随时在设置中重新启用。",
        Title: "挑选一个面具",
        SubTitle: "现在开始，与面具背后的灵魂思维碰撞",
        More: "查看全部"
    },
    URLCommand: {
        Code: "检测到链接中已经包含访问码，是否自动填入？",
        Settings: "检测到链接中包含了预制设置，是否自动填入？"
    },
    UI: {
        Confirm: "确认",
        Cancel: "取消",
        Close: "关闭",
        Create: "新建",
        Edit: "编辑"
    },
    Exporter: {
        Model: "模型",
        Messages: "消息",
        Topic: "主题",
        Time: "时间"
    }
};
/* harmony default export */ const locales_cn = (cn);

;// CONCATENATED MODULE: ./app/utils/merge.ts
function merge(target, source) {
    Object.keys(source).forEach(function(key) {
        if (source[key] && typeof source[key] === "object") {
            merge(target[key] = target[key] || {}, source[key]);
            return;
        }
        target[key] = source[key];
    });
}

;// CONCATENATED MODULE: ./app/locales/index.ts
/*
 * :file description: 
 * :name: /chatgpt/app/locales/index.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-19 14:03:46
 */ 
// import en from "./en";
// import tw from "./tw";
// import fr from "./fr";
// import es from "./es";
// import it from "./it";
// import tr from "./tr";
// import jp from "./jp";
// import de from "./de";
// import vi from "./vi";
// import ru from "./ru";
// import no from "./no";
// import cs from "./cs";
// import ko from "./ko";
// import ar from "./ar";
// import bn from "./bn";

const ALL_LANGS = {
    cn: locales_cn
};
const AllLangs = Object.keys(ALL_LANGS);
const ALL_LANG_OPTIONS = {
    cn: "简体中文"
};
const LANG_KEY = "lang";
const DEFAULT_LANG = "cn";
const fallbackLang = locales_cn;
const targetLang = ALL_LANGS[getLang()];
// if target lang missing some fields, it will use fallback lang string
merge(fallbackLang, targetLang);
/* harmony default export */ const locales = (fallbackLang);
function getItem(key) {
    try {
        return localStorage.getItem(key);
    } catch  {
        return null;
    }
}
function setItem(key, value) {
    try {
        localStorage.setItem(key, value);
    } catch  {}
}
function getLanguage() {
    try {
        return navigator.language.toLowerCase();
    } catch  {
        return DEFAULT_LANG;
    }
}
function getLang() {
    const savedLang = getItem(LANG_KEY);
    if (AllLangs.includes(savedLang ?? "")) {
        return savedLang;
    }
    const lang = getLanguage();
    for (const option of AllLangs){
        if (lang.includes(option)) {
            return option;
        }
    }
    return DEFAULT_LANG;
}
function changeLang(lang) {
    setItem(LANG_KEY, lang);
    location.reload();
}


/***/ }),

/***/ 20918:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  hJ: () => (/* binding */ BUILTIN_MASKS),
  $n: () => (/* binding */ BUILTIN_MASK_STORE)
});

// UNUSED EXPORTS: BUILTIN_MASK_ID

;// CONCATENATED MODULE: ./app/masks/cn.ts
/*
 * :file description: 
 * :name: /chatgpt/app/masks/cn.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-19 14:09:23
 */ const CN_MASKS = [];

;// CONCATENATED MODULE: ./app/masks/en.ts
/*
 * :file description: 
 * :name: /chatgpt/app/masks/en.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-19 14:10:56
 */ const EN_MASKS = [];

;// CONCATENATED MODULE: ./app/masks/index.ts


const BUILTIN_MASK_ID = 100000;
const BUILTIN_MASK_STORE = {
    buildinId: BUILTIN_MASK_ID,
    masks: {},
    get (id) {
        if (!id) return undefined;
        return this.masks[id];
    },
    add (m) {
        const mask = {
            ...m,
            id: this.buildinId++,
            builtin: true
        };
        this.masks[mask.id] = mask;
        return mask;
    }
};
const BUILTIN_MASKS = [
    ...CN_MASKS,
    ...EN_MASKS
].map((m)=>BUILTIN_MASK_STORE.add(m));


/***/ }),

/***/ 30659:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
if (!Array.prototype.at) {
    Array.prototype.at = function(index) {
        // Get the length of the array
        const length = this.length;
        // Convert negative index to a positive index
        if (index < 0) {
            index = length + index;
        }
        // Return undefined if the index is out of range
        if (index < 0 || index >= length) {
            return undefined;
        }
        // Use Array.prototype.slice method to get value at the specified index
        return Array.prototype.slice.call(this, index, index + 1)[0];
    };
}



/***/ }),

/***/ 94859:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  HX: () => (/* binding */ DEFAULT_TOPIC),
  tn: () => (/* binding */ createMessage),
  aK: () => (/* binding */ useChatStore)
});

// UNUSED EXPORTS: BOT_HELLO

// EXTERNAL MODULE: ./node_modules/zustand/esm/index.mjs + 1 modules
var esm = __webpack_require__(99715);
// EXTERNAL MODULE: ./node_modules/zustand/esm/middleware.mjs
var middleware = __webpack_require__(48228);
// EXTERNAL MODULE: ./app/utils.ts
var utils = __webpack_require__(54289);
// EXTERNAL MODULE: ./node_modules/mongoose/index.js
var mongoose = __webpack_require__(70193);
// EXTERNAL MODULE: ./app/locales/index.ts + 2 modules
var locales = __webpack_require__(32261);
// EXTERNAL MODULE: ./app/components/ui-lib.tsx + 3 modules
var ui_lib = __webpack_require__(5129);
// EXTERNAL MODULE: ./app/store/config.ts
var store_config = __webpack_require__(72912);
// EXTERNAL MODULE: ./app/store/mask.ts
var mask = __webpack_require__(27736);
// EXTERNAL MODULE: ./app/constant.ts
var constant = __webpack_require__(14751);
// EXTERNAL MODULE: ./app/client/api.ts + 1 modules
var api = __webpack_require__(96083);
// EXTERNAL MODULE: ./app/client/controller.ts
var client_controller = __webpack_require__(93935);
// EXTERNAL MODULE: ./app/utils/format.ts
var format = __webpack_require__(21620);
;// CONCATENATED MODULE: ./app/utils/token.ts
function estimateTokenLength(input) {
    let tokenLength = 0;
    for(let i = 0; i < input.length; i++){
        const charCode = input.charCodeAt(i);
        if (charCode < 128) {
            // ASCII character
            if (charCode <= 122 && charCode >= 65) {
                // a-Z
                tokenLength += 0.25;
            } else {
                tokenLength += 0.5;
            }
        } else {
            // Unicode character
            tokenLength += 1.5;
        }
    }
    return tokenLength;
}

// EXTERNAL MODULE: ./node_modules/nanoid/index.js + 1 modules
var nanoid = __webpack_require__(48350);
;// CONCATENATED MODULE: ./app/store/chat.ts
/*
 * :file description: 
 * :name: /chatgpt/app/store/chat.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-19 14:09:36
 */ 













function createMessage(override) {
    return {
        _id: String(new mongoose.Types.ObjectId()),
        role: "user",
        content: "",
        date: ""
    };
}
const DEFAULT_TOPIC = locales/* default */.ZP.Store.DefaultTopic;
const BOT_HELLO = createMessage({
    role: "assistant",
    content: locales/* default */.ZP.Store.BotHello
});
function createEmptySession() {
    return {
        _id: String(new mongoose.Types.ObjectId()),
        topic: DEFAULT_TOPIC,
        memoryPrompt: "",
        messages: [],
        stat: {
            tokenCount: 0,
            wordCount: 0,
            charCount: 0
        },
        lastUpdate: Date.now(),
        lastSummarizeIndex: 0,
        mask: (0,mask/* createEmptyMask */.Yc)()
    };
}
function countMessages(msgs) {
    return msgs.reduce((pre, cur)=>pre + estimateTokenLength(cur.content), 0);
}
function fillTemplateWith(input, modelConfig) {
    const vars = {
        model: modelConfig.model,
        time: new Date().toLocaleString(),
        lang: (0,locales/* getLang */.VQ)(),
        input: input
    };
    let output = modelConfig.template ?? constant/* DEFAULT_INPUT_TEMPLATE */.xf;
    // must contains {{input}}
    const inputVar = "{{input}}";
    if (!output.includes(inputVar)) {
        output += "\n" + inputVar;
    }
    Object.entries(vars).forEach(([name, value])=>{
        output = output.replaceAll(`{{${name}}}`, value);
    });
    return output;
}
const useChatStore = (0,esm/* create */.Ue)()((0,middleware/* persist */.tJ)((set, get)=>({
        sessions: [
            createEmptySession()
        ],
        currentSessionIndex: 0,
        clearSessions () {
            set(()=>({
                    sessions: [
                        createEmptySession()
                    ],
                    currentSessionIndex: 0
                }));
        },
        selectSession (index) {
            set({
                currentSessionIndex: index
            });
        },
        moveSession (from, to) {
            set((state)=>{
                const { sessions, currentSessionIndex: oldIndex } = state;
                // move the session
                const newSessions = [
                    ...sessions
                ];
                const session = newSessions[from];
                newSessions.splice(from, 1);
                newSessions.splice(to, 0, session);
                // modify current session id
                let newIndex = oldIndex === from ? to : oldIndex;
                if (oldIndex > from && oldIndex <= to) {
                    newIndex -= 1;
                } else if (oldIndex < from && oldIndex >= to) {
                    newIndex += 1;
                }
                return {
                    currentSessionIndex: newIndex,
                    sessions: newSessions
                };
            });
        },
        newSession (mask) {
            const session = createEmptySession();
            if (mask) {
                const config = store_config/* useAppConfig */.MG.getState();
                const globalModelConfig = config.modelConfig;
                session.mask = {
                    ...mask,
                    modelConfig: {
                        ...globalModelConfig,
                        ...mask.modelConfig
                    }
                };
                session.topic = mask.name;
            }
            set((state)=>({
                    currentSessionIndex: 0,
                    sessions: [
                        session
                    ].concat(state.sessions)
                }));
        },
        nextSession (delta) {
            const n = get().sessions.length;
            const limit = (x)=>(x + n) % n;
            const i = get().currentSessionIndex;
            get().selectSession(limit(i + delta));
        },
        deleteSession (index) {
            const deletingLastSession = get().sessions.length === 1;
            const deletedSession = get().sessions.at(index);
            if (!deletedSession) return;
            const sessions = get().sessions.slice();
            sessions.splice(index, 1);
            const currentIndex = get().currentSessionIndex;
            let nextIndex = Math.min(currentIndex - Number(index < currentIndex), sessions.length - 1);
            if (deletingLastSession) {
                nextIndex = 0;
                sessions.push(createEmptySession());
            }
            // for undo delete action
            const restoreState = {
                currentSessionIndex: get().currentSessionIndex,
                sessions: get().sessions.slice()
            };
            set(()=>({
                    currentSessionIndex: nextIndex,
                    sessions
                }));
            (0,ui_lib/* showToast */.CF)(locales/* default */.ZP.Home.DeleteToast, {
                text: locales/* default */.ZP.Home.Revert,
                onClick () {
                    set(()=>restoreState);
                }
            }, 5000);
        },
        currentSession () {
            let index = get().currentSessionIndex;
            const sessions = get().sessions;
            if (index < 0 || index >= sessions.length) {
                index = Math.min(sessions.length - 1, Math.max(0, index));
                set(()=>({
                        currentSessionIndex: index
                    }));
            }
            const session = sessions[index];
            return session;
        },
        onNewMessage (message) {
            get().updateCurrentSession((session)=>{
                session.messages = session.messages.concat();
                session.lastUpdate = Date.now();
            });
            get().updateStat(message);
            get().summarizeSession();
        },
        async onUserInput (content) {
            const session = get().currentSession();
            const modelConfig = session.mask.modelConfig;
            const { _id: modelId } = session.mask || {};
            const userContent = fillTemplateWith(content, modelConfig);
            console.log("[User Input] after template: ", userContent);
            const userMessage = createMessage({
                role: "user",
                content: userContent
            });
            const botMessage = createMessage({
                role: "assistant",
                streaming: true
            });
            // const params = { appId, chatId: '', messages: [userMessage, botMessage], model: "", stream: true };
            // console.log(params);
            // get recent messages
            const recentMessages = get().getMessagesWithMemory();
            const sendMessages = recentMessages.concat(userMessage);
            const messageIndex = get().currentSession().messages.length + 1;
            // save user's and bot's message
            get().updateCurrentSession((session)=>{
                const savedUserMessage = {
                    ...userMessage,
                    content
                };
                session.messages = session?.messages?.concat([
                    savedUserMessage,
                    botMessage
                ]);
            });
            // make request
            api/* api */.hi.llm.chat({
                messages: sendMessages,
                config: {
                    stream: true,
                    appId: modelId,
                    model: "",
                    chatId: ""
                },
                onUpdate (message) {
                    botMessage.streaming = true;
                    if (message) {
                        botMessage.content = message;
                    }
                    get().updateCurrentSession((session)=>{
                        session.messages = session.messages.concat();
                    });
                },
                onFinish (message) {
                    botMessage.streaming = false;
                    if (message) {
                        botMessage.content = message;
                        get().onNewMessage(botMessage);
                    }
                    client_controller/* ChatControllerPool */.L.remove(session._id, botMessage._id);
                },
                onError (error) {
                    const isAborted = error.message.includes("aborted");
                    botMessage.content += "\n\n" + (0,format/* prettyObject */.B)({
                        error: true,
                        message: error.message
                    });
                    botMessage.streaming = false;
                    // userMessage.isError = !isAborted;
                    // botMessage.isError = !isAborted;
                    get().updateCurrentSession((session)=>{
                        session.messages = session.messages.concat();
                    });
                    client_controller/* ChatControllerPool */.L.remove(session._id, botMessage._id ?? messageIndex);
                    console.error("[Chat] failed ", error);
                },
                onController (controller) {
                    // collect controller for stop/retry
                    client_controller/* ChatControllerPool */.L.addController(session._id, botMessage._id ?? messageIndex, controller);
                }
            });
        },
        getMemoryPrompt () {
            const session = get().currentSession();
            return {
                role: "system",
                content: session.memoryPrompt.length > 0 ? locales/* default */.ZP.Store.Prompt.History(session.memoryPrompt) : ""
            };
        },
        getMessagesWithMemory () {
            const session = get().currentSession();
            const modelConfig = session.mask.modelConfig;
            const clearContextIndex = session.clearContextIndex ?? 0;
            const messages = session?.messages?.slice();
            const totalMessageCount = session?.messages?.length;
            // system prompts, to get close to OpenAI Web ChatGPT
            const shouldInjectSystemPrompts = modelConfig.enableInjectSystemPrompts;
            const systemPrompts = shouldInjectSystemPrompts ? [
                createMessage({
                    role: "system",
                    content: fillTemplateWith("", {
                        ...modelConfig,
                        template: constant/* DEFAULT_SYSTEM_TEMPLATE */.yp
                    })
                })
            ] : [];
            if (shouldInjectSystemPrompts) {
                console.log("[Global System Prompt] ", systemPrompts.at(0)?.content ?? "empty");
            }
            // long term memory
            const shouldSendLongTermMemory = modelConfig.sendMemory && session.memoryPrompt && session.memoryPrompt.length > 0 && session.lastSummarizeIndex > clearContextIndex;
            const longTermMemoryPrompts = shouldSendLongTermMemory ? [
                get().getMemoryPrompt()
            ] : [];
            const longTermMemoryStartIndex = session.lastSummarizeIndex;
            // short term memory
            const shortTermMemoryStartIndex = Math.max(0, totalMessageCount - modelConfig.historyMessageCount);
            // lets concat send messages, including 4 parts:
            // 0. system prompt: to get close to OpenAI Web ChatGPT
            // 1. long term memory: summarized memory messages
            // 2. pre-defined in-context prompts
            // 3. short term memory: latest n messages
            // 4. newest input message
            const memoryStartIndex = shouldSendLongTermMemory ? Math.min(longTermMemoryStartIndex, shortTermMemoryStartIndex) : shortTermMemoryStartIndex;
            // and if user has cleared history messages, we should exclude the memory too.
            const contextStartIndex = Math.max(clearContextIndex, memoryStartIndex);
            const maxTokenThreshold = modelConfig.max_tokens;
            // get recent messages as much as possible
            const reversedRecentMessages = [];
            for(let i = totalMessageCount - 1, tokenCount = 0; i >= contextStartIndex && tokenCount < maxTokenThreshold; i -= 1){
                const msg = messages[i];
                if (!msg) continue;
                tokenCount += estimateTokenLength(msg.content);
                reversedRecentMessages.push(msg);
            }
            // concat all messages
            const recentMessages = [
                ...systemPrompts,
                ...longTermMemoryPrompts,
                ...reversedRecentMessages.reverse()
            ];
            return recentMessages;
        },
        updateMessage (sessionIndex, messageIndex, updater) {
            const sessions = get().sessions;
            const session = sessions.at(sessionIndex);
            const messages = session?.messages;
            updater(messages?.at(messageIndex));
            set(()=>({
                    sessions
                }));
        },
        resetSession () {
            get().updateCurrentSession((session)=>{
                session.messages = [];
                session.memoryPrompt = "";
            });
        },
        summarizeSession () {
            const session = get().currentSession();
            // remove error messages if any
            const messages = session.messages;
            // should summarize topic after chating more than 50 words
            const SUMMARIZE_MIN_LEN = 50;
            if (session.topic === DEFAULT_TOPIC && countMessages(messages) >= SUMMARIZE_MIN_LEN) {
                const topicMessages = messages.concat(createMessage({
                    role: "user",
                    content: locales/* default */.ZP.Store.Prompt.Topic
                }));
                api/* api */.hi.llm.chat({
                    messages: topicMessages,
                    config: {
                        model: "gpt-3.5-turbo",
                        appId: "",
                        chatId: ""
                    },
                    onFinish (message) {
                        get().updateCurrentSession((session)=>session.topic = message.length > 0 ? (0,utils/* trimTopic */.ez)(message) : DEFAULT_TOPIC);
                    }
                });
            }
            const modelConfig = session.mask.modelConfig;
            const summarizeIndex = Math.max(session.lastSummarizeIndex, session.clearContextIndex ?? 0);
            let toBeSummarizedMsgs = messages.slice(summarizeIndex);
            const historyMsgLength = countMessages(toBeSummarizedMsgs);
            if ((historyMsgLength > modelConfig?.max_tokens) ?? 4000) {
                const n = toBeSummarizedMsgs.length;
                toBeSummarizedMsgs = toBeSummarizedMsgs.slice(Math.max(0, n - modelConfig.historyMessageCount));
            }
            // add memory prompt
            toBeSummarizedMsgs.unshift(get().getMemoryPrompt());
            const lastSummarizeIndex = session.messages.length;
            console.log("[Chat History] ", toBeSummarizedMsgs, historyMsgLength, modelConfig.compressMessageLengthThreshold);
            if (historyMsgLength > modelConfig.compressMessageLengthThreshold && modelConfig.sendMemory) {
                api/* api */.hi.llm.chat({
                    messages: toBeSummarizedMsgs.concat(createMessage({
                        role: "system",
                        content: locales/* default */.ZP.Store.Prompt.Summarize
                    })),
                    config: {
                        ...modelConfig,
                        stream: true,
                        model: "gpt-3.5-turbo",
                        appId: "",
                        chatId: ""
                    },
                    onUpdate (message) {
                        session.memoryPrompt = message;
                    },
                    onFinish (message) {
                        console.log("[Memory] ", message);
                        session.lastSummarizeIndex = lastSummarizeIndex;
                    },
                    onError (err) {
                        console.error("[Summarize] ", err);
                    }
                });
            }
        },
        updateStat (message) {
            get().updateCurrentSession((session)=>{
                session.stat.charCount += message.content.length;
            // TODO: should update chat count and word count
            });
        },
        updateCurrentSession (updater) {
            const sessions = get().sessions;
            const index = get().currentSessionIndex;
            updater(sessions[index]);
            set(()=>({
                    sessions
                }));
        },
        clearAllData () {
            localStorage.clear();
            location.reload();
        }
    }), {
    name: constant/* StoreKey */.KJ.Chat,
    version: 3.1,
    migrate (persistedState, version) {
        const state = persistedState;
        const newState = JSON.parse(JSON.stringify(state));
        if (version < 2) {
            newState.sessions = [];
            const oldSessions = state.sessions;
            for (const oldSession of oldSessions){
                const newSession = createEmptySession();
                newSession.topic = oldSession.topic;
                newSession.messages = [
                    ...oldSession.messages
                ];
                newSession.mask.modelConfig.sendMemory = true;
                newSession.mask.modelConfig.historyMessageCount = 4;
                newSession.mask.modelConfig.compressMessageLengthThreshold = 1000;
                newState.sessions.push(newSession);
            }
        }
        if (version < 3) {
            // migrate id to nanoid
            newState.sessions.forEach((s)=>{
                s._id = (0,nanoid/* nanoid */.x0)();
                s.messages.forEach((m)=>m._id = (0,nanoid/* nanoid */.x0)());
            });
        }
        // Enable `enableInjectSystemPrompts` attribute for old sessions.
        // Resolve issue of old sessions not automatically enabling.
        if (version < 3.1) {
            newState.sessions.forEach((s)=>{
                if (// Exclude those already set by user
                !s.mask.modelConfig.hasOwnProperty("enableInjectSystemPrompts")) {
                    // Because users may have changed this configuration,
                    // the user's current configuration is used instead of the default
                    const config = store_config/* useAppConfig */.MG.getState();
                    s.mask.modelConfig.enableInjectSystemPrompts = config.modelConfig.enableInjectSystemPrompts;
                }
            });
        }
        return newState;
    }
}));


/***/ }),

/***/ 72912:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MG: () => (/* binding */ useAppConfig),
/* harmony export */   Q2: () => (/* binding */ Theme),
/* harmony export */   Xm: () => (/* binding */ ModalConfigValidator),
/* harmony export */   mQ: () => (/* binding */ SubmitKey)
/* harmony export */ });
/* unused harmony exports DEFAULT_CONFIG, limitNumber */
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(99715);
/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(48228);
/* harmony import */ var _config_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12730);
/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14751);




var SubmitKey;
(function(SubmitKey) {
    SubmitKey["Enter"] = "Enter";
    SubmitKey["CtrlEnter"] = "Ctrl + Enter";
    SubmitKey["ShiftEnter"] = "Shift + Enter";
    SubmitKey["AltEnter"] = "Alt + Enter";
    SubmitKey["MetaEnter"] = "Meta + Enter";
})(SubmitKey || (SubmitKey = {}));
var Theme;
(function(Theme) {
    Theme["Auto"] = "auto";
    Theme["Dark"] = "dark";
    Theme["Light"] = "light";
})(Theme || (Theme = {}));
const DEFAULT_CONFIG = {
    submitKey: SubmitKey.CtrlEnter,
    avatar: "1f603",
    fontSize: 14,
    theme: Theme.Auto,
    tightBorder: !!(0,_config_client__WEBPACK_IMPORTED_MODULE_0__/* .getClientConfig */ .Z)()?.isApp,
    sendPreviewBubble: true,
    sidebarWidth: 300,
    disablePromptHint: false,
    dontShowMaskSplashScreen: false,
    hideBuiltinMasks: false,
    customModels: "",
    models: _constant__WEBPACK_IMPORTED_MODULE_1__/* .DEFAULT_MODELS */ .Fv,
    modelConfig: {
        model: "gpt-3.5-turbo",
        temperature: 0.5,
        top_p: 1,
        max_tokens: 2000,
        presence_penalty: 0,
        frequency_penalty: 0,
        sendMemory: true,
        historyMessageCount: 4,
        compressMessageLengthThreshold: 1000,
        enableInjectSystemPrompts: true,
        template: _constant__WEBPACK_IMPORTED_MODULE_1__/* .DEFAULT_INPUT_TEMPLATE */ .xf
    }
};
function limitNumber(x, min, max, defaultValue) {
    if (typeof x !== "number" || isNaN(x)) {
        return defaultValue;
    }
    return Math.min(max, Math.max(min, x));
}
const ModalConfigValidator = {
    model (x) {
        return x;
    },
    max_tokens (x) {
        return limitNumber(x, 0, 100000, 2000);
    },
    presence_penalty (x) {
        return limitNumber(x, -2, 2, 0);
    },
    frequency_penalty (x) {
        return limitNumber(x, -2, 2, 0);
    },
    temperature (x) {
        return limitNumber(x, 0, 1, 1);
    },
    top_p (x) {
        return limitNumber(x, 0, 1, 1);
    }
};
const useAppConfig = (0,zustand__WEBPACK_IMPORTED_MODULE_2__/* .create */ .Ue)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_3__/* .persist */ .tJ)((set, get)=>({
        ...DEFAULT_CONFIG,
        reset () {
            set(()=>({
                    ...DEFAULT_CONFIG
                }));
        },
        update (updater) {
            const config = {
                ...get()
            };
            updater(config);
            set(()=>config);
        },
        mergeModels (newModels) {
            if (!newModels || newModels.length === 0) {
                return;
            }
            const oldModels = get().models;
            const modelMap = {};
            for (const model of oldModels){
                model.available = false;
                modelMap[model.name] = model;
            }
            for (const model of newModels){
                model.available = true;
                modelMap[model.name] = model;
            }
            set(()=>({
                    models: Object.values(modelMap)
                }));
        },
        allModels () {
            const customModels = get().customModels.split(",").filter((v)=>!!v && v.length > 0).map((m)=>({
                    name: m,
                    available: true
                }));
            const models = get().models.concat(customModels);
            return models;
        }
    }), {
    name: _constant__WEBPACK_IMPORTED_MODULE_1__/* .StoreKey */ .KJ.Config,
    version: 3.6,
    migrate (persistedState, version) {
        const state = persistedState;
        if (version < 3.4) {
            state.modelConfig.sendMemory = true;
            state.modelConfig.historyMessageCount = 4;
            state.modelConfig.compressMessageLengthThreshold = 1000;
            state.modelConfig.frequency_penalty = 0;
            state.modelConfig.top_p = 1;
            state.modelConfig.template = _constant__WEBPACK_IMPORTED_MODULE_1__/* .DEFAULT_INPUT_TEMPLATE */ .xf;
            state.dontShowMaskSplashScreen = false;
            state.hideBuiltinMasks = false;
        }
        if (version < 3.5) {
            state.customModels = "claude,claude-100k";
        }
        if (version < 3.6) {
            state.modelConfig.enableInjectSystemPrompts = true;
        }
        return state;
    }
}));


/***/ }),

/***/ 87079:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  HX: () => (/* reexport */ chat/* DEFAULT_TOPIC */.HX),
  Xm: () => (/* reexport */ config/* ModalConfigValidator */.Xm),
  mQ: () => (/* reexport */ config/* SubmitKey */.mQ),
  Q2: () => (/* reexport */ config/* Theme */.Q2),
  tn: () => (/* reexport */ chat/* createMessage */.tn),
  _X: () => (/* reexport */ useAccessStore),
  MG: () => (/* reexport */ config/* useAppConfig */.MG),
  aK: () => (/* reexport */ chat/* useChatStore */.aK),
  u2: () => (/* reexport */ useUpdateStore)
});

// UNUSED EXPORTS: BOT_HELLO, DEFAULT_CONFIG, limitNumber

// EXTERNAL MODULE: ./app/store/chat.ts + 1 modules
var chat = __webpack_require__(94859);
// EXTERNAL MODULE: ./node_modules/zustand/esm/index.mjs + 1 modules
var esm = __webpack_require__(99715);
// EXTERNAL MODULE: ./node_modules/zustand/esm/middleware.mjs
var middleware = __webpack_require__(48228);
// EXTERNAL MODULE: ./app/constant.ts
var constant = __webpack_require__(14751);
// EXTERNAL MODULE: ./app/client/api.ts + 1 modules
var api = __webpack_require__(96083);
// EXTERNAL MODULE: ./app/config/client.ts + 2 modules
var client = __webpack_require__(12730);
;// CONCATENATED MODULE: ./app/store/update.ts





const ONE_MINUTE = 60 * 1000;
function formatVersionDate(t) {
    const d = new Date(+t);
    const year = d.getUTCFullYear();
    const month = d.getUTCMonth() + 1;
    const day = d.getUTCDate();
    return [
        year.toString(),
        month.toString().padStart(2, "0"),
        day.toString().padStart(2, "0")
    ].join("");
}
async function getVersion(type) {
    if (type === "date") {
        const data = await (await fetch(constant/* FETCH_COMMIT_URL */.TE)).json();
        const remoteCommitTime = data[0].commit.author.date;
        const remoteId = new Date(remoteCommitTime).getTime().toString();
        return remoteId;
    } else if (type === "tag") {
        const data = await (await fetch(constant/* FETCH_TAG_URL */.Fk)).json();
        return data.at(0)?.name;
    }
}
const useUpdateStore = (0,esm/* create */.Ue)()((0,middleware/* persist */.tJ)((set, get)=>({
        versionType: "tag",
        lastUpdate: 0,
        version: "unknown",
        remoteVersion: "",
        lastUpdateUsage: 0,
        formatVersion (version) {
            if (get().versionType === "date") {
                version = formatVersionDate(version);
            }
            return version;
        },
        async getLatestVersion (force = false) {
            const versionType = get().versionType;
            let version = versionType === "date" ? (0,client/* getClientConfig */.Z)()?.commitDate : (0,client/* getClientConfig */.Z)()?.version;
            set(()=>({
                    version
                }));
            const shouldCheck = Date.now() - get().lastUpdate > 2 * 60 * ONE_MINUTE;
            if (!force && !shouldCheck) return;
            set(()=>({
                    lastUpdate: Date.now()
                }));
            try {
                const remoteId = await getVersion(versionType);
                set(()=>({
                        remoteVersion: remoteId
                    }));
                console.log("[Got Upstream] ", remoteId);
            } catch (error) {
                console.error("[Fetch Upstream Commit Id]", error);
            }
        },
        async updateUsage (force = false) {
            const overOneMinute = Date.now() - get().lastUpdateUsage >= ONE_MINUTE;
            if (!overOneMinute && !force) return;
            set(()=>({
                    lastUpdateUsage: Date.now()
                }));
            try {
                const usage = await api/* api */.hi.llm.usage();
                if (usage) {
                    set(()=>({
                            used: usage.used,
                            subscription: usage.total
                        }));
                }
            } catch (e) {
                console.error(e.message);
            }
        }
    }), {
    name: constant/* StoreKey */.KJ.Update,
    version: 1
}));

;// CONCATENATED MODULE: ./app/store/access.ts
/*
 * :file description: 
 * :name: /chatgpt/app/store/access.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-20 14:44:02
 */ 




let fetchState = 0; // 0 not fetch, 1 fetching, 2 done
const DEFAULT_OPENAI_URL = (0,client/* getClientConfig */.Z)()?.buildMode === "export" ? constant/* DEFAULT_API_HOST */.Ky : "/api/openapi/";
console.log("[API] default openai url", DEFAULT_OPENAI_URL);
const useAccessStore = (0,esm/* create */.Ue)()((0,middleware/* persist */.tJ)((set, get)=>({
        _id: "",
        token: "",
        accessCode: "",
        avatar: "",
        balance: 0,
        createTime: 0,
        username: "",
        needCode: true,
        hideUserApiKey: false,
        hideBalanceQuery: false,
        disableGPT4: false,
        openaiUrl: DEFAULT_OPENAI_URL,
        enabledAccessControl () {
            get().fetch();
            return get().needCode;
        },
        updateCode (code) {
            set(()=>({
                    accessCode: code?.trim()
                }));
        },
        updateToken (token) {
            set(()=>({
                    token: token?.trim()
                }));
        },
        updateOpenAiUrl (url) {
            set(()=>({
                    openaiUrl: url?.trim()
                }));
        },
        isAuthorized () {
            get().fetch();
            // has token or has code or disabled access control
            return !!get().token || !!get().accessCode || !get().enabledAccessControl();
        },
        fetch () {
            if (fetchState > 0 || (0,client/* getClientConfig */.Z)()?.buildMode === "export") return;
            fetchState = 1;
            fetch("/api/user/tokenLogin", {
                method: "get",
                body: null,
                headers: {
                    ...(0,api/* getHeaders */.wU)()
                }
            }).then((res)=>res.json()).then((res)=>{
                const data = res?.data;
                if (res?.code in constant/* TOKEN_ERROR_CODE */.o6) {
                    window.location.replace(`/#/login`);
                    return;
                }
                set(()=>({
                        ...data
                    }));
            }).catch(()=>{
                console.error("[Config] failed to fetch config");
            }).finally(()=>{
                fetchState = 2;
            });
        }
    }), {
    name: constant/* StoreKey */.KJ.Access,
    version: 1
}));

// EXTERNAL MODULE: ./app/store/config.ts
var config = __webpack_require__(72912);
;// CONCATENATED MODULE: ./app/store/index.ts






/***/ }),

/***/ 27736:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Yc: () => (/* binding */ createEmptyMask),
/* harmony export */   Zy: () => (/* binding */ useMaskStore),
/* harmony export */   _G: () => (/* binding */ DEFAULT_MASK_AVATAR)
/* harmony export */ });
/* unused harmony export DEFAULT_MASK_STATE */
/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99715);
/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48228);
/* harmony import */ var _masks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20918);
/* harmony import */ var _locales__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32261);
/* harmony import */ var _chat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94859);
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(72912);
/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(14751);
/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(48350);
/*
 * :file description: 
 * :name: /chatgpt/app/store/mask.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-17 21:04:01
 */ 







const DEFAULT_MASK_STATE = {
    masks: {}
};
const DEFAULT_MASK_AVATAR = "gpt-bot";
const createEmptyMask = ()=>({
        _id: (0,nanoid__WEBPACK_IMPORTED_MODULE_5__/* .nanoid */ .x0)(),
        avatar: DEFAULT_MASK_AVATAR,
        name: _chat__WEBPACK_IMPORTED_MODULE_2__/* .DEFAULT_TOPIC */ .HX,
        context: [],
        syncGlobalConfig: true,
        modelConfig: {
            ..._config__WEBPACK_IMPORTED_MODULE_3__/* .useAppConfig */ .MG.getState().modelConfig
        },
        lang: (0,_locales__WEBPACK_IMPORTED_MODULE_1__/* .getLang */ .VQ)(),
        builtin: false,
        createdAt: Date.now()
    });
const useMaskStore = (0,zustand__WEBPACK_IMPORTED_MODULE_6__/* .create */ .Ue)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_7__/* .persist */ .tJ)((set, get)=>({
        ...DEFAULT_MASK_STATE,
        create (mask) {
            const masks = get().masks;
            const id = (0,nanoid__WEBPACK_IMPORTED_MODULE_5__/* .nanoid */ .x0)();
            masks[id] = {
                ...createEmptyMask(),
                ...mask,
                _id: id,
                builtin: false
            };
            set(()=>({
                    masks
                }));
            return masks[id];
        },
        update (id, updater) {
            const masks = get().masks;
            const mask = masks[id];
            if (!mask) return;
            const updateMask = {
                ...mask
            };
            updater(updateMask);
            masks[id] = updateMask;
            set(()=>({
                    masks
                }));
        },
        delete (id) {
            const masks = get().masks;
            delete masks[id];
            set(()=>({
                    masks
                }));
        },
        get (id) {
            return get().masks[id ?? 1145141919810];
        },
        getAll () {
            const userMasks = Object.values(get().masks).sort((a, b)=>b.createdAt - a.createdAt);
            const config = _config__WEBPACK_IMPORTED_MODULE_3__/* .useAppConfig */ .MG.getState();
            if (config.hideBuiltinMasks) return userMasks;
            const buildinMasks = _masks__WEBPACK_IMPORTED_MODULE_0__/* .BUILTIN_MASKS */ .hJ.map((m)=>({
                    ...m,
                    modelConfig: {
                        ...config.modelConfig,
                        ...m.modelConfig
                    }
                }));
            return userMasks.concat(buildinMasks);
        },
        search (text) {
            return Object.values(get().masks);
        }
    }), {
    name: _constant__WEBPACK_IMPORTED_MODULE_4__/* .StoreKey */ .KJ.Mask,
    version: 3.1,
    migrate (state, version) {
        const newState = JSON.parse(JSON.stringify(state));
        // migrate mask id to nanoid
        if (version < 3) {
            Object.values(newState.masks).forEach((m)=>m._id = (0,nanoid__WEBPACK_IMPORTED_MODULE_5__/* .nanoid */ .x0)());
        }
        if (version < 3.1) {
            const updatedMasks = {};
            Object.values(newState.masks).forEach((m)=>{
                updatedMasks[m._id] = m;
            });
            newState.masks = updatedMasks;
        }
        return newState;
    }
}));


/***/ }),

/***/ 85915:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   r: () => (/* binding */ theme)
/* harmony export */ });
/* harmony import */ var _chakra_ui_styled_system__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13204);
/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(17749);
/* harmony import */ var _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(51701);

// @ts-ignore

// @ts-ignore

const { definePartsStyle, defineMultiStyleConfig } = (0,_chakra_ui_styled_system__WEBPACK_IMPORTED_MODULE_0__/* .createMultiStyleConfigHelpers */ .D)(_chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_1__/* .modalAnatomy */ .wl.keys);
const { definePartsStyle: switchPart, defineMultiStyleConfig: switchMultiStyle } = (0,_chakra_ui_styled_system__WEBPACK_IMPORTED_MODULE_0__/* .createMultiStyleConfigHelpers */ .D)(_chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_1__/* .switchAnatomy */ .ke.keys);
const { definePartsStyle: selectPart, defineMultiStyleConfig: selectMultiStyle } = (0,_chakra_ui_styled_system__WEBPACK_IMPORTED_MODULE_0__/* .createMultiStyleConfigHelpers */ .D)(_chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_1__/* .selectAnatomy */ .nY.keys);
// modal 弹窗
const ModalTheme = defineMultiStyleConfig({
    baseStyle: definePartsStyle({
        dialog: {}
    })
});
// 按键
const Button = (0,_chakra_ui_styled_system__WEBPACK_IMPORTED_MODULE_0__/* .defineStyleConfig */ .fj)({
    baseStyle: {
        _active: {
            transform: "scale(0.98)"
        }
    },
    sizes: {
        xs: {
            fontSize: "xs",
            px: 3,
            py: 0,
            fontWeight: "normal",
            height: "22px",
            borderRadius: "2px"
        },
        sm: {
            fontSize: "sm",
            px: 4,
            py: 0,
            fontWeight: "normal",
            height: "26px",
            borderRadius: "2px"
        },
        md: {
            fontSize: "md",
            px: 6,
            py: 0,
            height: "32px",
            fontWeight: "normal",
            borderRadius: "4px"
        },
        lg: {
            fontSize: "lg",
            px: 8,
            py: 0,
            height: "42px",
            fontWeight: "normal",
            borderRadius: "8px"
        }
    },
    variants: {
        primary: {
            backgroundImage: "linear-gradient(to bottom right, #2152d9 0%,#3370ff 40%, #4e83fd 100%) !important",
            color: "white",
            border: "none",
            _hover: {
                filter: "brightness(115%)"
            },
            _disabled: {
                bg: "#3370ff !important"
            }
        },
        base: {
            color: "myGray.900",
            border: "1px solid",
            borderColor: "myGray.200",
            bg: "transparent",
            transition: "background 0.3s",
            _hover: {
                color: "myBlue.600",
                bg: "myWhite.400"
            },
            _active: {
                color: "myBlue.700"
            },
            _disabled: {
                bg: "myGray.100 !important",
                color: "myGray.700 !important"
            }
        }
    },
    defaultProps: {
        size: "md",
        variant: "primary"
    }
});
const Input = {
    baseStyle: {},
    variants: {
        outline: {
            field: {
                backgroundColor: "transparent",
                border: "1px solid",
                borderRadius: "base",
                borderColor: "myGray.200",
                _focus: {
                    borderColor: "myBlue.600",
                    boxShadow: "0px 0px 4px #A8DBFF",
                    bg: "white"
                },
                _disabled: {
                    color: "myGray.400",
                    bg: "myWhite.300"
                }
            }
        }
    },
    defaultProps: {
        size: "md",
        variant: "outline"
    }
};
const Textarea = {
    variants: {
        outline: {
            border: "1px solid",
            borderRadius: "base",
            borderColor: "myGray.200",
            _focus: {
                borderColor: "myBlue.600",
                boxShadow: "0px 0px 4px #A8DBFF"
            }
        }
    },
    defaultProps: {
        size: "md",
        variant: "outline"
    }
};
const Switch = switchMultiStyle({
    baseStyle: switchPart({
        track: {
            bg: "myGray.100",
            _checked: {
                bg: "myBlue.700"
            }
        }
    })
});
const Select = selectMultiStyle({
    variants: {
        outline: selectPart({
            field: {
                borderColor: "myGray.100",
                _focusWithin: {
                    boxShadow: "0px 0px 4px #A8DBFF",
                    borderColor: "myBlue.600"
                }
            }
        })
    }
});
// 全局主题
const theme = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__/* .extendTheme */ .B1)({
    styles: {
        global: {
            "html, body": {
                color: "myGray.900",
                fontSize: "md",
                fontWeight: 400,
                height: "100%",
                overflow: "hidden"
            },
            a: {
                color: "myBlue.700"
            }
        }
    },
    colors: {
        myWhite: {
            100: "#FEFEFE",
            200: "#FDFDFE",
            300: "#FBFBFC",
            400: "#F8FAFB",
            500: "#F6F8F9",
            600: "#F4F6F8",
            700: "#C3C5C6",
            800: "#929495",
            900: "#626263",
            1000: "#313132"
        },
        myGray: {
            100: "#EFF0F1",
            200: "#DEE0E2",
            300: "#BDC1C5",
            400: "#9CA2A8",
            500: "#7B838B",
            600: "#5A646E",
            700: "#485058",
            800: "#363C42",
            900: "#24282C",
            1000: "#121416"
        },
        myBlue: {
            100: "#f0f7ff",
            200: "#EBF7FD",
            300: "#d6e8ff",
            400: "#adceff",
            500: "#85b1ff",
            600: "#4e83fd",
            700: "#3370ff",
            800: "#2152d9",
            900: "#1237b3",
            1000: "#07228c"
        },
        myRead: {
            600: "#ff4d4f"
        }
    },
    fonts: {
        body: '-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"'
    },
    fontSizes: {
        xs: "10px",
        sm: "12px",
        md: "14px",
        lg: "16px",
        xl: "16px",
        "2xl": "18px",
        "3xl": "20px"
    },
    borders: {
        sm: "1px solid #EFF0F1",
        base: "1px solid #DEE0E2",
        md: "1px solid #BDC1C5"
    },
    breakpoints: {
        sm: "900px",
        md: "1200px",
        lg: "1500px",
        xl: "1800px",
        "2xl": "2100px"
    },
    lgColor: {
        activeBlueGradient: "linear-gradient(to bottom right, #d6e8ff 0%, #f0f7ff 100%)",
        hoverBlueGradient: "linear-gradient(to top left, #d6e8ff 0%, #f0f7ff 100%)",
        primary: "linear-gradient(to bottom right, #2152d9 0%,#3370ff 40%, #4e83fd 100%)",
        primary2: "linear-gradient(to bottom right, #2152d9 0%,#3370ff 30%,#4e83fd 80%, #85b1ff 100%)"
    },
    components: {
        Modal: ModalTheme,
        Button,
        Input,
        Textarea,
        Switch,
        Select
    }
});


/***/ }),

/***/ 54289:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CP: () => (/* binding */ downloadAs),
/* harmony export */   K1: () => (/* binding */ getCSSVar),
/* harmony export */   Ri: () => (/* binding */ selectOrCopy),
/* harmony export */   S0: () => (/* binding */ useMobileScreen),
/* harmony export */   ez: () => (/* binding */ trimTopic),
/* harmony export */   j2: () => (/* binding */ readFromFile),
/* harmony export */   lx: () => (/* binding */ autoGrowTextArea),
/* harmony export */   vQ: () => (/* binding */ copyToClipboard)
/* harmony export */ });
/* unused harmony exports isIOS, useWindowSize, MOBILE_MAX_WIDTH, isFirefox */
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_ui_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5129);
/* harmony import */ var _locales__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32261);



function trimTopic(topic) {
    return topic.replace(/[，。！？”“"、,.!?]*$/, "");
}
async function copyToClipboard(text) {
    try {
        if (window.__TAURI__) {
            window.__TAURI__.writeText(text);
        } else {
            await navigator.clipboard.writeText(text);
        }
        (0,_components_ui_lib__WEBPACK_IMPORTED_MODULE_1__/* .showToast */ .CF)(_locales__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .ZP.Copy.Success);
    } catch (error) {
        const textArea = document.createElement("textarea");
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
            document.execCommand("copy");
            (0,_components_ui_lib__WEBPACK_IMPORTED_MODULE_1__/* .showToast */ .CF)(_locales__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .ZP.Copy.Success);
        } catch (error) {
            (0,_components_ui_lib__WEBPACK_IMPORTED_MODULE_1__/* .showToast */ .CF)(_locales__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .ZP.Copy.Failed);
        }
        document.body.removeChild(textArea);
    }
}
function downloadAs(text, filename) {
    const element = document.createElement("a");
    element.setAttribute("href", "data:text/plain;charset=utf-8," + encodeURIComponent(text));
    element.setAttribute("download", filename);
    element.style.display = "none";
    document.body.appendChild(element);
    element.click();
    document.body.removeChild(element);
}
function readFromFile() {
    return new Promise((res, rej)=>{
        const fileInput = document.createElement("input");
        fileInput.type = "file";
        fileInput.accept = "application/json";
        fileInput.onchange = (event)=>{
            const file = event.target.files[0];
            const fileReader = new FileReader();
            fileReader.onload = (e)=>{
                res(e.target.result);
            };
            fileReader.onerror = (e)=>rej(e);
            fileReader.readAsText(file);
        };
        fileInput.click();
    });
}
function isIOS() {
    const userAgent = navigator.userAgent.toLowerCase();
    return /iphone|ipad|ipod/.test(userAgent);
}
function useWindowSize() {
    const [size, setSize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({
        width: window.innerWidth,
        height: window.innerHeight
    });
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{
        const onResize = ()=>{
            setSize({
                width: window.innerWidth,
                height: window.innerHeight
            });
        };
        window.addEventListener("resize", onResize);
        return ()=>{
            window.removeEventListener("resize", onResize);
        };
    }, []);
    return size;
}
const MOBILE_MAX_WIDTH = 600;
function useMobileScreen() {
    const { width } = useWindowSize();
    return width <= MOBILE_MAX_WIDTH;
}
function isFirefox() {
    return typeof navigator !== "undefined" && /firefox/i.test(navigator.userAgent);
}
function selectOrCopy(el, content) {
    const currentSelection = window.getSelection();
    if (currentSelection?.type === "Range") {
        return false;
    }
    copyToClipboard(content);
    return true;
}
function getDomContentWidth(dom) {
    const style = window.getComputedStyle(dom);
    const paddingWidth = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);
    const width = dom.clientWidth - paddingWidth;
    return width;
}
function getOrCreateMeasureDom(id, init) {
    let dom = document.getElementById(id);
    if (!dom) {
        dom = document.createElement("span");
        dom.style.position = "absolute";
        dom.style.wordBreak = "break-word";
        dom.style.fontSize = "14px";
        dom.style.transform = "translateY(-200vh)";
        dom.style.pointerEvents = "none";
        dom.style.opacity = "0";
        dom.id = id;
        document.body.appendChild(dom);
        init?.(dom);
    }
    return dom;
}
function autoGrowTextArea(dom) {
    const measureDom = getOrCreateMeasureDom("__measure");
    const singleLineDom = getOrCreateMeasureDom("__single_measure", (dom)=>{
        dom.innerText = "TEXT_FOR_MEASURE";
    });
    const width = getDomContentWidth(dom);
    measureDom.style.width = width + "px";
    measureDom.innerText = dom.value !== "" ? dom.value : "1";
    measureDom.style.fontSize = dom.style.fontSize;
    const endWithEmptyLine = dom.value.endsWith("\n");
    const height = parseFloat(window.getComputedStyle(measureDom).height);
    const singleLineHeight = parseFloat(window.getComputedStyle(singleLineDom).height);
    const rows = Math.round(height / singleLineHeight) + (endWithEmptyLine ? 1 : 0);
    return rows;
}
function getCSSVar(varName) {
    return getComputedStyle(document.body).getPropertyValue(varName).trim();
}


/***/ }),

/***/ 21620:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ prettyObject)
/* harmony export */ });
function prettyObject(msg) {
    const obj = msg;
    if (typeof msg !== "string") {
        msg = JSON.stringify(msg, null, "  ");
    }
    if (msg === "{}") {
        return obj.toString();
    }
    if (msg.startsWith("```json")) {
        return msg;
    }
    return [
        "```json",
        msg,
        "```"
    ].join("\n");
}


/***/ }),

/***/ 96516:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   T4: () => (/* binding */ formatPrice),
/* harmony export */   V4: () => (/* binding */ formatTimeToChatTime),
/* harmony export */   Z5: () => (/* binding */ useCopyData),
/* harmony export */   iO: () => (/* binding */ Obj2Query),
/* harmony export */   ij: () => (/* binding */ createHashPassword)
/* harmony export */ });
/* unused harmony exports hasVoiceApi, voiceBroadcast, getErrText, delay */
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83689);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _hooks_useToast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(41373);
/* harmony import */ var crypto_js_sha256__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16853);
/* harmony import */ var crypto_js_sha256__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto_js_sha256__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var crypto_js_enc_base64__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29267);
/* harmony import */ var crypto_js_enc_base64__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(crypto_js_enc_base64__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14751);
/*
 * :file description: 
 * :name: /chatgpt/app/utils/index.ts
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-13 19:48:09
 * :last editor: 张德志
 * :date last edited: 2023-08-20 14:42:05
 */ 




/**
 * copy text data
 */ const useCopyData = ()=>{
    const { toast } = (0,_hooks_useToast__WEBPACK_IMPORTED_MODULE_4__/* .useToast */ .p)();
    return {
        copyData: async (data, title = "复制成功")=>{
            try {
                if (navigator.clipboard) {
                    await navigator.clipboard.writeText(data);
                } else {
                    throw new Error("");
                }
            } catch (error) {
                const textarea = document.createElement("textarea");
                textarea.value = data;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand("copy");
                document.body.removeChild(textarea);
            }
            toast({
                title,
                status: "success",
                duration: 1000
            });
        }
    };
};
/**
 * 密码加密
 */ const createHashPassword = (text)=>{
    const hash = crypto_js_sha256__WEBPACK_IMPORTED_MODULE_1___default()(text);
    return crypto_js_enc_base64__WEBPACK_IMPORTED_MODULE_2___default().stringify(hash);
};
/**
 * 对象转成 query 字符串
 */ const Obj2Query = (obj)=>{
    const queryParams = new URLSearchParams();
    for(const key in obj){
        queryParams.append(key, `${obj[key]}`);
    }
    return queryParams.toString();
};
/**
 * 格式化时间成聊天格式
 */ const formatTimeToChatTime = (time)=>{
    const now = dayjs__WEBPACK_IMPORTED_MODULE_0___default()();
    const target = dayjs__WEBPACK_IMPORTED_MODULE_0___default()(time);
    // 如果传入时间小于60秒，返回刚刚
    if (now.diff(target, "second") < 60) {
        return "刚刚";
    }
    // 如果时间是今天，展示几时:几秒
    if (now.isSame(target, "day")) {
        return target.format("HH:mm");
    }
    // 如果是昨天，展示昨天
    if (now.subtract(1, "day").isSame(target, "day")) {
        return "昨天";
    }
    // 如果是前天，展示前天
    if (now.subtract(2, "day").isSame(target, "day")) {
        return "前天";
    }
    // 如果是今年，展示某月某日
    if (now.isSame(target, "year")) {
        return target.format("M月D日");
    }
    // 如果是更久之前，展示某年某月某日
    return target.format("YYYY/M/D");
};
const hasVoiceApi =  false && 0;
/**
 * voice broadcast
 */ const voiceBroadcast = ({ text })=>{
    window.speechSynthesis?.cancel();
    const msg = new SpeechSynthesisUtterance(text);
    const voices = window.speechSynthesis?.getVoices?.(); // 获取语言包
    const voice = voices.find((item)=>{
        return item.name === "Microsoft Yaoyao - Chinese (Simplified, PRC)";
    });
    if (voice) {
        msg.voice = voice;
    }
    window.speechSynthesis?.speak(msg);
    msg.onerror = (e)=>{
        console.log(e);
    };
    return {
        cancel: ()=>window.speechSynthesis?.cancel()
    };
};
const getErrText = (err, def = "")=>{
    const msg = typeof err === "string" ? err : err?.message || def || "";
    msg && console.log("error =>", msg);
    return msg;
};
const delay = (ms)=>new Promise((resolve)=>{
        setTimeout(()=>{
            resolve("");
        }, ms);
    });
/**
 * 把数据库读取到的price，转化成元
 */ const formatPrice = (val = 0, multiple = 1)=>{
    return Number((val / _constant__WEBPACK_IMPORTED_MODULE_3__/* .PRICE_SCALE */ .rg * multiple).toFixed(10));
};


/***/ }),

/***/ 23150:
/***/ ((module) => {

// Exports
module.exports = {
	"icon-button": "button_icon-button__VwAMf",
	"primary": "button_primary__dwYZ6",
	"danger": "button_danger__aE7By",
	"shadow": "button_shadow__G4m_0",
	"border": "button_border__F3gcK",
	"icon-button-icon": "button_icon-button-icon__AMZta",
	"icon-button-text": "button_icon-button-text__my76e"
};


/***/ }),

/***/ 89641:
/***/ ((module) => {

// Exports
module.exports = {
	"container": "home_container__4PEJZ",
	"tight-container": "home_tight-container__ztaM7",
	"sidebar": "home_sidebar__fPZfq",
	"sidebar-header-bar": "home_sidebar-header-bar__SVjIN",
	"sidebar-bar-button": "home_sidebar-bar-button__zJdvw",
	"sidebar-drag": "home_sidebar-drag__G9SJI",
	"window-content": "home_window-content__2WGYf",
	"mobile": "home_mobile__Wfp_k",
	"sidebar-show": "home_sidebar-show__9bQfu",
	"sidebar-header": "home_sidebar-header___NHg_",
	"sidebar-logo": "home_sidebar-logo__Cd7hL",
	"sidebar-title": "home_sidebar-title__l3KhW",
	"slide-in": "home_slide-in__h1Bn_",
	"sidebar-sub-title": "home_sidebar-sub-title__sbT6Z",
	"sidebar-body": "home_sidebar-body__9zbei",
	"chat-item": "home_chat-item__Oblai",
	"chat-item-selected": "home_chat-item-selected__b6eBe",
	"chat-item-title": "home_chat-item-title__sRstw",
	"chat-item-delete": "home_chat-item-delete__3qV5m",
	"chat-item-info": "home_chat-item-info__9r6z_",
	"chat-item-count": "home_chat-item-count____Lpy",
	"chat-item-date": "home_chat-item-date__NOFrp",
	"narrow-sidebar": "home_narrow-sidebar__SFIXN",
	"chat-item-narrow": "home_chat-item-narrow__Kd4e0",
	"chat-item-avatar": "home_chat-item-avatar__KJu_J",
	"chat-item-narrow-count": "home_chat-item-narrow-count__B3b3g",
	"sidebar-tail": "home_sidebar-tail__T2_u7",
	"sidebar-actions": "home_sidebar-actions__LcDT9",
	"sidebar-action": "home_sidebar-action__IVfyJ",
	"loading-content": "home_loading-content__7_JjP",
	"rtl-screen": "home_rtl-screen__Pwr_6"
};


/***/ }),

/***/ 38964:
/***/ ((module) => {

// Exports
module.exports = {
	"login-page": "login_login-page__Vuefe",
	"chakra-input": "login_chakra-input__H3Riz"
};


/***/ }),

/***/ 83058:
/***/ ((module) => {

// Exports
module.exports = {
	"card": "ui-lib_card__7vhpy",
	"popover": "ui-lib_popover___HGhK",
	"popover-content": "ui-lib_popover-content__DAsxM",
	"slide-in": "ui-lib_slide-in__1VMXW",
	"popover-mask": "ui-lib_popover-mask__HfrgX",
	"list-item": "ui-lib_list-item__YH0DO",
	"list-header": "ui-lib_list-header__RwThu",
	"list-icon": "ui-lib_list-icon__HuWqu",
	"list-item-title": "ui-lib_list-item-title__Fsa9c",
	"list-item-sub-title": "ui-lib_list-item-sub-title__jSgHb",
	"list": "ui-lib_list__1KN23",
	"modal-container": "ui-lib_modal-container__V07hJ",
	"modal-container-max": "ui-lib_modal-container-max__9yDQB",
	"modal-content": "ui-lib_modal-content___F0dm",
	"modal-header": "ui-lib_modal-header__ez8kk",
	"modal-title": "ui-lib_modal-title__uDyyZ",
	"modal-header-actions": "ui-lib_modal-header-actions__sGgzm",
	"modal-header-action": "ui-lib_modal-header-action__TQHsu",
	"modal-footer": "ui-lib_modal-footer__U6Gef",
	"modal-actions": "ui-lib_modal-actions__Ag5eX",
	"modal-action": "ui-lib_modal-action__o5vae",
	"show": "ui-lib_show__Oyrs0",
	"hide": "ui-lib_hide__HRR6J",
	"toast-container": "ui-lib_toast-container__t7drF",
	"toast-content": "ui-lib_toast-content__gUAwT",
	"toast-action": "ui-lib_toast-action__fBR8E",
	"input": "ui-lib_input__5JXLJ",
	"select-with-icon": "ui-lib_select-with-icon__L6FLF",
	"select-with-icon-select": "ui-lib_select-with-icon-select__JhHwp",
	"select-with-icon-icon": "ui-lib_select-with-icon-icon__7R2_b",
	"modal-input": "ui-lib_modal-input__vxrdT",
	"selector": "ui-lib_selector__tdy57",
	"selector-content": "ui-lib_selector-content__Ucr2_",
	"slide-in-from-top": "ui-lib_slide-in-from-top__cfJKh"
};


/***/ }),

/***/ 33899:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ RootLayout),
  metadata: () => (/* binding */ metadata)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: ./app/styles/globals.scss
var globals = __webpack_require__(84668);
// EXTERNAL MODULE: ./app/styles/markdown.scss
var markdown = __webpack_require__(49862);
// EXTERNAL MODULE: ./app/styles/highlight.scss
var highlight = __webpack_require__(82528);
;// CONCATENATED MODULE: ./src-tauri/tauri.conf.json
const tauri_conf_namespaceObject = {"DR":{"i":"2.9.2"}};
;// CONCATENATED MODULE: ./app/config/build.ts

const getBuildConfig = ()=>{
    if (typeof process === "undefined") {
        throw Error("[Server Config] you are importing a nodejs-only module outside of nodejs");
    }
    const buildMode = process.env.BUILD_MODE ?? "standalone";
    const isApp = !!process.env.BUILD_APP;
    const version = "v" + tauri_conf_namespaceObject.DR.i;
    const commitInfo = (()=>{
        try {
            const childProcess = __webpack_require__(32081);
            const commitDate = childProcess.execSync('git log -1 --format="%at000" --date=unix').toString().trim();
            const commitHash = childProcess.execSync('git log --pretty=format:"%H" -n 1').toString().trim();
            return {
                commitDate,
                commitHash
            };
        } catch (e) {
            console.error("[Build Config] No git or not from git repo.");
            return {
                commitDate: "unknown",
                commitHash: "unknown"
            };
        }
    })();
    return {
        version,
        ...commitInfo,
        buildMode,
        isApp
    };
};

;// CONCATENATED MODULE: ./app/config/client.ts

function getClientConfig() {
    if (typeof document !== "undefined") {
        // client side
        return JSON.parse(queryMeta("config"));
    }
    if (typeof process !== "undefined") {
        // server side
        return getBuildConfig();
    }
}
function queryMeta(key, defaultValue) {
    let ret;
    if (document) {
        const meta = document.head.querySelector(`meta[name='${key}']`);
        ret = meta?.content ?? "";
    } else {
        ret = defaultValue ?? "";
    }
    return ret;
}

;// CONCATENATED MODULE: ./app/layout.tsx
/* eslint-disable @next/next/no-page-custom-font */ 




const { ChakraProvider, extendTheme } = __webpack_require__(60517);
const metadata = {
    title: "千知GPT",
    description: "Your personal ChatGPT Chat Bot.",
    viewport: {
        width: "device-width",
        initialScale: 1,
        maximumScale: 1
    },
    themeColor: [
        {
            media: "(prefers-color-scheme: light)",
            color: "#fafafa"
        },
        {
            media: "(prefers-color-scheme: dark)",
            color: "#151515"
        }
    ],
    appleWebApp: {
        title: "千知GPT",
        statusBarStyle: "default"
    }
};
function RootLayout({ children }) {
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("html", {
        lang: "en",
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("head", {
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("meta", {
                        name: "config",
                        content: JSON.stringify(getClientConfig())
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("link", {
                        rel: "manifest",
                        href: "/site.webmanifest"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("script", {
                        src: "/serviceWorkerRegister.js",
                        defer: true
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("body", {
                children: children
            })
        ]
    });
}


/***/ }),

/***/ 53091:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ App)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: ./node_modules/@vercel/analytics/dist/react/index.js
var react = __webpack_require__(62690);
// EXTERNAL MODULE: ./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js
var module_proxy = __webpack_require__(61363);
;// CONCATENATED MODULE: ./app/components/home.tsx

const proxy = (0,module_proxy.createProxy)(String.raw`/Users/zhangdezhi/Documents/project/chatgpt/app/components/home.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = proxy["Loading"];

const e1 = proxy["useSwitchTheme"];

const e2 = proxy["useLoadData"];

const e3 = proxy["Home"];

// EXTERNAL MODULE: ./node_modules/spark-md5/spark-md5.js
var spark_md5 = __webpack_require__(26027);
var spark_md5_default = /*#__PURE__*/__webpack_require__.n(spark_md5);
;// CONCATENATED MODULE: ./app/config/server.ts

const ACCESS_CODES = function getAccessCodes() {
    const code = process.env.CODE;
    try {
        const codes = (code?.split(",") ?? []).filter((v)=>!!v).map((v)=>spark_md5_default().hash(v.trim()));
        return new Set(codes);
    } catch (e) {
        return new Set();
    }
}();
const getServerSideConfig = ()=>{
    if (typeof process === "undefined") {
        throw Error("[Server Config] you are importing a nodejs-only module outside of nodejs");
    }
    return {
        apiKey: process.env.OPENAI_API_KEY,
        code: process.env.CODE,
        codes: ACCESS_CODES,
        needCode: ACCESS_CODES.size > 0,
        baseUrl: process.env.BASE_URL,
        proxyUrl: process.env.PROXY_URL,
        isVercel: !!process.env.VERCEL,
        hideUserApiKey: !!process.env.HIDE_USER_API_KEY,
        disableGPT4: !!process.env.DISABLE_GPT4,
        hideBalanceQuery: !!process.env.HIDE_BALANCE_QUERY
    };
};

;// CONCATENATED MODULE: ./app/page.tsx
/*
 * :file description:
 * :name: /chatgpt/app/page.tsx
 * :author: 张德志
 * :copyright: (c) 2023, Tungee
 * :date created: 2023-08-11 05:21:09
 * :last editor: 张德志
 * :date last edited: 2023-08-13 15:28:27
 */ 
__webpack_require__(73966);



const serverConfig = getServerSideConfig();
async function App() {
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(e3, {}),
            serverConfig?.isVercel && /*#__PURE__*/ jsx_runtime_.jsx(react/* Analytics */.c, {})
        ]
    });
}


/***/ }),

/***/ 73966:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
if (!Array.prototype.at) {
    Array.prototype.at = function(index) {
        // Get the length of the array
        const length = this.length;
        // Convert negative index to a positive index
        if (index < 0) {
            index = length + index;
        }
        // Return undefined if the index is out of range
        if (index < 0 || index >= length) {
            return undefined;
        }
        // Use Array.prototype.slice method to get value at the specified index
        return Array.prototype.slice.call(this, index, index + 1)[0];
    };
}



/***/ }),

/***/ 84668:
/***/ (() => {



/***/ }),

/***/ 82528:
/***/ (() => {



/***/ }),

/***/ 49862:
/***/ (() => {



/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [903], () => (__webpack_exec__(34926)));
module.exports = __webpack_exports__;

})();